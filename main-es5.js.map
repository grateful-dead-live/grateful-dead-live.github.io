{"version":3,"sources":["webpack:///src/$_lazy_route_resource lazy namespace object","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.component.ts","webpack:///src/app/app.module.ts","webpack:///src/app/auth.resolve.ts","webpack:///src/app/auth.service.ts","webpack:///src/app/comments/chatter-box.component.html","webpack:///src/app/comments/chatter-box.component.ts","webpack:///src/app/comments/comments.component.html","webpack:///src/app/comments/comments.component.ts","webpack:///src/app/config.ts","webpack:///src/app/cookie-banner/cookie-banner.component.html","webpack:///src/app/cookie-banner/cookie-banner.component.ts","webpack:///src/app/cookie-banner/privacy-policy.component.html","webpack:///src/app/cookie-banner/privacy-policy.component.ts","webpack:///src/app/profile/profile.component.html","webpack:///src/app/profile/profile.component.ts","webpack:///src/app/services/data.service.ts","webpack:///src/app/services/dead-api.service.ts","webpack:///src/app/services/dialog.service.ts","webpack:///src/app/services/google-analytics.service.ts","webpack:///src/app/services/lightbox.service.ts","webpack:///src/app/services/player.service.ts","webpack:///src/app/services/socketio.service.ts","webpack:///src/app/services/types.ts","webpack:///src/app/shared/header.component.html","webpack:///src/app/shared/header.component.ts","webpack:///src/app/shared/input-dialog.component.html","webpack:///src/app/shared/input-dialog.component.ts","webpack:///src/app/shared/list-dialog.component.html","webpack:///src/app/shared/list-dialog.component.ts","webpack:///src/app/shared/map.component.html","webpack:///src/app/shared/map.component.ts","webpack:///src/app/shared/player.component.html","webpack:///src/app/shared/player.component.ts","webpack:///src/app/shared/search-dialog.component.html","webpack:///src/app/shared/search-dialog.component.ts","webpack:///src/app/shared/sharebuttons.component.html","webpack:///src/app/shared/sharebuttons.component.ts","webpack:///src/app/shared/showmap.component.html","webpack:///src/app/shared/showmap.component.ts","webpack:///src/app/shared/shows.component.html","webpack:///src/app/shared/shows.component.ts","webpack:///src/app/shared/weather.component.html","webpack:///src/app/shared/weather.component.ts","webpack:///src/app/shared/youtube.component.html","webpack:///src/app/shared/youtube.component.ts","webpack:///src/app/views/artifacts.component.html","webpack:///src/app/views/artifacts.component.ts","webpack:///src/app/views/artist.component.html","webpack:///src/app/views/artist.component.ts","webpack:///src/app/views/index.component.html","webpack:///src/app/views/index.component.ts","webpack:///src/app/views/location.component.html","webpack:///src/app/views/location.component.ts","webpack:///src/app/views/mapselect.component.html","webpack:///src/app/views/mapselect.component.ts","webpack:///src/app/views/playlist.component.html","webpack:///src/app/views/playlist.component.ts","webpack:///src/app/views/recording.component.html","webpack:///src/app/views/recording.component.ts","webpack:///src/app/views/show.component.html","webpack:///src/app/views/show.component.ts","webpack:///src/app/views/song.component.html","webpack:///src/app/views/song.component.ts","webpack:///src/app/views/start.component.html","webpack:///src/app/views/start.component.ts","webpack:///src/app/views/venue.component.html","webpack:///src/app/views/venue.component.ts","webpack:///src/environments/environment.ts","webpack:///src/leaflet-fusesearch/src/leaflet.fusesearch.js","webpack:///src/main.ts","webpack:///ws (ignored)"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","routes","path","redirectTo","pathMatch","component","loggedIn","AppRoutingModule","AppComponent","router","auth","doc","player","socketService","currentUser","userName","userId","userProfile$","subscribe","userProfile","sub","split","gtag","events","event","urlAfterRedirects","setupSocketConnection","googleAnalytics","html","src","s","createElement","type","innerHTML","head","getElementsByTagName","appendChild","scriptHtml","replace","window","document","AppModule","APIResolver","console","log","isAuthenticated$","AuthService","auth0Client$","domain","client_id","redirect_uri","location","origin","pipe","err","client","isAuthenticated","res","handleRedirectCallback$","handleRedirectCallback","userProfileSubject$","asObservable","localAuthSetup","handleAuthCallback","options","getUser","user","next","checkAuth$","getUser$","redirectPath","url","loginWithRedirect","appState","target","params","search","includes","targetRoute","authComplete$","cbRes","navigate","logout","returnTo","ChatterBoxComponent","valueChange","onKeyupEnter","onKeyup","emitReport","emitDelete","emitRefresh","comment","userImagePath","emit","commentText","input","typedCommentTextLength","length","warn","CommentsComponent","data","dialog","changeDetectorRef","socket","heading","errorMsg","inputMaxLength","placeholderText","socketIo","newComment","payload","allComments","push","deleteComment","msgId","i","map","x","indexOf","splice","detectChanges","getComments","msgPayload","makeid","timestamp","Date","msg","getTime","toString","currentUserId","addComment","error","checkComment","formatTime","postAddComment","room","sort","a","b","Number","p","title","Boolean","d","z","n","getMonth","getDate","getYear","getHours","getMinutes","openMultiFunction","reportComment","sendCommentReport","m","startsWith","dm","openSingleFunction","postDeleteComment","result","characters","charactersLength","charAt","Math","floor","random","AUTH0DOMAIN","AUTH0CLIENTID","EMAILADDRESS","TRACKINGID","TRACKING","FRONTEND_URL","API_URL","DEBUG","SOCKETIO","CookieBannerComponent","cookieService","consent","get","showBanner","cname","cvalue","exdays","setTime","set","setCookie","PrivacyPolicyComponent","reload","ProfileComponent","route","frontend_url","snapshot","getBookmarks","getLikes","bookmarks","reverse","forEach","likes","l","getUserComments","comments","r","some","playlistid","name","deletePlaylist","playlist","storePlaylist","bookmark","deleteBookmark","delBookmark","like","unlike","ARCHIVE_URI","DataService","apiService","loading","initEvents","eventId","getEventInfos","eventIds","filter","getEventDetails","locationId","getLocation","venueId","getVenue","getVenueCoordinates","getTourCoordinates","artistId","getArtistDetails","songId","getSong","recordingId","recordings","getRecordingDetails","recording","getRecordingTracks","tracks","t","toTrack","etreeId","audio","song","songDetails","sbd","isSoundboard","getTracks","getRandomEventId","loadRandomEvent","venue","types","count","artifacts","Object","assign","eventInfo","date","performers","getEventInfo","randomEvent","getSetlist","getRandomSetlist","songs","randomSong","getRandomSong","randomRecordingEtreeId","randomAudio","correspondingEvent","uri","filename","show_id","waveform","etree_id","recording_id","song_id","track","getEvents","parseFloat","toLocaleDateString","weekday","year","month","day","objects","o","formatDate","q","getSearchResult","userid","time","addBookmark","checkBookmark","checkLike","countLikes","encodeURIComponent","JSON","stringify","addPlaylist","getPlaylists","getPlaylist","delPlaylist","msgid","recordingid","getRecordingInfo","getTracklist","showId","searchArray","getYoutubeList","getShowIndex","getVenueIndex","getLocationIndex","getSongIndex","nsp","connectSocket","DeadApiService","api_url","getJsonFromApi","audioUri","songName","skip","fetch","text","parse","getTextFromApi","cmt","searcharray","DialogService","funcs","open","func","getDialogConfig","afterClosed","items","dialogConfig","autoFocus","callback","dialogRef","width","GoogleAnalyticsService","eventName","eventCategory","eventAction","eventLabel","eventValue","event_category","event_label","event_action","value","LightboxService","lightbox","lightboxConfig","wrapAround","showZoom","carousel","lightboxa","thumbnail","image","caption","description","lightboxArray","index","thumb","PlayerService","googleAnalyticsService","maxTime","currentTime","currentTrackIndex","muted","paused","playlists","playlistsLoaded","skipToTrackAtIndex","currentAudio","play","pause","playPlaylist","reset","stop","playPause","eventEmitter","getCurrentTrack","playCurrentTrack","Audio","ontimeupdate","duration","onended","v","volume","localStorage","setItem","btoa","removeItem","getItem","atob","SocketioService","connectionOptions","observer","on","ArtifactType","HeaderComponent","sanitizer","titleService","bookmarked","liked","searchState","bypassSecurityTrustStyle","imageUrl","joinRoom","setTitle","subtitle","removePlaylistFromStorage","openDialog","position","right","top","maxHeight","searchString","click","postLike","InputDialogComponent","close","ListDialogComponent","item","MapComponent","layers","maxZoom","attribution","latitude","longitude","icon","iconSize","iconAnchor","iconUrl","zoom","center","PlayerComponent","loaded","minimized","loadPlaylistFromsStorage","getRandomTrack","addToPlaylist","clearPlaylist","deleteFromPlaylist","openInputDialog","savePlaylist","loadPlaylist","SearchDialogComponent","sortItems","k","ShareButtonsComponent","ShowMapComponent","timeOut","selectLayers","layerNames","geoJsons","mapOptions","L","tileLayer","latLng","setTimeout","venues","undefined","tours","geoJsonData","getGeoJson","tourGeoJsonData","getTourJson","all","groupLayers","addTo","currentLayer","dateSort","searchCtrl","control","fuseSearch","feature","container","props","properties","dates","DomUtil","create","indexFeatures","selectedTour","fitZoom","htmlstring","datestring","layer","popupContent","bindPopup","shows","latlongs","lat","long","searchForArray","ds","dateStrings","venuehtml","georss","geojsonFeature","g","myIcon","popupAnchor","geoJSON","onEachFeature","pointToLayer","latlng","marker","riseOnHover","lg","layerGroup","tour","venue_id","show","tourLine","removeLayer","lineDecorator","connectTheDots","group","featureGroup","eachLayer","addLayer","fitBounds","getBounds","getZoom","setZoom","c","geometry","coordinates","polyline","color","weight","polylineDecorator","patterns","offset","repeat","symbol","Symbol","arrowHead","pixelSize","polygon","pathOptions","stroke","haystack","needle","j","current","ShowsComponent","WeatherComponent","videoId","YoutubeComponent","tag","body","ArtifactsComponent","paramMap","has","getRandomArtifacts","ArtistComponent","artist","replaceUrl","IndexComponent","selected","onSelectButton","getShows","getVenues","getLocations","getSongs","locations","LocationComponent","state","videos","currentVideoId","openRecordingsDialog","MapSelectComponent","PlaylistComponent","playlistId","RecordingComponent","_array","Array","recordinginfo","tracklist","addTrackToPlaylist","toPlayerTrack","venue_name","location_name","ShowComponent","recordingUrls","bypassSecurityTrustResourceUrl","photos","Photo","poster","Poster","pass","Pass","ticket","Ticket","eventImage","gl","makeGallery","photosLightbox","currentPhoto","artifactsLightbox","currentArtifact","idx","addRecordingToPlaylist","recordingEtreeId","addRecordingTrackToPlaylist","openLightboxArray","SongComponent","composedBy","concat","lyricsBy","join","firstPlayed","lastPlayed","timesPlayed","totalRecordings","StartComponent","email","VenueComponent","environment","production","prototype","fun","len","TypeError","thisp","arguments","call","Control","FuseSearch","extend","Evented","panelTitle","placeholder","caseSensitive","threshold","maxResultLength","showResultFct","showInvisibleFeatures","shouldSort","initialize","setOptions","_panelOnLeftSide","onAdd","ctrl","_createControl","_createPanel","_setEventListeners","invalidateSize","onRemove","hidePanel","_clearEventListeners","_clearPanel","_clearControl","className","butt","_openButton","href","DomEvent","stopPropagation","preventDefault","showPanel","off","_this","mapContainer","getContainer","pane","_panel","addClass","header","_input","maxLength","onkeyup","evt","currentTarget","searchFeatures","_closeButton","_resultList","removeChild","that","_map","addEventListener","removeEventListener","isPanelVisible","hasClass","panBy","getOffset","fire","select","removeClass","offsetWidth","jsonFeatures","features","_keys","_feature","_fuseIndex","Fuse","string","listItems","querySelectorAll","remove","resultList","querySelector","num","max","popup","_getFeaturePopupIfVisible","createResultItem","refresh","hasLayer","getPopup","resultItem","onclick","matchMedia","matches","openPopup","_panAndPopup","str","oldPadding","autoPanPaddingTopLeft","newPadding","Point","autoPanPaddingBottomRight"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ShowComponent } from './views/show.component';\nimport { LocationComponent } from './views/location.component';\nimport { VenueComponent } from './views/venue.component';\nimport { SongComponent } from './views/song.component';\nimport { RecordingComponent } from './views/recording.component';\nimport { ArtistComponent } from './views/artist.component';\nimport { ArtifactsComponent } from './views/artifacts.component';\nimport { MapSelectComponent } from './views/mapselect.component';\nimport { StartComponent } from './views/start.component';\nimport { ProfileComponent } from './profile/profile.component';\nimport { APIResolver } from './auth.resolve';\nimport { CommentsComponent } from './comments/comments.component';\nimport { PrivacyPolicyComponent } from './cookie-banner/privacy-policy.component';\nimport { PlaylistComponent } from './views/playlist.component';\nimport { IndexComponent } from './views/index.component';\n\nconst routes: Routes = [\n  { path: '', redirectTo: '/mapselect', pathMatch: 'full' },\n  //{ path: '', component: MapSelectComponent, resolve: { loggedIn: APIResolver} },\n  { path: 'show', component: ShowComponent },\n  { path: 'show/:id', component: ShowComponent },\n  { path: 'location', component: LocationComponent },\n  { path: 'location/:id', component: LocationComponent },\n  { path: 'venue', component: VenueComponent },\n  { path: 'venue/:id', component: VenueComponent },\n  { path: 'song', component: SongComponent },\n  { path: 'song/:id', component: SongComponent },\n  { path: 'recording', component: RecordingComponent },\n  { path: 'recording/:id', component: RecordingComponent },\n  { path: 'artist', component: ArtistComponent },\n  { path: 'artist/:id', component: ArtistComponent },\n  { path: 'artifacts', component: ArtifactsComponent },\n  { path: 'artifacts/:types', component: ArtifactsComponent },\n  { path: 'mapselect', component: MapSelectComponent },\n  { path: 'about', component: StartComponent },\n  { path: 'profile', component: ProfileComponent, resolve: { loggedIn: APIResolver} },\n  { path: 'comments', component: CommentsComponent },\n  { path: 'dataprivacy', component: PrivacyPolicyComponent },\n  { path: 'playlist/:id', component: PlaylistComponent },\n  { path: 'index', component: IndexComponent }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","<div fxLayout=\"column\" fxFlexFill>\n  <div fxFlex><router-outlet></router-outlet>\n  </div>\n  <!--<footer *ngIf=\"!start\"><gd-player></gd-player></footer>-->\n  <footer>\n    <gd-player></gd-player>\n    <app-cookie-banner></app-cookie-banner>\n  </footer>\n</div>\n","import { Component, Inject } from '@angular/core';\nimport { Router, NavigationEnd } from '@angular/router';\nimport { AuthService } from './auth.service';\nimport { TRACKINGID, TRACKING, SOCKETIO } from './config';\nimport { DOCUMENT } from '@angular/common';\nimport { PlayerService } from './services/player.service';\nimport { SocketioService } from './services/socketio.service';\n\ndeclare let gtag: Function;\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.sass']\n})\n\n\nexport class AppComponent {\n  //protected start: Boolean;\n  //private cookieValue: string;\n  protected currentUser: any = { userName: '', userId: '' };\n\n  constructor(public router:Router, public auth: AuthService, @Inject(DOCUMENT) private doc: any, private player: PlayerService,\n    private socketService: SocketioService) {\n    //router.events.forEach((event) => {\n    //  if (router.url.includes('/about')) {  \n    //    this.start = true; \n    //  } else {\n    //    this.start = false; \n    //  }\n    //});\n\n    this.auth.userProfile$.subscribe(userProfile => {\n      if (userProfile){\n        this.currentUser = {\n          userId: userProfile.sub.split(\"|\")[1],\n          userName: userProfile['http://example.com/username']\n        }\n        gtag('set', {'user_id': this.currentUser.userId});\n      }\n    });\n    \n    this.router.events.subscribe(event => {\n      if(event instanceof NavigationEnd && TRACKING){\n          gtag('config', TRACKINGID, \n                {\n                  'page_path': event.urlAfterRedirects\n                }\n               );\n       }\n    }); \n\n\n  }\n\n  public ngOnInit() {\n    if (SOCKETIO) this.socketService.setupSocketConnection();\n    this.googleAnalytics();\n  }\n\n\n  private scriptHtml(html, src){\n    const s = this.doc.createElement('script');\n    s.type = 'text/javascript';\n    if (src) s.src = src;\n    if (html) s.innerHTML = html;\n    const head = this.doc.getElementsByTagName('head')[0];\n    head.appendChild(s);\n  }\n\n\n  private googleAnalytics() {\n    this.scriptHtml(`\n      // Set to the same value as the web property used on the site\n      var gaProperty = \"` + TRACKINGID + `\";\n  \n      // Disable tracking if the opt-out cookie exists.\n      var disableStr = 'ga-disable-' + gaProperty;\n  \n      // if (document.cookie.indexOf(disableStr + '=true') > -1) {\n      if (document.cookie.indexOf('gd-cookieconsent=') < 0) {\n        //alert('revoke!');\n        window[disableStr] = true;\n      }\n  \n      // Opt-in function\n      function gaOptIn() {\n        var oneYearFromNow = new Date();\n        oneYearFromNow.setFullYear(oneYearFromNow.getFullYear() + 1);\n        document.cookie = 'gd-cookieconsent=allow; expires=\"' + oneYearFromNow.toGMTString() + '\"';\n        \n        window[disableStr] = false;\n        //document.getElementById(\"cookiebanner\").remove();\n        window.location.reload()\n      }\n  \n      // Opt-out function\n      function gaOptOut() {\n        document.cookie = 'gd-cookieconsent=; expires = Thu, 01 Jan 1970 00:00:00 GMT';\n        document.cookie = '_ga=; expires = Thu, 01 Jan 1970 00:00:00 GMT';\n        document.cookie = '_gid=; expires = Thu, 01 Jan 1970 00:00:00 GMT';\n        document.cookie = '_gat_gtag_` + TRACKINGID.replace(/-/g, '_') + `=; expires = Thu, 01 Jan 1970 00:00:00 GMT';\n        window[disableStr] = true;\n        window.location.reload()\n      }\n    `, null);\n\n    // <!-- Global site tag (gtag.js) - Google Analytics -->\n    this.scriptHtml(null, 'https://www.googletagmanager.com/gtag/js');\n    this.scriptHtml( `\n      window.dataLayer = window.dataLayer || [];\n      function gtag(){dataLayer.push(arguments);}\n      gtag('js', new Date());\n    `, null)\n    this.scriptHtml(null, 'https://cdn.auth0.com/js/lock/11.23.1/lock.min.js');\n\n  }\n\n\n}\n","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { FormsModule } from '@angular/forms';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { MatSliderModule } from '@angular/material/slider';\nimport { MatMenuModule } from '@angular/material/menu';\n\nimport { LazyLoadImageModule } from 'ng-lazyload-image';\nimport { LeafletModule } from '@asymmetrik/ngx-leaflet';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { ShowComponent } from './views/show.component';\nimport { LocationComponent } from './views/location.component';\nimport { VenueComponent } from './views/venue.component';\nimport { SongComponent } from './views/song.component';\nimport { RecordingComponent } from './views/recording.component';\nimport { ArtistComponent } from './views/artist.component';\nimport { ArtifactsComponent } from './views/artifacts.component';\nimport { MapSelectComponent} from './views/mapselect.component';\nimport { StartComponent} from './views/start.component';\nimport { IndexComponent } from './views/index.component';\n\nimport { HeaderComponent } from './shared/header.component';\nimport { MapComponent } from './shared/map.component';\nimport { WeatherComponent } from './shared/weather.component';\nimport { ShowsComponent } from './shared/shows.component';\nimport { PlayerComponent } from './shared/player.component';\nimport { ListDialogComponent } from './shared/list-dialog.component';\nimport { SearchDialogComponent } from './shared/search-dialog.component';\nimport { ShowMapComponent } from './shared/showmap.component';\n\nimport { DeadApiService } from './services/dead-api.service';\nimport { DataService } from './services/data.service';\nimport { PlayerService } from './services/player.service';\nimport { DialogService } from './services/dialog.service';\n\nimport { HashLocationStrategy, LocationStrategy } from '@angular/common';\n\nimport { CookieService } from 'ngx-cookie-service';\n//import { ButtonDirective } from './button.directive';\nimport { ProfileComponent } from './profile/profile.component';\n\nimport { APIResolver } from './auth.resolve';\n//import { ChatterBoxModule } from './chatter-box';\nimport { CommentsComponent } from './comments/comments.component';\nimport { InputDialogComponent } from './shared/input-dialog.component';\nimport { CookieBannerComponent } from './cookie-banner/cookie-banner.component';\nimport { PrivacyPolicyComponent } from './cookie-banner/privacy-policy.component';\nimport {GoogleAnalyticsService} from './services/google-analytics.service';\n\nimport { ShareButtonsComponent } from './shared/sharebuttons.component';\nimport { ShareButtonsModule } from 'ngx-sharebuttons/buttons';\nimport { ShareIconsModule } from 'ngx-sharebuttons/icons';\n\nimport { ChatterBoxComponent } from './comments/chatter-box.component';\nimport { PlaylistComponent } from './views/playlist.component';\nimport { YouTubePlayerModule } from '@angular/youtube-player';\nimport { YoutubeComponent } from './shared/youtube.component';\n\nimport { NgSelectModule } from '@ng-select/ng-select';\nimport { Ng2CarouselamosModule } from 'ng2-carouselamos';\nimport { LightboxModule } from 'ngx-lightbox';\nimport { LightboxService } from './services/lightbox.service';\nimport { SocketioService } from './services/socketio.service';\n\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    ShowComponent,\n    LocationComponent,\n    VenueComponent,\n    SongComponent,\n    RecordingComponent,\n    ArtistComponent,\n    ArtifactsComponent,\n    HeaderComponent,\n    MapComponent,\n    WeatherComponent,\n    ShowsComponent,\n    PlayerComponent,\n    ListDialogComponent,\n    SearchDialogComponent,\n    ShowMapComponent,\n    MapSelectComponent,\n    StartComponent,\n    //ButtonDirective,\n    ProfileComponent,\n    CommentsComponent,\n    InputDialogComponent,\n    CookieBannerComponent,\n    PrivacyPolicyComponent,\n    ShareButtonsComponent,\n    ChatterBoxComponent,\n    PlaylistComponent,\n    YoutubeComponent,\n    IndexComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    FlexLayoutModule,\n    FormsModule,\n    BrowserAnimationsModule,\n    MatDialogModule,\n    MatButtonModule,\n    MatIconModule,\n    MatMenuModule,\n    LazyLoadImageModule,\n    LeafletModule.forRoot(),\n    MatSliderModule,\n    MatProgressSpinnerModule,\n    //ChatterBoxModule,\n    ShareButtonsModule,\n    ShareIconsModule,\n    YouTubePlayerModule,\n    NgSelectModule,\n    Ng2CarouselamosModule,\n    LightboxModule\n  ],\n  providers: [\n    DeadApiService,\n    DataService,\n    PlayerService,\n    DialogService,\n    {provide: LocationStrategy, useClass: HashLocationStrategy},\n    CookieService,\n    APIResolver,\n    {\n      provide: 'window',\n      useValue: window,\n    },\n    {\n      provide: 'document',\n      useValue: document,\n    },\n    GoogleAnalyticsService,\n    LightboxService,\n    SocketioService\n  ],\n  bootstrap: [AppComponent],\n  entryComponents: [ListDialogComponent, SearchDialogComponent, InputDialogComponent], \n  schemas: [ CUSTOM_ELEMENTS_SCHEMA ]\n})\nexport class AppModule { }\n","import { Injectable } from '@angular/core';\nimport { Resolve } from '@angular/router';\nimport { AuthService } from './auth.service';\nimport { Observable } from 'rxjs';\n\n@Injectable()\nexport class APIResolver implements Resolve<any> {\n  constructor(private auth: AuthService) {}\n\n  resolve(): Observable<boolean> {\n    console.log('resolve');\n    return this.auth.isAuthenticated$;\n    }\n\n\n  getUser(loggedIn) {\n    return {\n      userId: loggedIn.sub.split(\"|\")[1],\n      userName: loggedIn['http://example.com/username']\n    }\n  }\n\n}","import { Injectable } from '@angular/core';\nimport createAuth0Client from '@auth0/auth0-spa-js';\nimport Auth0Client from '@auth0/auth0-spa-js/dist/typings/Auth0Client';\nimport { from, of, Observable, BehaviorSubject, combineLatest, throwError } from 'rxjs';\nimport { tap, catchError, concatMap, shareReplay } from 'rxjs/operators';\nimport { Router } from '@angular/router';\nimport { AUTH0DOMAIN, AUTH0CLIENTID} from './config';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n  // Create an observable of Auth0 instance of client\n  auth0Client$ = (from(\n    createAuth0Client({\n      domain: AUTH0DOMAIN,\n      client_id: AUTH0CLIENTID,\n\n\n      redirect_uri: `${window.location.origin}`\n    })\n  ) as Observable<Auth0Client>).pipe(\n    shareReplay(1), // Every subscription receives the same shared value\n    catchError(err => throwError(err))\n  );\n  // Define observables for SDK methods that return promises by default\n  // For each Auth0 SDK method, first ensure the client instance is ready\n  // concatMap: Using the client instance, call SDK method; SDK returns a promise\n  // from: Convert that resulting promise into an observable\n  isAuthenticated$ = this.auth0Client$.pipe(\n    concatMap((client: Auth0Client) => from(client.isAuthenticated())),\n    tap(res => this.loggedIn = res)\n  );\n  handleRedirectCallback$ = this.auth0Client$.pipe(\n    concatMap((client: Auth0Client) => from(client.handleRedirectCallback()))\n  );\n  // Create subject and public observable of user profile data\n  private userProfileSubject$ = new BehaviorSubject<any>(null);\n  userProfile$ = this.userProfileSubject$.asObservable();\n  // Create a local property for login status\n  loggedIn: boolean = null;\n\n  constructor(private router: Router) {\n    // On initial load, check authentication state with authorization server\n    // Set up local auth streams if user is already authenticated\n    this.localAuthSetup();\n    // Handle redirect from Auth0 login\n    this.handleAuthCallback();\n  }\n\n  // When calling, options can be passed if desired\n  // https://auth0.github.io/auth0-spa-js/classes/auth0client.html#getuser\n  getUser$(options?): Observable<any> {\n    return this.auth0Client$.pipe(\n      concatMap((client: Auth0Client) => from(client.getUser(options))),\n      tap(user => this.userProfileSubject$.next(user))\n    );\n  }\n\n  private localAuthSetup() {\n    // This should only be called on app initialization\n    // Set up local authentication streams\n    const checkAuth$ = this.isAuthenticated$.pipe(\n      concatMap((loggedIn: boolean) => {\n        if (loggedIn) {\n          // If authenticated, get user and set in app\n          // NOTE: you could pass options here if needed\n          return this.getUser$();\n        }\n        // If not authenticated, return stream that emits 'false'\n        return of(loggedIn);\n      })\n    );\n    checkAuth$.subscribe();\n  }\n\n  login(redirectPath: string = this.router.url) {\n    // A desired redirect path can be passed to login method\n    // (e.g., from a route guard)\n    // Ensure Auth0 client instance exists\n    this.auth0Client$.subscribe((client: Auth0Client) => {\n      // Call method to log in\n      client.loginWithRedirect({\n        redirect_uri: `${window.location.origin}`,\n        appState: { target: redirectPath }\n      });\n    });\n  }\n\n  private handleAuthCallback() {\n    // Call when app reloads after user logs in with Auth0\n    const params = window.location.search;\n    if (params.includes('code=') && params.includes('state=')) {\n      let targetRoute: string; // Path to redirect to after login processsed\n      const authComplete$ = this.handleRedirectCallback$.pipe(\n        // Have client, now call method to handle auth callback redirect\n        tap(cbRes => {\n          // Get and set target redirect route from callback results\n          targetRoute = cbRes.appState && cbRes.appState.target ? cbRes.appState.target : this.router.url;\n        }),\n        concatMap(() => {\n          // Redirect callback complete; get user and login status\n          return combineLatest([\n            this.getUser$(),\n            this.isAuthenticated$\n          ]);\n        })\n      );\n      // Subscribe to authentication completion observable\n      // Response will be an array of user and login status\n      authComplete$.subscribe(([user, loggedIn]) => {\n        // Redirect to target route after callback processing\n        this.router.navigate([targetRoute]);\n      });\n    }\n  }\n\n  logout() {\n    // Ensure Auth0 client instance exists\n    this.auth0Client$.subscribe((client: Auth0Client) => {\n      // Call method to log out\n      client.logout({\n        client_id: AUTH0CLIENTID,\n        returnTo: `${window.location.origin}`\n      });\n    });\n  }\n\n}","<!-- based on iam_vishalkhare-chatter-box -->\n\n<div class=\"vis-chat-window\">\n    <div class=\"vis-chat-window-header\">\n\n    <!-- <img *ngIf=\"headerImage !== null && headerImage !== undefined\"\n                            [src]=\"headerImage\"\n                            alt=\"user\"\n                            class=\"user-image\"/> -->\n\n        <div class=\"vis-chat-window-header-text\">\n            Comments <!--{{heading}}-->\n        </div>\n    </div>\n    <div class=\"vis-chat-window-body\" #scrollMe [scrollTop]=\"scrollMe.scrollHeight\">\n        <div class=\"error-div\" *ngIf=\"showErrorDiv\">\n            {{errorMsg}}\n        </div>\n        <div *ngIf=\"!showErrorDiv\">\n            <div *ngFor=\"let comment of allComments\">\n              <div [ngClass]=\"(comment.userId !== null && comment.userId !== undefined) ? ((comment.userId == currentUserId) ? 'comment-currentUser' : 'comment') :'comment'\">\n\n                <!-- <div class=\"col-2\">\n                    <img *ngIf=\"!showImageOrDiv(comment)\"\n                            src=\"{{comment.userImagePath}}\"\n                            alt=\"user\"\n                            class=\"user-image\"\n                    />\n                    <div *ngIf=\"showImageOrDiv(comment)\" class=\"user-image color-gray\">\n                      {{comment.userName[0]}}\n                    </div>\n                </div> -->\n\n                <div class=\"comment-bubble col-10\" [ngClass]=\"(comment.userId !== null && comment.userId !== undefined) ? ((comment.userId == currentUserId) ? 'comment-bubble-currentUser col-10' : 'comment-bubble col-10') :'comment-bubble col-10'\">\n                    <div [ngClass]=\"(comment.userId !== null && comment.userId !== undefined) ? ((comment.userId == currentUserId) ? 'user-name' : 'user-name color-gray') :'user-name color-gray'\">\n                        {{comment.userName}}\n                    </div>\n                    <div [ngClass]=\"(comment.userId !== null && comment.userId !== undefined) ? ((comment.userId == currentUserId) ? 'user-comment' : 'user-comment color-gray') :'user-comment color-gray'\">\n                        {{comment.msg}}\n                    </div>\n                    <div [ngClass]=\"(comment.userId !== null && comment.userId !== undefined) ? ((comment.userId == currentUserId) ? 'timestamp' : 'timestamp color-gray') :'timestamp color-gray'\">\n                        {{comment.timestamp}} \n                        <button *ngIf=\"comment.userId == currentUserId\" (click)=\"onDeleteButton(comment)\">delete</button>\n                        <button *ngIf=\"comment.userId != currentUserId\"(click)=\"onReportButton(comment)\">report</button>\n                    </div>\n                    \n                </div>\n              </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"vis-chat-window-footer\">\n        <div>\n          <textarea *ngIf=\"currentUserId\" id=\"vis-comment-textField\" placeholder=\"{{placeholderText}}\"\n                [(ngModel)]=\"commentText\"\n                (keyup)=\"onKeyUp(commentText)\"\n                maxlength=\"{{inputMaxLength}}\"></textarea>\n          <button *ngIf=\"currentUserId\" type=\"button\" (click)=\"addComment(commentText)\">send</button> \n          <button *ngIf=\"!socketIo\" style=\"float: right; margin-right: 16px;\" (click)=\"onRefreshButton()\">refresh</button>\n        </div>\n        <div *ngIf=\"currentUserId\" class=\"character-count\">\n            {{typedCommentTextLength}} / {{inputMaxLength}} characters\n        </div>\n        \n    </div>\n  </div>","import { EventEmitter, Component, Input, Output } from '@angular/core';\nimport { isUndefined } from 'util';\nimport { CommentPayload } from '../services/types'\n\n\n@Component({\n    selector: 'gd-chatterbox',\n    templateUrl: './chatter-box.component.html',\n    styleUrls: ['./chatter-box.component.css']\n  })\n\n\n  export class ChatterBoxComponent {\n    constructor() {}\n\n    @Input() heading: string;\n    @Input() headerImage: string;\n    @Input() showErrorDiv: string;\n    @Input() errorMsg: string;\n    @Input() allComments: CommentPayload[];\n    @Input() inputMaxLength: number;\n    @Input() placeholderText: string;\n    @Input() currentUserId: string;\n    @Input() socketIo: boolean;\n\n    @Output() valueChange = new EventEmitter();\n    @Output() onKeyupEnter = new EventEmitter();\n    @Output() onKeyup = new EventEmitter();\n    @Output() emitReport = new EventEmitter();\n    @Output() emitDelete = new EventEmitter();\n    @Output() emitRefresh = new EventEmitter();\n\n    public typedCommentTextLength: number;\n    public commentText: string;\n\n\n\n\n    ngOnInit() { }\n\n    protected showImageOrDiv(comment){\n        return isUndefined(comment.userImagePath);\n    }\n\n    addComment(comment){\n        this.onKeyupEnter.emit(comment);\n        this.commentText = '';\n    }\n\n    onKeyUp(input){\n        this.onKeyup.emit(input);\n        this.typedCommentTextLength = input.length;\n    }\n\n    protected onDeleteButton(input){\n        this.emitDelete.emit(input);\n    }\n\n    onRefreshButton(){\n        this.emitRefresh.emit();\n    }\n\n    protected onReportButton(input){\n        this.emitReport.emit(input);\n    }\n\n  }","\n<div  style=\"height: auto; width: auto;\">\n  <gd-chatterbox *ngIf='heading != \"\"'\n      [heading]=heading\n      [headerImage]=headerImage\n      [allComments]=allComments\n      [inputMaxLength]=1000\n      [currentUserId]=currentUserId\n      [showErrorDiv]=showErrorDiv\n      [errorMsg]=errorMsg\n      [placeholderText]=placeholderText\n      (onKeyupEnter)=sendMessage($event)\n      (emitReport)=onReportComment($event)\n      (emitDelete)=onDeleteComment($event)\n      (emitRefresh)=getComments()\n      [socketIo] = socketIo\n  >\n  </gd-chatterbox>\n\n  <gd-chatterbox *ngIf='heading == \"\"'\n      heading=\"\"\n      [headerImage]=headerImage\n      [allComments]=allComments\n      [inputMaxLength]=0\n      [showErrorDiv]=showErrorDiv\n      [errorMsg]=errorMsg\n      placeholderText=\"please log in to comment\"\n  >\n  </gd-chatterbox>\n</div>\n\n\n\n","import { Component, OnInit, Input, ChangeDetectorRef } from '@angular/core';\nimport { CommentPayload } from '../services/types';\nimport { Router } from '@angular/router';\nimport { DataService } from '../services/data.service';\nimport { DialogService } from '../services/dialog.service';\nimport { SocketioService } from '../services/socketio.service';\nimport { DEBUG, SOCKETIO } from '../config';\n\nconsole.log = function(s){\n  if (DEBUG) {\n    console.warn(s);\n  }; \n};\n\n@Component({\n  selector: 'gd-comments',\n  templateUrl: './comments.component.html',\n  styleUrls: ['./comments.component.sass']\n})\nexport class CommentsComponent implements OnInit {\n  constructor(private data: DataService, private router: Router,  private dialog: DialogService, private changeDetectorRef: ChangeDetectorRef,\n      private socket: SocketioService ) { }\n\n  @Input() title: string;\n  @Input() userName: string;\n  @Input() heading = 'comments';\n  //headerImage  =  '../assets/logo.png';\n  showErrorDiv:  boolean;\n  errorMsg = 'This is an error';\n  inputMaxLength = 100;\n  placeholderText=  'Write a comment!';\n  @Input() currentUserId: string;\n  allComments:  Array<CommentPayload>;\n  socketIo = SOCKETIO;\n\n\n  ngOnInit() { \n    if (SOCKETIO) {\n      this.socket.newComment().subscribe((payload: any) => {\n        console.log('add comment');\n        this.allComments.push(payload);\n        }, err => {\n          console.log(err);\n      });\n\n      this.socket.deleteComment().subscribe((msgId: any) => {\n        const i = this.allComments.map(x => x.msgId).indexOf(msgId);\n        if (i > -1) {\n          this.allComments.splice(i, 1);\n          this.changeDetectorRef.detectChanges();\n        }\n      }, err => {\n        console.log(err);\n      });\n    }\n   this.getComments();\n  }\n\n  async sendMessage(msgPayload:  string) {\n      // Constructing a desired object of type CommentPayload to be added to allComments\n      if (msgPayload){\n        //var msgId = Math.floor(1000000000000000 + Math.random() * 9000000000000000);\n        var msgId = this.makeid()\n        var timestamp = new Date;\n        const  payload  = {\n            msgId:  msgId,\n            msg:  msgPayload,\n            timestamp:  timestamp.getTime().toString(),\n            userName:  this.userName,\n            userId: this.currentUserId\n        };\n        try {\n          await this.addComment(payload);\n      } catch (e) {\n          console.error(e);\n      } \n      if (await this.checkComment(msgId)){\n        payload.timestamp = this.formatTime(timestamp);\n        this.allComments.push(payload);\n        //this.socket.postComment({ room: this.router.url, comment: msgPayload });\n        //this.socket.postComment(this.router.url);\n        if (SOCKETIO) this.socket.postAddComment({ room: this.router.url, payload: payload });\n      }\n    }\n  }\n      \n  onKeyUp(msgPayload:  string) {\n      //console.log(msgPayload);  // doesn't work\n  }\n\n  async getComments(){\n    var res =  await this.data.getComments(this.router.url);\n    if (res != []){\n      res.sort(function(a, b) { return a.timestamp - b.timestamp });\n      for (var i in res) {\n        res[i].timestamp = this.formatTime(new Date(Number(res[i].timestamp)));\n      }\n      this.allComments = res;\n    } else {\n      this.allComments = [];\n    }\n    this.changeDetectorRef.detectChanges();\n  }\n\n  async addComment(p){\n    //let sp = this.socket.postComment('test');\n    await this.data.addComment(p, this.router.url, this.currentUserId, this.title);\n  }\n\n  async checkComment(msgId) {\n    //console.log(msgId)\n    var b = Boolean(Number(await this.data.checkComment(msgId)));\n    //console.log(b);\n    return b\n  }\n\n  formatTime(d) {\n    function z(n){return (n<10?'0':'')+n}\n    return z(d.getMonth()+1) + '-' + z(d.getDate()) + '-' + (d.getYear()+1900) + ' ' +  d.getHours() + ':' + z(d.getMinutes());\n  }\n\n  protected onReportComment(msg) {\n    this.dialog.openMultiFunction(\n      \"Are you sure you want to report this message?\",\n      [\"yes\", \"no\"],\n      [() => this.reportComment(msg), \n        () => null]\n    );\n  }\n\n  protected onDeleteComment(msgId) {\n    this.dialog.openMultiFunction(\n      \"Are you sure you want to delete this message?\",\n      [\"yes\", \"no\"],\n      [() => this.deleteComment(msgId), \n        () => null]\n    );\n  }\n\n  async reportComment(msg) {\n    var m = await this.data.sendCommentReport(msg, this.currentUserId);\n    if (m.startsWith('250')) {\n      var dm = 'Report sent';\n    } else {\n      var dm = 'Error sending report';\n    }\n    this.dialog.openSingleFunction( dm, [\"ok\"], () => null );\n  }\n\n  async deleteComment(msg) {\n    //console.log(msg.msgId)\n    var d = await this.data.deleteComment(msg.msgId, this.currentUserId);\n    if (!(await this.checkComment(msg.msgId))){\n      console.log('comment '+msg.msgId+' deleted');\n      //const i = this.allComments.indexOf(msg);\n      const i = this.allComments.map(x => x.msgId).indexOf(msg.msgId);\n      if (i > -1) {\n        this.allComments.splice(i, 1);\n        this.changeDetectorRef.detectChanges();\n        if (SOCKETIO) this.socket.postDeleteComment({ room: this.router.url, msgId: msg.msgId });\n      }\n    }\n  }\n\n  private makeid() {\n    var result           = '';\n    var characters       = 'abcdef0123456789';\n    var charactersLength = characters.length;\n    for ( var i = 0; i < 24; i++ ) {\n       result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n    return result;\n }\n   \n}\n","export const AUTH0DOMAIN = 'gdconcertexplorer.eu.auth0.com';\nexport const AUTH0CLIENTID = 'MgqjkApiGjSzMcFwjzUiyoNJK6z8iWEb';\nexport const EMAILADDRESS = 'gdconcertexplorer@gmail.com';\nexport const TRACKINGID = 'UA-165369751-1';\nexport const TRACKING = false;\n//export const API_URL = 'http://localhost:8060/';\n//export const API_URL = 'http://c4dm.eecs.qmul.ac.uk/dead/';\n//export const API_URL = 'http://25.86.166.144:8060/';\n//export const API_URL = 'https://grateful-dead-api.herokuapp.com/';\n//export const FRONTEND_URL = 'http://localhost:4200/';\nexport const FRONTEND_URL = 'https://grateful-dead-live.github.io/';\n//export const API_URL = 'https://cors-anywhere.herokuapp.com/http://82.5.176.6:8080/'\n//export const API_URL = 'https://cors-anywhere.herokuapp.com/http://82.5.176.6:8080/'\n//export const API_URL = 'https://cors-anywhere.herokuapp.com/http://138.37.95.164/api/'\n//export const API_URL = 'https://cors-anywhere.herokuapp.com/http://c4dm-xenserv-virt6.eecs.qmul.ac.uk/api/'\nexport const API_URL = 'https://c4dm.eecs.qmul.ac.uk/dead/'\n//export const API_URL = 'https://cors-anywhere.herokuapp.com/http://dead.ddnsfree.com:8080/'\nexport const DEBUG = false;\nexport const SOCKETIO = false;","<div *ngIf=\"showBanner\" class=\"banner\" id=\"cookiebanner\">\n  <p>\n    For continuous improvement of user experience this website uses  cookies for collecting your IP address and individual statistics.\n    See our <a routerLink=\"/dataprivacy\">data protection guideline</a> for further information and opt-out.\n    By clicking OK you agree to share your data. \n  </p>\n\n  <!--button (click)=\"agreeToShare()\">OK</button-->\n  <button onclick=\"gaOptIn()\">Agree</button>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { CookieService } from 'ngx-cookie-service'; // https://itnext.io/angular-8-how-to-use-cookies-14ab3f2e93fc\n\n@Component({\n  selector: 'app-cookie-banner',\n  templateUrl: './cookie-banner.component.html',\n  styleUrls: ['./cookie-banner.component.sass']\n})\nexport class CookieBannerComponent implements OnInit {\n\npublic constructor(private cookieService: CookieService) { //, @Inject('window')  private window) {\n}\n\npublic showBanner: Boolean;\n\npublic ngOnInit() {\n  const consent = this.cookieService.get('gd-cookieconsent')\n  if (consent == 'allow') {\n    this.showBanner = false;\n  } else {\n    this.showBanner = true;\n  }\n}\n\n  private setCookie(cname, cvalue, exdays) {\n    const d = new Date();\n    d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));\n    this.cookieService.set(cname, cvalue, d, '/');\n  }\n\n  public agreeToShare() {\n    this.setCookie('gd-cookieconsent', 'allow', 365);\n    //this.window.location.reload();\n  }\n\n}\n","\n<div>\n <gd-header title=\"Privacy Policy\" subtitle=\"\">\n</gd-header>\n    <div>\n        Privacy Policy\n    </div>\n    <!--button (click)=\"agreeToShare()\">Agree</button-->\n    <!--button (click)=\"removeCookie()\">Revoke</button-->\n    <br>\n    <button onclick=\"gaOptIn()\">Agree</button>\n    <button onclick=\"gaOptOut()\">Revoke</button>\n\n</div>","import { Component, OnInit, Inject } from '@angular/core';\nimport { CookieService } from 'ngx-cookie-service'; \nimport { TRACKINGID } from '../config'\n\n@Component({\n  selector: 'privacy-policy',\n  templateUrl: './privacy-policy.component.html',\n  styleUrls: ['./privacy-policy.component.sass']\n})\nexport class PrivacyPolicyComponent implements OnInit {\n\n  public constructor(private cookieService: CookieService,\n              @Inject('window') private window) {\n  }\n\n  public showBanner: Boolean;\n\n\n  public ngOnInit() {\n  }\n\n  public removeCookie() {\n      this.cookieService.delete('gd-cookieconsent');\n      this.cookieService.delete('_ga');\n      this.cookieService.delete('_gid');\n      this.cookieService.delete('_gat_gtag_' + TRACKINGID.replace(/-/g, '_'));\n      this.window.location.reload();\n  }\n\n  private setCookie(cname, cvalue, exdays) {\n    const d = new Date();\n    d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));\n    this.cookieService.set(cname, cvalue, d);\n  }\n\n  public agreeToShare() {\n    this.setCookie('gd-cookieconsent', 'allow', 365);\n    this.window.location.reload();\n  }\n\n\n}\n","\n<!--<div *ngIf=\"auth.userProfile$ | async as profile\">\n<gd-header title='Profile' subtitle='{{ profile[\"http://example.com/username\"]}}'></gd-header>-->\n<div *ngIf=\"currentUser\">\n  <gd-header title='Profile' subtitle='{{ currentUser.userName }}' userId='{{ currentUser.userId }}'></gd-header>\n  <br><b>User Info</b><br>\n  <!--pre>\n    <code>{{ userProfile | json }}</code>\n  </pre-->\n\n  <i>{{'Username:  '}} </i>{{ userProfile['http://example.com/username'] }}\n  <br><i>{{'Email:  '}} </i> {{ userProfile.email }}\n\n\n  <br><br><b>Bookmarks</b><br>\n  <div *ngIf=\"!bookmarks\" [style.margin-top]=\"'8px'\" [style.margin-right]=\"'5px'\">\n    <mat-spinner diameter=\"30\"></mat-spinner>\n  </div>\n  <div *ngIf=\"bookmarks\">\n      <div *ngFor=\"let b of bookmarks\">\n            {{b.timestamp}} <u class=\"field\" style=\"cursor:pointer\" [routerLink]=\"b.route\">{{ b.title }}</u>\n            <button mat-icon-button (click)=\"onDeleteBookmark(b)\"><mat-icon>clear</mat-icon></button>  \n      </div>\n  </div>\n\n  <br><b>Likes</b><br>\n  <div *ngIf=\"!likes || likes.length==0\" [style.margin-top]=\"'8px'\" [style.margin-right]=\"'5px'\">\n    <mat-spinner diameter=\"30\"></mat-spinner>\n  </div>\n\n  <div *ngIf=\"likes\">\n      <div *ngFor=\"let l of likes\">\n          {{l.timestamp}} <u class=\"field\" style=\"cursor:pointer\" [routerLink]=\"l.route\">{{ l.title }}</u>\n          <button mat-icon-button (click)=\"onUnlike(l)\"><mat-icon>clear</mat-icon></button>  \n      </div>\n  </div>\n\n  <br><b>Commented on</b><br>\n  <div *ngIf=\"!comments\" [style.margin-top]=\"'8px'\" [style.margin-right]=\"'5px'\">\n    <mat-spinner diameter=\"30\"></mat-spinner>\n  </div>\n  <div *ngIf=\"comments\"> \n    <div *ngFor=\"let c of comments\">\n      <u class=\"field\" style=\"cursor:pointer\" [routerLink]=\"c.route\">{{ c.title }}</u>\n    </div>\n  </div>\n\n  <br><b>Playlists</b><br>\n  \n  <div *ngIf=\"player.playlists\">\n    <div *ngIf=\"!player.playlistsLoaded\" [style.margin-top]=\"'8px'\" [style.margin-right]=\"'5px'\">\n      <mat-spinner diameter=\"30\"></mat-spinner>\n    </div>\n    <div *ngFor=\"let p of player.playlists\">\n      <div> {{ p.timestamp }} \"{{ p.name }}\"\n        <button mat-icon-button (click)=\"loadPlaylist(p.playlist)\"><mat-icon>library_music</mat-icon></button> \n        <button mat-icon-button (click)=\"delPlaylist(p.id, p.name)\"><mat-icon>clear</mat-icon></button>   \n        \n      </div>\n      <div *ngFor=\"let t of p.playlist; index as i\">\n        <small>{{i+1}}. {{ t.title }}</small>\n      </div>\n      <share-buttons [theme]=\"'default'\"\n        [include]=\"['facebook','twitter','pinterest','reddit','tumblr','mix','copy']\"\n        url = \"{{frontend_url + '#/playlist/' + p.id}}\"\n        [show]=\"7\"\n        [size]=\"-7\"\n        [title]=\"'Grateful Dead Concert Explorer Playlist'\"\n        [tags]=\"'GratefulDeadExplorer,GratefulDead,playlist'\"\n        >\n      </share-buttons>\n    <br>\n    </div>\n  </div>\n</div>\n\n<div *ngIf=\"!currentUser\">\n  <gd-header title='Profile'></gd-header>\n  <pre>you are not logged in</pre>\n</div>\n\n<p [style.margin-bottom]=\"'75px'\"></p>\n\n\n\n\n","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from '../auth.service';\nimport { DataService } from '../services/data.service';\nimport { APIResolver } from '../auth.resolve';\nimport { ActivatedRoute } from '@angular/router';\nimport { DialogService } from '../services/dialog.service';\nimport { PlayerService } from '../services/player.service';\nimport { FRONTEND_URL, DEBUG } from '../config';\n\nconsole.log = function(s){\n  if (DEBUG) {\n    console.warn(s);\n  }; \n};\n\ndeclare let gtag: Function;\n\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.component.html',\n  styleUrls: ['./profile.component.sass']\n})\nexport class ProfileComponent implements OnInit {\n  constructor(public auth: AuthService, private data: DataService, public resolve: APIResolver, private route: ActivatedRoute,\n    private dialog: DialogService, private player: PlayerService) { \n\n      \n    }\n\n  public currentUser: any;\n  //protected authenticated: boolean;\n  protected userProfile: any;\n  protected bookmarks: any;\n  protected likes: any;\n  protected comments: any;\n  public frontend_url = FRONTEND_URL;\n  //public domain = DOMAIN;\n  //protected playlists: any;\n    \n\n  ngOnInit() {  \n    if (this.route.snapshot.data['loggedIn']) {\n      this.auth.userProfile$.subscribe(userProfile => {\n        this.userProfile = userProfile;\n        this.currentUser = this.resolve.getUser(userProfile);\n        gtag('set', {'user_id': this.currentUser.userId});\n        this.getBookmarks();\n        this.getLikes();\n        this.getComments();\n      });\n    }\n\n    /*\n    if (this.currentUser){\n      this.getBookmarks();\n        this.getComments();\n        this.getPlaylists();\n    }\n    */\n\n/*\n    if (this.authenticated == true) {\n      this.auth.userProfile$.subscribe(userProfile => {\n        this.currentUser = userProfile;\n        this.userId = this.currentUser.sub.split(\"|\")[1];\n        this.userName = this.currentUser['http://example.com/username'];\n      });\n    console.log(this.userId)\n    }*/\n  }\n\n  async getBookmarks(){\n    var result = await this.data.getBookmarks(this.currentUser.userId);\n    if (result[0].bookmarks) {\n      var m = result[0].bookmarks;\n      m.sort(function(a, b) { return a.timestamp - b.timestamp }).reverse();\n      m.forEach(i => i.timestamp = this.formatTime(new Date(Number(i.timestamp))));\n      this.bookmarks = m;\n    };\n  }\n\n  async getLikes(){\n    var result = await this.data.getLikes(this.currentUser.userId);\n    if (result[0].likes) {\n      var l = result[0].likes;\n      l.sort(function(a, b) { return a.timestamp - b.timestamp }).reverse();\n      l.forEach(i => i.timestamp = this.formatTime(new Date(Number(i.timestamp))));\n      this.likes = l;\n    };\n  }\n\n\n  async getComments(){\n    var result = await this.data.getUserComments(this.currentUser.userId);\n    if (result[0].comments) {\n      var res = [];\n      result[0].comments.forEach(r => {\n        if (!(res.some(res => res.title === r.title) && res.some(res => res.route === r.route))){\n          res.push({'title': r.title, 'route': r.route});\n        }        \n      })\n      this.comments = res;\n      //this.comments = result[0].comments;\n    };\n  }\n\n  formatTime(d) {\n    function z(n){return (n<10?'0':'')+n}\n    return z(d.getMonth()+1) + '-' + z(d.getDate()) + '-' + (d.getYear()+1900) + ' ' +  d.getHours() + ':' + z(d.getMinutes());\n  }\n\n  delPlaylist(playlistid, name) {\n    this.dialog.openMultiFunction(\n      'Are you sure you want to delete playlist \"' + name + '\"?',\n      [\"yes\", \"no\"],\n      [async () => {\n        await this.player.deletePlaylist(this.currentUser.userId, playlistid);\n      },\n        () => null]\n    );\n  } \n\n  loadPlaylist(playlist) {\n    this.dialog.openMultiFunction(\n      'Your current playlist will be lost',\n      [\"ok\", \"cancel\"],\n      [() => { \n        this.player.playlist = [...playlist];\n        this.player.storePlaylist();\n      },\n        () => {}]\n    );\n    \n  }\n\n  protected onDeleteBookmark(bookmark) {\n    this.dialog.openMultiFunction(\n      \"Are you sure you want to delete this bookmark?\",\n      [\"yes\", \"no\"],\n      [() => this.deleteBookmark(bookmark), \n        () => null]\n    );\n  }\n\n  async deleteBookmark(bookmark){\n    await this.data.delBookmark(this.currentUser.userId, bookmark.route);\n    this.getBookmarks();\n  }\n\n  protected onUnlike(like) {\n    this.dialog.openMultiFunction(\n      \"Are you sure you want to unlike?\",\n      [\"yes\", \"no\"],\n      [() => this.unlike(like), \n        () => null]\n    );\n  }\n\n  async unlike(like){\n    await this.data.unlike(this.currentUser.userId, like.route);\n    this.getLikes();\n  }\n\n\n}","import * as _ from 'lodash';\nimport { Injectable } from '@angular/core';\nimport { DeadApiService } from './dead-api.service';\nimport { DeadEventInfo, DeadEventDetails, SongInfo, SongDetails, AudioTrack,\n  Location, Venue, VenueDetails, ArtifactType, Artifact, Set, Recording,\n  RecordingDetails } from './types';\nimport { Track } from './player.service';\nimport { DEBUG } from '../config';\n\nconsole.log = function(s){\n  if (DEBUG) {\n    console.warn(s);\n  }; \n};\n\nconst ARCHIVE_URI = 'https://archive.org/download/';\n\nexport interface EventArtifact extends Artifact {\n  eventInfo: string\n}\n\n@Injectable()\nexport class DataService {\n\n  private loading: Promise<any>;\n  private events: DeadEventInfo[];\n  public event: DeadEventDetails;\n\n  constructor(private apiService: DeadApiService) {\n    this.loading = this.initEvents();\n  }\n  \n  async getEventInfo(eventId: string) {\n    return (await this.getEventInfos([eventId]))[0];\n  }\n  \n  async getEventInfos(eventIds: string[]) {\n    if (eventIds) {\n      await this.loading;\n      return this.events.filter(e => eventIds.indexOf(e.id) >= 0);\n    }\n  }\n  \n  async getEventDetails(eventId: string) {\n    this.event = await this.apiService.getEventDetails(eventId);\n    return this.event;\n  }\n  \n  async getLocation(locationId: string) {\n    return await this.apiService.getLocation(locationId);\n  }\n  \n  async getVenue(venueId: string) {\n    return await this.apiService.getVenue(venueId);\n  }\n  \n  async getVenueCoordinates(): Promise<VenueDetails[]> {\n    return this.apiService.getVenueCoordinates();\n  }\n\n  async getTourCoordinates(): Promise<VenueDetails[]> {\n    return this.apiService.getTourCoordinates();\n  }\n  \n  async getArtistDetails(artistId: string) {\n    return this.apiService.getArtistDetails(artistId);\n  }\n  \n  async getSong(songId: string): Promise<SongDetails> {\n    return this.apiService.getSong(songId);\n  }\n  \n  async getEventInfoForRecording(recordingId: string): Promise<DeadEventInfo> {\n    await this.loading;\n    return this.events.filter(e => e.recordings.some(r => r.id === recordingId))[0];\n  }\n  \n  async getRecording(recordingId: string) {\n    return this.apiService.getRecordingDetails(recordingId);\n  }\n  \n  async getRecordingTracks(recording: Recording, event: DeadEventInfo): Promise<Track[]> {\n    const tracks = await this.apiService.getRecordingTracks(recording.id);\n    return tracks.map(t => this.toTrack(event, recording.etreeId, t, recording.id, t.id)); \n  }\n  \n  async getTrackFromAudio(audio: AudioTrack, event: DeadEventInfo, etreeId: string) {\n    return this.toTrack(event, etreeId, audio, event.id, audio.id);  \n  }\n  \n  async getTrack(song: SongInfo, event: DeadEventInfo, etreeId?: string, recordingId?: string) {\n    const songDetails = await this.apiService.getSong(song.id);\n    if (!etreeId) {\n      const sbd = event.recordings.filter(r => r.isSoundboard);\n      var e = sbd.length ? sbd[0] : _.sample(event.recordings);\n      etreeId = e.etreeId;\n      recordingId = e.id;\n    } \n    return this.getTracks(songDetails, event, etreeId, recordingId)[0];\n  }\n  \n  getTracks(song: SongDetails, event: DeadEventInfo, etreeId: string, recordingId: string): Track[] {\n    return song.audio && song.audio[etreeId] ?\n      song.audio[etreeId].map(a => this.toTrack(event, etreeId, a, recordingId, song.id)) : [];\n  }\n  \n  async loadRandomEvent(): Promise<DeadEventDetails> {\n    return (await this.getEventDetails(await this.getRandomEventId()));\n  }\n  \n  async getRandomEventId(): Promise<string> {\n    await this.loading;\n    return this.events[Math.floor(Math.random()*this.events.length)].id;\n  }\n  \n  async getRandomVenue(): Promise<Venue> {\n    return (await this.loadRandomEvent()).venue;\n  }\n  \n  async getRandomLocation(): Promise<Location> {\n    return (await this.loadRandomEvent()).location;\n  }\n  \n  async getRandomArtifacts(types?: ArtifactType[], count = 20): Promise<EventArtifact[]> {\n    await this.loading;\n    let artifacts = _.flatten(this.events.map(e => e.artifacts.map(a =>\n      Object.assign(a, {eventInfo: e.venue + \", \" + e.location + \", \" + e.date}))));\n    if (types) {\n      artifacts = artifacts.filter(a => types.indexOf(a.type) >= 0);\n    }\n    return _.sampleSize(artifacts, count);\n  }\n  \n  async getRandomArtistId(): Promise<string> {\n    await this.loading;\n    return _.sample(this.event.performers).id;\n  }\n  \n  async getRandomRecording(): Promise<RecordingDetails> {\n    const randomEvent = await this.getEventInfo(await this.getRandomEventId());\n    return this.apiService.getRecordingDetails(_.sample(randomEvent.recordings).id);\n  }\n  \n  async getRandomSetlist(): Promise<Set[]> {\n    return this.apiService.getSetlist(await this.getRandomEventId());\n  }\n  \n  async getRandomSong(): Promise<SongDetails> {\n    const randomSong = _.sample(_.sample(await this.getRandomSetlist()).songs);\n    console.log(randomSong)\n    return this.apiService.getSong(randomSong.id);\n  }\n  \n  async getRandomTrack(): Promise<Track> {\n    const randomSong = await this.getRandomSong();\n   \n    const randomRecordingEtreeId = _.sample(_.keys(randomSong.audio));\n    const randomAudio = _.sample(randomSong.audio[randomRecordingEtreeId]);\n    const correspondingEvent = this.events.filter(e =>\n      e.recordings.map(r => r.etreeId).indexOf(randomRecordingEtreeId) >= 0)[0];\n    return this.toTrack(correspondingEvent, randomRecordingEtreeId, randomAudio, '', randomSong.id);  // TODO: fix recordingId\n  }\n  \n  private toTrack(event: DeadEventInfo, etreeId: string, audio: AudioTrack, recordingId: string, songId: string): Track {\n    const uri = ARCHIVE_URI+etreeId+'/'+audio.filename;\n    return {\n      title: audio.title + \", \" + event.venue + \", \"\n        + event.location + \", \" + event.date,\n      uri: uri,\n      show_id: event.id,\n      waveform: uri.replace('.mp3', '.png'),\n      etree_id: etreeId,\n      recording_id: recordingId,\n      song_id: songId,\n      track: audio.track\n    };\n  }\n  \n  private async initEvents() {\n    this.events = await this.apiService.getEvents();\n    this.events.sort((a, b) => parseFloat(a.date.replace(/-/g, ''))\n      - parseFloat(b.date.replace(/-/g, '')));\n  }\n  \n  formatDate(date: string) {\n    return new Date(date).toLocaleDateString(\"en-US\",\n      { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });\n  }\n\n  formatDates(objects: {date: string}[]) {\n    objects.forEach(o => o.date = this.formatDate(o.date));\n  }\n\n  async getSearchResult(q: string): Promise<any> {\n    return this.apiService.getSearchResult(q);\n  }\n\n  async addBookmark(userid: string, route: string, time: number, title: string): Promise<any> {\n    return this.apiService.addBookmark(userid, route, time, title);\n  }\n\n  async delBookmark(userid: string, route: string): Promise<any> {\n    return this.apiService.delBookmark(userid, route);\n  }\n\n  async getBookmarks(userid: string): Promise<any> {\n    return this.apiService.getBookmarks(userid);\n  }\n\n  async checkBookmark(userid: string, route: string): Promise<any> {\n    return this.apiService.checkBookmark(userid, route);\n  }\n  \n  async like(userid: string, route: string, time: number, title: string): Promise<any> {\n    return this.apiService.like(userid, route, time, title);\n  }\n\n  async unlike(userid: string, route: string): Promise<any> {\n    return this.apiService.unlike(userid, route);\n  }\n\n  async checkLike(userid: string, route: string): Promise<any> {\n    return this.apiService.checkLike(userid, route);\n  }\n\n  async countLikes(route: string): Promise<any> {\n    return this.apiService.countLikes(route);\n  }\n  \n  async getLikes(userid: string): Promise<any> {\n    return this.apiService.getLikes(userid);\n  }\n\n  async getComments(route: string): Promise<any> {\n    return this.apiService.getComments(route);\n  }\n\n  async addComment(comment: any, route: string, userid: string, title: string): Promise<any> {\n    return this.apiService.addComment(comment, route, userid, title);\n  }\n\n  async checkComment(msgId: string): Promise<any> {\n    return this.apiService.checkComment(msgId);\n  }\n\n  async getUserComments(userid: string): Promise<any> {\n    return this.apiService.getUserComments(userid);\n  }\n\n  async sendCommentReport(msg: any, userid: string): Promise<any> {\n    const comment = encodeURIComponent(JSON.stringify(msg));\n    return this.apiService.sendCommentReport(comment, userid);\n  }\n\n  async addPlaylist(name: string, playlist: Track[], playlistid: string, userid: string, time: number): Promise<any> {\n    const p = encodeURIComponent(JSON.stringify(playlist));\n    return this.apiService.addPlaylist(name, p, playlistid, userid, time);\n  }\n\n  async getPlaylists(userid: string): Promise<any> {\n    return this.apiService.getPlaylists(userid);\n  }\n\n  async getPlaylist(playlistid: string): Promise<any> {\n    return this.apiService.getPlaylist(playlistid);\n  }\n\n  async delPlaylist(userid: string, playlistid: string): Promise<any> {\n    return this.apiService.delPlaylist(userid, playlistid);\n  }\n\n  async deleteComment(msgid: string, userid: string): Promise<any> {\n    return this.apiService.deleteComment(msgid, userid);\n  }\n\n  async getRecordingInfo(recordingid: string){\n    return this.apiService.getRecordingInfo(recordingid);\n  }\n\n  async getTracklist(recordingid: string){\n    return this.apiService.getTracklist(recordingid);\n  }\n\n  toPlayerTrack(venue: string, location: string, date: string, showId: string, etreeId: string, \n                        audio: AudioTrack, recordingId: string): Track {\n    const uri = ARCHIVE_URI+etreeId+'/'+audio.filename;\n    return {\n      title: audio.title + \", \" + venue + \", \"\n        + location + \", \" + date,\n      uri: uri,\n      show_id: showId,\n      waveform: uri.replace('.mp3', '.png'),\n      etree_id: etreeId,\n      recording_id: recordingId,\n      song_id: audio.id,\n      track: audio.track\n    };\n  }\n\n  async getYoutubeList(id: string, searchArray: string[]){\n    return this.apiService.getYoutubeList(id, searchArray);\n  }\n\n  async getShowIndex(){\n    return this.apiService.getShowIndex();\n  }\n\n  async getVenueIndex(){\n    return this.apiService.getVenueIndex();\n  }\n\n  async getLocationIndex(){\n    return this.apiService.getLocationIndex();\n  }\n\n  async getSongIndex(){\n    return this.apiService.getSongIndex();\n  }\n\n  connectSocket(nsp: string){\n    this.apiService.connectSocket(nsp);\n  }\n\n}","import { Injectable } from '@angular/core';\r\nimport { SafeResourceUrl } from '@angular/platform-browser';\r\nimport { DeadEventInfo, DeadEventDetails, Location, Venue, Set,\r\n  SongDetails, ArtistDetails, VenueDetails, RecordingDetails, AudioTrack } from './types';\r\nimport { API_URL, DEBUG } from '../config';\r\n\r\nconsole.log = function(s){\r\n  if (DEBUG) {\r\n    console.warn(s);\r\n  }; \r\n};\r\n\r\n\r\nexport interface Recording {\r\n  id: string,\r\n  url: SafeResourceUrl\r\n}\r\n\r\n@Injectable()\r\nexport class DeadApiService {\r\n\r\n  //private API_URL = \"https://grateful-dead-api.herokuapp.com/\";\r\n  //private API_URL = \"http://localhost:8060/\";\r\n  private api_url = API_URL;\r\n\r\n  constructor() {}\r\n\r\n  async getEvents(): Promise<DeadEventInfo[]> {\r\n    return this.getJsonFromApi('events');\r\n  }\r\n\r\n  async getVenueCoordinates(): Promise<VenueDetails[]> {\r\n    return this.getJsonFromApi('coordinates');\r\n  }\r\n\r\n  async getTourCoordinates(): Promise<any> {\r\n    return this.getJsonFromApi('tours');\r\n  }\r\n\r\n  async getEventDetails(eventId: string): Promise<DeadEventDetails> {\r\n    return this.getJsonFromApi('details?event='+encodeURIComponent(eventId))\r\n  }\r\n  \r\n  getLocation(locationId: string): Promise<Location> {\r\n    return this.getJsonFromApi('location?id='+encodeURIComponent(locationId));\r\n  }\r\n  \r\n  getVenue(venueId: string): Promise<Venue> {\r\n    return this.getJsonFromApi('venue?id='+encodeURIComponent(venueId));\r\n  }\r\n  \r\n  getSetlist(eventId: string): Promise<Set[]> {\r\n    return this.getJsonFromApi('setlist?event='+encodeURIComponent(eventId));\r\n  }\r\n  \r\n  getSong(songId: string): Promise<SongDetails> {\r\n    return this.getJsonFromApi('song?id='+encodeURIComponent(songId));\r\n  }\r\n  \r\n  getRecordingDetails(recordingId: string): Promise<RecordingDetails> {\r\n    return this.getJsonFromApi('recording?id='+encodeURIComponent(recordingId));\r\n  }\r\n  \r\n  getRecordingTracks(recordingId: string): Promise<AudioTrack[]> {\r\n    return this.getJsonFromApi('tracks?id='+encodeURIComponent(recordingId));\r\n  }\r\n\r\n  getRecordingId(eventId: string): Promise<any> {\r\n    return this.getJsonFromApi('recordingid?id='+encodeURIComponent(eventId));\r\n  }\r\n  \r\n  getArtistDetails(artistId: string): Promise<ArtistDetails> {\r\n    return this.getJsonFromApi('artist?id='+encodeURIComponent(artistId));\r\n  }\r\n\r\n  getFeatureSummary(audioUri: string): Promise<{}> {\r\n    return this.getJsonFromApi('featuresummary?audiouri='+encodeURIComponent(audioUri));\r\n  }\r\n\r\n  getDiachronicVersionsAudio(songName: string, count = 100, skip = 0): Promise<string[]> {\r\n    return this.getJsonFromApi('diachronic?songname='+encodeURIComponent(songName)\r\n      +\"&count=\"+count+\"&skip=\"+skip);\r\n  }\r\n\r\n  async getJsonFromApi(path: string): Promise<any> {\r\n    return fetch(this.api_url+path)\r\n      .then(r => r.text())\r\n      .then(t => JSON.parse(t))\r\n      .catch(e => console.log(e));\r\n  }\r\n\r\n  async getTextFromApi(path: string): Promise<any> {\r\n    return fetch(this.api_url+path)\r\n      .then(r => r.text())\r\n      .catch(e => console.log(e));\r\n  }\r\n\r\n  async getSearchResult(q: string): Promise<any> {\r\n    return this.getJsonFromApi('search?q='+encodeURIComponent(q));\r\n  }\r\n\r\n  async addBookmark(userid: string, route: string, time: number, title: string): Promise<any> {\r\n    return this.getTextFromApi('addBookmark?userid='+userid+'&route='+route+'&time='+time+'&title='+title);\r\n  }\r\n\r\n  async delBookmark(userid: string, route: string): Promise<any> {\r\n    return this.getTextFromApi('delBookmark?userid='+userid+'&route='+route);\r\n  }\r\n\r\n  async getBookmarks(userid: string): Promise<any> {\r\n    return this.getJsonFromApi('getBookmarks?userid='+userid);\r\n  }\r\n\r\n  async checkBookmark(userid: string, route: string): Promise<any> {\r\n    return this.getTextFromApi('checkBookmark?userid='+userid+'&route='+route);\r\n  }\r\n\r\n  async getComments(route: string): Promise<any> {\r\n    return this.getJsonFromApi('getComments?route='+route);\r\n  }\r\n\r\n\r\n\r\n  async like(userid: string, route: string, time: number, title: string): Promise<any> {\r\n    return this.getTextFromApi('like?userid='+userid+'&route='+route+'&time='+time+'&title='+title);\r\n  }\r\n\r\n  async unlike(userid: string, route: string): Promise<any> {\r\n    return this.getTextFromApi('unlike?userid='+userid+'&route='+route);\r\n  }\r\n\r\n  async checkLike(userid: string, route: string): Promise<any> {\r\n    return this.getTextFromApi('checkLike?userid='+userid+'&route='+route);\r\n  }\r\n\r\n  async countLikes(route: string): Promise<any> {\r\n    return this.getTextFromApi('countLikes?route='+route);\r\n  }\r\n\r\n  async getLikes(userid: string): Promise<any> {\r\n    return this.getJsonFromApi('getLikes?userid='+userid);\r\n  }\r\n  \r\n\r\n\r\n\r\n  async addComment(comment: any, route: string, userid: string, title: string): Promise<any> {\r\n    const cmt = encodeURIComponent(JSON.stringify(comment));\r\n    return this.getTextFromApi('addComment?comment='+cmt+'&route='+route+'&userid='+userid+'&title='+title);\r\n  }\r\n\r\n  async checkComment(msgId: string): Promise<any> {\r\n    return this.getJsonFromApi('checkComment?msgId='+msgId);\r\n  }\r\n\r\n  async getUserComments(userid: string): Promise<any> {\r\n    return this.getJsonFromApi('getUserComments?userid='+userid);\r\n  }\r\n\r\n  async sendCommentReport(comment: string, userid: string): Promise<any> {\r\n    return this.getTextFromApi('sendCommentReport?comment='+comment+'&userid='+userid);\r\n  }\r\n\r\n  async addPlaylist(name: string, playlist: string, playlistid: string, userid: string, time: number): Promise<any> {\r\n    return this.getTextFromApi('addPlaylist?name='+name+'&playlist='+playlist+'&playlistid='+playlistid+'&userid='+userid+'&time='+time);\r\n  }\r\n\r\n  async getPlaylists(userid: string): Promise<any> {\r\n    return this.getJsonFromApi('getPlaylists?userid='+userid);\r\n  }\r\n\r\n  async getPlaylist(playlistid: string): Promise<any> {\r\n    return this.getJsonFromApi('getPlaylist?playlistid='+playlistid);\r\n  }\r\n\r\n  async delPlaylist(userid: string, playlistid: string): Promise<any> {\r\n    return this.getTextFromApi('delPlaylist?userid='+userid+'&playlistid='+playlistid);\r\n  }\r\n\r\n  async deleteComment(msgid: string, userid: string): Promise<any> {\r\n    return this.getTextFromApi('deleteComment?msgid='+msgid+'&userid='+userid);\r\n  }\r\n\r\n  async getRecordingInfo(recordingid: string): Promise<any> {\r\n    return this.getJsonFromApi('getRecordingInfo?recordingid='+recordingid);\r\n  }\r\n\r\n  async getTracklist(recordingid: string): Promise<any> {\r\n    return this.getJsonFromApi('getTracklist?recordingid='+recordingid);\r\n  }\r\n\r\n  async getYoutubeList(id: string, searcharray: string[]): Promise<any> {\r\n    const s = encodeURIComponent(JSON.stringify(searcharray));\r\n    return this.getJsonFromApi('youtube?id='+id+'&searcharray='+s);\r\n  }\r\n\r\n  async getShowIndex(): Promise<any> {   // TODO: define type\r\n    return this.getJsonFromApi('showindex');\r\n  }\r\n\r\n  async getVenueIndex(): Promise<any> {   // TODO: define type\r\n    return this.getJsonFromApi('venueindex');\r\n  }\r\n\r\n  async getLocationIndex(): Promise<any> {   // TODO: define type\r\n    return this.getJsonFromApi('locationindex');\r\n  }\r\n\r\n  async getSongIndex(): Promise<any> {   // TODO: define type\r\n    return this.getJsonFromApi('songindex');\r\n  }\r\n\r\n  connectSocket(nsp: string) {\r\n    fetch(API_URL+'socket')\r\n\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { MatDialog, MatDialogConfig } from '@angular/material/dialog';\nimport { ListDialogComponent } from '../shared/list-dialog.component';\nimport { InputDialogComponent } from '../shared/input-dialog.component';\nimport { DataService } from '../services/data.service';\n\n@Injectable()\nexport class DialogService {\n  constructor(private dialog: MatDialog, private data: DataService) {}\n  \n  async openMultiFunction(title: string, options: string[], funcs: Function[]) {\n    this.open(title, options).subscribe(result => {\n     if (result) {funcs[options.indexOf(result)]() }\n  });\n  }\n  \n  async openSingleFunction(title: string, options: string[], func: (s: string) => any) {\n    this.open(title, options).subscribe(result => func(result));\n  }\n  \n  private open(title: string, options: string[]) {\n    return this.dialog.open(ListDialogComponent,\n      this.getDialogConfig(title, options)).afterClosed();\n  }\n  \n  private getDialogConfig(title: string, items: string[]) {\n    const dialogConfig = new MatDialogConfig();\n    dialogConfig.autoFocus = true;\n    dialogConfig.data = { title: title, items: items };\n    return dialogConfig;\n  }\n\n  \n  async openInputDialog(callback) {\n    const dialogRef = this.dialog.open(InputDialogComponent, {\n      width: '250px',\n      data: {input: ''}\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      callback(result);\n    });\n  }\n\n\n\n}","import { Injectable } from '@angular/core';\nimport { TRACKING } from '../config';\n\ndeclare let gtag:Function;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GoogleAnalyticsService {\n  constructor() { }\n\n  public eventEmitter(eventName: string, eventCategory: string, eventAction: string, eventLabel: string = null, eventValue: number = null ){ \n    if (TRACKING){\n      gtag('event', eventName, { \n              event_category: eventCategory, \n              event_label: eventLabel, \n              event_action: eventAction, \n              value: eventValue\n            })\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Lightbox, LightboxConfig } from 'ngx-lightbox';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LightboxService {\n\n  constructor(private lightbox: Lightbox, private lightboxConfig: LightboxConfig) {\n    lightboxConfig.wrapAround = true;\n    lightboxConfig.showZoom = true;  \n   }\n\n  makeGallery(a) {\n    var carousel = [];\n    var lightboxa = [];\n    a.forEach(function (value, i){\n      var t = value;\n      t['index'] = i;\n      if (!value.thumbnail) t['thumbnail'] = t.image;\n      carousel.push(t);\n      lightboxa.push({\n        src: value.image,\n        caption: value.description\n      });\n    });\n    return [lightboxa, carousel];\n  }\n\n  openLightboxArray(lightboxArray, index: number): void {\n    this.lightbox.open(lightboxArray, index);\n  }\n\n  openLightBoxSingle(a): void {\n    this.lightbox.open([{ src: a.image, caption: a.description, thumb: '' }], 0)\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport{GoogleAnalyticsService} from './google-analytics.service';\nimport { DataService } from '../services/data.service';\nimport { DialogService } from '../services/dialog.service';\nimport { DEBUG } from '../config';\n\nconsole.log = function(s){\n  if (DEBUG) {\n    console.warn(s);\n  }; \n};\n\nexport interface Track {\n  title: string,\n  uri: string,\n  waveform: string,\n  show_id: string,\n  etree_id: string,\n  recording_id: string,\n  song_id: string,\n  track: string\n}\n\n@Injectable()\nexport class PlayerService {\n  \n  public maxTime: number = 0;\n  public currentTime: number = 0;\n  private currentAudio: HTMLAudioElement;\n  public playlist: Track[] = [];\n  private currentTrackIndex = 0;\n  public muted = false;\n  public paused = true;\n  public playlists = [];\n  public playlistsLoaded = false;\n  \n  constructor(protected googleAnalyticsService: GoogleAnalyticsService, private data: DataService, private dialog: DialogService) {}\n  \n  addToPlaylist(track: Track) {\n    if (this.playlist.length < 100) {\n      this.playlist.push(track);\n      this.storePlaylist();\n    }\n    else {\n      this.dialog.openSingleFunction( 'Playlist is limited to 100 tracks.', [\"ok\"], () => null );\n    }\n  }\n\n  deleteFromPlaylist(i){\n    this.playlist.splice(i, 1);\n    this.storePlaylist();\n  }\n\n  clearPlaylist(){\n    this.playlist = [];\n    this.storePlaylist();\n  }\n  \n  getCurrentTrack() {\n    return this.playlist[this.currentTrackIndex]\n      || {title:\"\", uri:\"\", waveform:\"\"};\n  }\n  \n  skipToTrack(track: Track) {\n    this.skipToTrackAtIndex(this.playlist.indexOf(track));\n  }\n\n\n/*\n    eventName: string, \n    eventCategory: string, \n    eventAction: string, \n    eventLabel: string = null,  \n    eventValue: number = null ){ \n      */\n\n\n  playPause() {\n    if (this.playlist.length > 0){\n      if (this.currentAudio) {\n        if (this.currentAudio.paused) {\n          this.currentAudio.play();\n          this.paused = false;\n        } else {\n          this.currentAudio.pause();\n          this.paused = true;\n        }\n      } else {\n        this.playPlaylist();\n      }\n  }\n  }\n  \n  stop() {\n    if (this.currentAudio) {\n      this.reset();\n    }\n  }\n  \n  setTime(time: number) {\n    if (this.currentAudio && time != Math.floor(this.currentAudio.currentTime)) {\n      this.currentAudio.currentTime = time;\n    }\n  }\n  \n  toggleMute() {\n    this.muted = !this.muted;\n    if (this.currentAudio) {\n      this.currentAudio.muted = this.muted;\n    }\n  }\n  \n  isMuted() {\n    return this.muted;\n  }\n  \n  nextTrack() {\n    if (this.playlist.length) {\n      this.skipToTrackAtIndex((this.currentTrackIndex+1) % this.playlist.length);\n    }\n  }\n  \n  previousTrack() {\n    if (this.playlist.length) {\n      this.skipToTrackAtIndex((this.currentTrackIndex-1) % this.playlist.length);\n    }\n  }\n  \n  private skipToTrackAtIndex(index: number) {\n    this.currentTrackIndex = index;\n    if (this.currentAudio) {\n      this.stop();\n      this.playPause();\n    }\n  }\n  \n  private async playPlaylist() {\n    if (this.currentTrackIndex < this.playlist.length) {\n      console.log('Google Analytics')\n      this.googleAnalyticsService.eventEmitter(\"play\", \"audio_player\", \"play\", this.getCurrentTrack().uri);\n      await this.playCurrentTrack();\n      this.currentTrackIndex++;\n      //this.playPlaylist();  // why was this here?\n    } else {\n      this.reset();\n    }\n  }\n  \n  private async playCurrentTrack() {\n    const audio = new Audio(this.playlist[this.currentTrackIndex].uri);\n    audio.muted = this.muted;\n    audio.play();\n    this.paused = false;\n    this.currentAudio = audio;\n    audio.ontimeupdate = () => {\n      this.maxTime = audio.duration;\n      this.currentTime = audio.currentTime;\n    };\n    return new Promise(resolve => audio.onended = resolve);\n  }\n  \n  private reset() {\n    this.currentAudio.ontimeupdate = null;\n    this.currentAudio.pause();\n    this.currentAudio = null;\n    this.currentTime = 0;\n    this.paused = true;\n  }\n\n  volume(v) {\n    if (this.currentAudio) {\n      this.currentAudio.volume = v / 100;\n    }\n  }\n\n  async getPlaylists(userId){\n    var result = await this.data.getPlaylists(userId);\n    if (result[0].playlists){\n      var p = result[0].playlists;\n      p.sort(function(a, b) { return a.timestamp - b.timestamp }).reverse();\n      p.forEach(i => i.timestamp = this.formatTime(new Date(Number(i.timestamp))));\n      this.playlists = p;\n      this.playlistsLoaded = true;      \n    }\n  }\n\n  async deletePlaylist(userid, playlistid){\n    await this.data.delPlaylist(userid, playlistid);\n    this.getPlaylists(userid);\n  }\n  \n  formatTime(d) {\n    function z(n){return (n<10?'0':'')+n}\n    return z(d.getMonth()+1) + '-' + z(d.getDate()) + '-' + (d.getYear()+1900) + ' ' +  d.getHours() + ':' + z(d.getMinutes());\n  }\n\n  storePlaylist(){\n    localStorage.setItem('playlist', btoa(JSON.stringify(this.playlist)));\n  }\n  \n  removePlaylistFromStorage(){\n    localStorage.removeItem('playlist');\n  }\n\n  loadPlaylistFromsStorage(){\n    var p = localStorage.getItem('playlist');\n    if (p) this.playlist = JSON.parse(atob(p));\n  }\n\n}","import { Injectable } from '@angular/core';\nimport * as io from 'socket.io-client';\nimport { API_URL} from '../config';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SocketioService {\n  public socket;\n  constructor() {   }\n\n\n  setupSocketConnection() {\n\n    var connectionOptions =  {\n      //\"force new connection\" : true,\n      //\"reconnectionAttempts\": \"Infinity\", //avoid having user reconnect manually in order to prevent dead clients after a server restart\n      //\"timeout\" : 10000,                  //before connect_error and connect_timeout are emitted.\n      //\"transports\" : ['polling', 'websockets'],\n      path: '/dead/socket.io',\n      //secure: true\n  };\n\n    this.socket = io(API_URL, connectionOptions);\n    //this.socket.emit('comment', 'socket comment!');\n    //this.socket.on('my broadcast', (data: string) => {\n    //  console.log(data);\n    //});\n  }\n\n\n  postAddComment(msg){\n    this.socket.emit('postAddComment', msg);\n  }\n\n  newComment() {\n    return new Observable((observer) => {\n        this.socket.on('addcomment', (msg) => {\n          observer.next(msg);\n          //observer.complete();\n        });\n    });\n  }\n\n postDeleteComment(msg) {\n   this.socket.emit('postDeleteComment', msg);\n } \n\n deleteComment() {\n  return new Observable((observer) => {\n      this.socket.on('deletecomment', (msg) => {\n        observer.next(msg);\n        //observer.complete();\n      });\n  });\n}\n\npostLike(msg) {\n  this.socket.emit('postLike', msg);\n} \n\nlike() {\n return new Observable((observer) => {\n     this.socket.on('like', (msg) => {\n       observer.next(msg);\n       //observer.complete();\n     });\n });\n}\n\n\n  joinRoom(room){\n    this.socket.emit('joinroom', room);\n  }\n\n  leaveRoom(room){\n    this.socket.emit('leaveroom', room);\n  }\n\n\n}\n","export interface DeadEventInfo {\n  id: string,\n  date: string,\n  location: string,\n  state: string,\n  venue: string,\n  recordings: Recording[],\n  artifacts: Artifact[]\n}\n\nexport interface DeadEventDetails {\n  id: string,\n  date: string,\n  location: Location,\n  venue: Venue,\n  setlist: Set[],\n  weather: Weather,\n  news: News[],\n  recordings: Recording[],\n  performers: Artist[],\n  artifacts: Artifact[]\n}\n\nexport enum ArtifactType {\n  Ticket = 'ticket',\n  Poster = 'poster',\n  Pass = 'backstage pass',\n  Photo = 'photo',\n  Envelope = 'envelope',\n  Tshirt = 'T-shirt',\n  Fanart = 'fan art'\n}\n\nexport interface Artifact {\n  type: ArtifactType,\n  thumbnail: string,\n  image: string,\n  description: string,\n  collection: string,\n  source: string\n  index?: number,\n}\n\nexport type Venue = GdEventsObject;\n\nexport interface Location extends GdEventsObject {\n  state: string\n}\n\nexport interface Set {\n  name: string,\n  songs: SongInfo[]\n}\n\nexport interface SongInfo extends GdObject {\n  composedBy: Artist[],\n  lyricsBy: Artist[]\n};\n\nexport interface SongDetails extends SongInfo, GdEventsObject {\n  audio?: AudioTrackMap\n}\n\nexport interface AudioTrackMap {\n  [recordingId: string]: AudioTrack[]\n}\n\nexport interface RecordingDetails extends Recording {\n  info: EtreeInfo\n  tracks: AudioTrack[]\n}\n\nexport interface Recording {\n  id: string,\n  etreeId: string,\n  isSoundboard: boolean\n}\n\nexport interface AudioTrack {\n  filename: string,\n  //format: string,\n  title: string,\n  track: string,\n  id: string\n}\n\nexport interface ArtistDetails extends Artist, GdEventsObject {\n  compositions: SongInfo[]\n}\n\nexport interface Artist extends GdObject {\n  musicbrainzId: string,\n  dbpediaId?: string,\n  instruments?: string[]\n}\n\nexport interface GdEventsObject extends GdObject {\n  eventIds: string[]\n}\n\nexport interface GdObject extends DbpediaObject {\n  id: string,\n  name: string\n}\n\nexport interface DbpediaObject {\n  image?: string,\n  thumbnail?: string,\n  comment?: string,\n  geoloc?: Geolocation\n}\n\nexport interface Geolocation {\n  lat: number,\n  long: number\n}\n\nexport interface Weather {\n  maxTemperature: number,\n  minTemperature: number,\n  precipitation: string,\n  wind: number,\n  windDirection: string,\n  windDirectionIcon: string,\n  condition: string,\n  conditionIcon: string\n}\n\nexport interface News {\n  source: string,\n  title: string,\n  date: string,\n  url: string\n}\n\nexport interface EtreeInfo {\n  tracks: string[],\n  id: string,\n  notes: string,\n  source: string,\n  lineage: string,\n  keywords: string[],\n}\n\nexport interface VenueDetails {\n  name: string,\n  id: string,\n  long: number,\n  lat: number,\n  shows: [],\n  georss: string\n}\n\nexport interface RecordingInfo {\n  date: string,\n  description: string,\n  etree_id: string,\n  lineage: string,\n  location_id: string,\n  location_name: string,\n  notes: string,\n  recording_id: string,\n  show_id: string,\n  source: string,\n  subject: string[],\n  venue_id: string,\n  venue_name: string\n}\n\nexport interface CommentPayload {\n  msgId: string,\n  userId?: number | string,\n  msg: string,\n  timestamp: string,\n  userName: string,\n  userImagePath?: string\n}","<link href=\"https://fonts.googleapis.com/icon?family=Material+Icons\" rel=\"stylesheet\">\n<div *ngIf=\"title\" fxLayout=\"row\" fxLayout.xs=\"column\"\n    [style.background-color]=\"'#ededed'\" [style.background-size]=\"'cover'\"\n    [style.background-position]=\"'center'\" [style.padding]=\"'3px'\">\n  <div class=\"container\" fxLayout=\"column\" fxFlex=\"1 1 auto\">\n    <span>\n        <button mat-button [matMenuTriggerFor]=\"menu\"><img src=\"assets/gd_logo2.png\" height=\"25\"></button>        \n        <mat-menu #menu=\"matMenu\">\n          <!-- <button *ngFor=\"let v of views\" mat-menu-item [routerLink]=\"[v.url]\">{{v.name}}</button> -->\n          <button mat-menu-item routerLink=\"/mapselect\">Concert Map</button>\n          <button mat-menu-item routerLink=\"/profile\" *ngIf=\"userId\">Profile Page</button>\n          <button mat-menu-item (click)=\"auth.login()\" *ngIf=\"!userId\">Log In</button>\n          <button mat-menu-item (click)=\"logout()\" *ngIf=\"userId\">Log Out</button>\n          <!--button mat-menu-item (click)=\"auth.logout()\" *ngIf=\"userId\">Log Out</button-->\n          <button mat-menu-item routerLink=\"/index\">Index</button>\n          <button mat-menu-item routerLink=\"/about\">About</button>\n          <button mat-menu-item routerLink=\"/dataprivacy\">Privacy</button>\n        </mat-menu>\n    </span>\n  </div>\n\n\n  <div class=\"container hf1\" fxLayout=\"column\" fxFlex=\"1 1 auto\" [style.padding]=\"'4px'\">\n    <span>\n      {{ title }} {{ subtitle }}\n      <span *ngIf=\"!((router.url == '/about') || (router.url == '/mapselect') || (router.url == '/profile') || \n                      (router.url == '/dataprivacy') || (router.url.startsWith('/playlist')))\">\n        <button *ngIf=\"userId\" mat-icon-button color=\"\" (click)=\"onBookmarkButton()\">\n          <mat-icon>{{bookmarked ? 'bookmark' : 'bookmark_border'}}</mat-icon>\n        </button>\n\n      <!--span *ngIf=\"auth.loggedIn && !((router.url == '/about') || (router.url == '/mapselect') || (router.url == '/profile') || (router.url == '/dataprivacy'))\"-->\n        <button *ngIf=\"userId\" mat-icon-button color=\"\" (click)=\"onLikeButton()\">\n          <mat-icon>{{liked ? 'thumb_up_alt' : 'thumb_up_off_alt'}}</mat-icon>\n        </button>\n        <button *ngIf=\"!userId\" mat-icon-button color=\"\" style=\"pointer-events: none;\">\n          <mat-icon >thumb_up_off_alt</mat-icon>\n        </button>\n        {{likes}}\n      </span>\n\n\n    </span>\n    \n  </div>\n  <!--<div fxFlex=\"5 1 auto\"></div>-->\n  <ng-content></ng-content>\n\n  <p *ngIf=\"!searchState\" [style.margin-right]=\"'25px'\"></p>\n  <div *ngIf=\"searchState\" [style.margin-top]=\"'8px'\" [style.margin-right]=\"'5px'\"><mat-spinner diameter=\"20\"></mat-spinner></div>\n  <input [disabled]=\"searchState==1\" #searchfield placeholder=\"Search\" (keydown.enter)=\"onSubmit(searchfield.value)\">\n\n\n  \n \n\n</div>","import { Component, Input, ElementRef, AfterViewInit, ViewChild, Inject, OnDestroy, OnInit } from '@angular/core';\nimport { Title, DomSanitizer, SafeStyle } from '@angular/platform-browser';\n//import { VIEWS } from '../globals';\n//import * as Fuse from 'fuse.js';\nimport { MatDialog, MatDialogConfig } from \"@angular/material/dialog\";\nimport { SearchDialogComponent } from '../shared/search-dialog.component';\nimport { DataService } from '../services/data.service';\nimport { AuthService } from '../auth.service';\nimport { Router } from '@angular/router';\nimport { PlayerService } from '../services/player.service';\n//import { CookieService } from 'ngx-cookie-service';\nimport { DEBUG, SOCKETIO } from '../config';\nimport { SocketioService } from '../services/socketio.service';\n\nconsole.log = function(s){\n  if (DEBUG) {\n    console.warn(s);\n  }; \n};\n\n//declare var require: any;\n//const searchjson = require(\"../../assets/search.json\");\n\ndeclare let gtag: Function;\n\n@Component({\n  selector: 'gd-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.sass']\n})\nexport class HeaderComponent {\n  \n  \n  @Input() imageUrl: string;\n  @Input() title: string;\n  @Input() subtitle: string;\n  @Input() userId: string;\n  //@ViewChild('input') input: ElementRef;\n  protected image: SafeStyle;\n  //protected views = VIEWS;\n  //protected fuse: any;\n  protected result: any;\n  protected searchState: any;\n  //protected currentUser: any = { userName: '', userId:''};\n  protected bookmarked: boolean;\n  protected liked: boolean;\n  protected likes: number;\n  //protected number_liked: number;\n\n  protected room: string;\n  \n  constructor(private sanitizer: DomSanitizer, private titleService: Title, private dialog: MatDialog, private data: DataService, \n    private router: Router, public auth: AuthService, private player: PlayerService, public socket: SocketioService) {\n\n      \n    }\n  \nngOnInit() {\n\n  this.bookmarked = false;\n  this.liked = false;\n  this.searchState = 0;\n  this.image = this.sanitizer.bypassSecurityTrustStyle('url('+this.imageUrl+')');\n\n  this.room = this.router.url;\n  if (SOCKETIO) {\n    this.socket.joinRoom(this.room);\n\n    this.socket.like().subscribe((msg: number) => {\n      console.log(msg);\n      this.countLikes();\n      }, err => {\n        console.log(err);\n    });\n  }\n\n\n\n  this.titleService.setTitle('Grateful Live - '+this.title+', '+this.subtitle);\n\n  if (this.userId) {\n    gtag('set', {'user_id': this.userId});\n    if (!( (this.router.url == '/about') || (this.router.url == '/mapselect') || (this.router.url == '/profile') ))\n          { \n            this.checkBookmark();\n            this.checkLike()\n          };\n  }\n  \n  \n  \n  if (!( (this.router.url == '/about') || (this.router.url == '/mapselect') || (this.router.url == '/profile') ))\n    this.countLikes();\n  /*\n    if (this.auth.loggedIn) {\n      this.auth.userProfile$.subscribe(userProfile => {\n        this.currentUser = this.resolve.getUser(userProfile);\n        if (!( (this.router.url == '/about') || (this.router.url == '/mapselect') || (this.router.url == '/profile') ))\n        { this.checkBookmark() };\n      });\n    }\n    */\n  }\n\n  //       else { this.player.removePlaylistFromStorage() }\n\n  logout(){\n    this.auth.logout();\n    this.player.removePlaylistFromStorage();\n  }\n\n  ngOnDestroy(){\n    //this.socket.leaveRoom(this.room);\n  }\n\n  async onSubmit(e){\n    console.log(e);\n    this.searchState = 1;\n    var result = await this.data.getSearchResult(e);\n    if (result.length > 0){\n      this.openDialog(result, e)\n    }\n    this.searchState = 0;\n  }\n\n  openDialog(r, s) {\n    var dialogConfig = new MatDialogConfig();\n    dialogConfig.position = { right: '0', top: '0' };\n    dialogConfig.maxHeight = 400;\n    dialogConfig.data = {\n      id: 1,\n      result: r,\n      searchString: s\n     };\n    //dialogConfig.disableClose = true;\n    //dialogConfig.autoFocus = true;\n    this.dialog.open(SearchDialogComponent, dialogConfig);\n  }\n\n  async onBookmarkButton(){\n    if (this.bookmarked == false){\n      await this.data.addBookmark(this.userId, this.router.url, new Date().getTime(), this.title+' '+this.subtitle);\n    } else {\n      await this.data.delBookmark(this.userId, this.router.url);\n    }\n    this.checkBookmark();\n  }\n\n  async checkBookmark(){\n    var b = await this.data.checkBookmark(this.userId, this.router.url);\n    this.bookmarked = Boolean(JSON.parse(b));\n    console.log(\"bookmark: \"+this.bookmarked)\n  }\n\n  async onLikeButton(){\n    if (this.liked == false){\n      await this.data.like(this.userId, this.router.url, new Date().getTime(), this.title+' '+this.subtitle);\n    } else {\n      await this.data.unlike(this.userId, this.router.url);\n    }\n    this.checkLike(true);\n    \n  }\n\n  async checkLike(click=false){\n    var b = await this.data.checkLike(this.userId, this.router.url);\n    this.liked = Boolean(JSON.parse(b));\n    this.countLikes();\n    if (SOCKETIO && click) this.socket.postLike({ room: this.router.url, msg: 1 });\n    console.log(\"like: \"+this.liked)\n  }\n\n  async countLikes(){\n    this.likes  = await this.data.countLikes(this.router.url);\n    console.log(\"likes: \"+this.likes);\n    \n    \n  }\n\n}\n","<div mat-dialog-content>\n  <p>Save playlist</p>\n  <mat-form-field>\n    <mat-label>Enter name</mat-label>\n    <input matInput [(ngModel)]=\"data.input\" maxlength=\"50\">\n  </mat-form-field>\n</div>\n<div mat-dialog-actions>\n  <button mat-button (click)=\"onCancelClick()\">Cancel</button>\n  <!--button mat-button [mat-dialog-close]=\"data.input\" cdkFocusInitial>Ok</button-->\n  <button mat-button [disabled]=\"data.input.length == 0\" (click)=\"onOkClick(data.input)\">Ok</button> <!--cdkFocusInitial-->\n</div>\n\n\n<!--div mat-dialog-content>\n  <p class=\"mat-dialog-title\" >{{data.title}}</p>\n  <input matInput [(ngModel)]=\"data.input\">\n</div>\n<div mat-dialog-actions>\n  <button mat-button (click)=\"onCancelClick()\">Cancel</button>\n  <button mat-button [mat-dialog-close]=\"data\" cdkFocusInitial>Ok</button>\n</div-->","import { Component, Inject } from '@angular/core';\nimport {MatDialog, MatDialogRef, MAT_DIALOG_DATA} from '@angular/material/dialog';\n\n\nexport interface DialogData {\n  title: string,\n  options: string[],\n  input: string\n}\n\n@Component({\n  selector: 'input-dialog',\n  templateUrl: './input-dialog.component.html'\n})\nexport class InputDialogComponent {\n  constructor(private dialogRef: MatDialogRef<InputDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: DialogData) {}\n\n  onCancelClick(): void {\n    this.dialogRef.close();\n  }\n  \n  onOkClick(input: string): void {\n    this.dialogRef.close(input);\n  }\n}","<!--h1 mat-dialog-title>{{data.title}}</h1-->\n<div mat-dialog-content>\n  <p class=\"mat-dialog-title\" >{{data.title}}</p>\n  <button *ngFor=\"let i of data.items\" (click)=\"onItemClick(i)\"\n    [style.margin-bottom]=\"'5px'\">{{ i }}</button>\n</div>\n<div mat-dialog-actions>\n  <button mat-button (click)=\"onCancelClick()\">Cancel</button>\n  <button mat-button [mat-dialog-close]=\"data\" cdkFocusInitial>Ok</button>\n</div>","import { Component, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\n\nexport interface DialogData {\n  title: string,\n  options: string[],\n  items: any\n}\n\n@Component({\n  selector: 'list-dialog',\n  templateUrl: './list-dialog.component.html'\n})\nexport class ListDialogComponent {\n  constructor(private dialogRef: MatDialogRef<ListDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: DialogData) {}\n\n  onCancelClick(): void {\n    this.dialogRef.close();\n  }\n  \n  onItemClick(item: string): void {\n    this.dialogRef.close(item);\n  }\n}","<div class=\"map\" leaflet [leafletOptions]=\"options\"></div>","import { Component, Input } from '@angular/core';\nimport { tileLayer, latLng, marker, icon, MapOptions } from 'leaflet';\n\n@Component({\n  selector: 'gd-map',\n  templateUrl: './map.component.html',\n  styleUrls: ['./map.component.sass']\n})\nexport class MapComponent {\n  \n  @Input() latitude: number;\n  @Input() longitude: number;\n  @Input() zoom: number;\n  public options: MapOptions;\n  \n  ngOnInit() {\n    this.options = {\n      layers: [\n        //tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\n        tileLayer('https://a.tiles.mapbox.com/v3/smmaurer.k59p72bl/{z}/{x}/{y}.png',\n          { maxZoom: 17, attribution: '...' }),\n        marker([this.latitude, this.longitude], {\n          icon: icon({\n            iconSize: [ 25, 41 ],\n            iconAnchor: [ 13, 41 ],\n            iconUrl: 'assets/marker-icon-2x.png',\n            //shadowUrl: 'assets/marker-shadow.png'\n          })\n        })\n      ],\n      zoom: this.zoom,\n      center: latLng(this.latitude, this.longitude)\n    };\n  }\n\n}","<div fxLayout=\"column\" [style.height]=\"loaded && !minimized ? '120px' : '20px'\">\n  <img *ngIf=\"player.getCurrentTrack().waveform\" class=\"image\"\n    [lazyLoad]=\"player.getCurrentTrack().waveform\" [style.height]=\"'100px'\"\n    [class.flashy]=\"loaded\" (load)=\"loaded = true\" [hidden]=\"minimized\" class=\"waveform\">\n  <input type=\"range\" min=\"0\" max=\"{{player.maxTime}}\"\n    [(ngModel)]=\"player.currentTime\" (ngModelChange)=\"player.setTime($event)\"/>\n</div>\n<div fxLayout=\"row\" style=\"margin-top: 10px; margin-left: 3px; margin-right: 3px;\">\n  <button mat-flat-button fxFlex (click)=\"player.playPause()\"> \n    <mat-icon *ngIf=\"!player.paused\">pause</mat-icon>\n    <mat-icon *ngIf=\"player.paused\">play_arrow</mat-icon>\n  </button>\n  <!--button mat-flat-button fxFlex (click)=\"player.pause()\">\n    <mat-icon>pause</mat-icon></button-->\n  <button mat-flat-button fxFlex (click)=\"player.stop()\">\n    <mat-icon>stop</mat-icon></button>\n  <button mat-flat-button fxFlex (click)=\"player.previousTrack()\">\n    <mat-icon>skip_previous</mat-icon></button>\n  <button mat-flat-button fxFlex (click)=\"player.nextTrack()\">\n    <mat-icon>skip_next</mat-icon></button>\n  <button mat-flat-button fxFlex (click)=\"player.toggleMute()\">\n    <mat-icon>{{player.muted ? 'volume_up' : 'volume_off'}}</mat-icon></button>\n  <!-- <button mat-flat-button fxFlex (click)=\"addRandomTrack()\">\n    <mat-icon>playlist_add</mat-icon></button> -->\n  <button mat-flat-button fxFlex (click)=\"minimized = !minimized\">\n    <mat-icon>{{minimized ? 'visibility' : 'visibility_off'}}</mat-icon></button>\n  <mat-slider type=\"range\" min=\"0\" max=\"100\" value=\"100\" step=\"1\" (input)=\"volumeChange($event.value)\"></mat-slider>\n\n  <button *ngIf=\"currentUser.userId && (!player.playlists || player.playlists.length==0)\" mat-flat-button disabled=true style=\"color: rgb(194, 192, 192)\" fxFlex>\n    load\n  </button>\n  <button *ngIf=\"currentUser.userId && (!player.playlists || player.playlists.length>0)\"mat-flat-button fxFlex (click)=\"onLoadPlaylist()\">\n    load\n  </button>\n  <button *ngIf=\"currentUser.userId && player.playlist.length==0\" mat-flat-button disabled=true style=\"color: rgb(194, 192, 192)\" fxFlex>\n    save\n  </button>\n  <button *ngIf=\"currentUser.userId && player.playlist.length>0\" mat-flat-button fxFlex (click)=\"onSavePlaylist()\">\n    save\n  </button>\n  <button *ngIf=\"currentUser.userId && player.playlist.length==0\" mat-flat-button disabled=true style=\"color: rgb(194, 192, 192)\" fxFlex>\n    clear\n  </button>\n  <button *ngIf=\"player.playlist.length>0\" mat-flat-button fxFlex (click)=\"onClearPlaylist()\">\n    clear\n  </button>\n\n</div>\n\n<div fxLayout=\"column\">\n\n  <div class=\"playlist\" *ngFor=\"let s of player.playlist; index as i\" [hidden]=\"minimized && s !== player.getCurrentTrack()\" style=\"text-align:left; margin-left: 3px;\">\n    <span [style.color]=\"s === player.getCurrentTrack() ? '#3d3d3d' : 'grey'\" (click)=\"player.skipToTrack(s)\">\n      {{s.track + '. ' + s.title + ' [' + s.etree_id + ']'}} \n    </span>\n    <span style=\"float:right; margin-right: 3px;\">\n      <button [matMenuTriggerFor]=\"menu\">>></button>        \n        <mat-menu #menu=\"matMenu\">\n          <button *ngIf=\"s.song_id\" (click)=\"router.navigate(['/song', s.song_id])\">song</button>\n          <button *ngIf=\"s.show_id\" (click)=\"router.navigate(['/show', s.show_id])\">show</button>\n          <button *ngIf=\"s.recording_id\" (click)=\"router.navigate(['/recording', s.recording_id])\">recording</button>\n        </mat-menu>\n        <button (click)=\"delTrack(i)\">X</button>\n    </span>\n  </div>\n\n</div>","import { Component } from '@angular/core';\nimport { PlayerService } from '../services/player.service';\nimport { DataService } from '../services/data.service';\nimport { DialogService } from '../services/dialog.service';\nimport { AuthService } from '../auth.service';\nimport { Router } from '@angular/router';\n// import { CookieService } from 'ngx-cookie-service';\nimport { DEBUG } from '../config';\n\nconsole.log = function(s){\n  if (DEBUG) {\n    console.warn(s);\n  }; \n};\n\ndeclare let gtag: Function;\n\n@Component({\n  selector: 'gd-player',\n  templateUrl: './player.component.html',\n  styleUrls: ['./player.component.sass']\n})\nexport class PlayerComponent {\n  public currentUser: any = { userName: '', userId: '' };\n  public loaded = false;\n  public minimized = false;\n  constructor(public player: PlayerService, private data: DataService, private dialog: DialogService, public auth: AuthService, \n              public router: Router) {} //, private cookieService: CookieService) {}\n  \n  ngOnInit() {\n    //if (!this.cookieService.get('auth0.is.authenticated')) { \n    //  this.player.removePlaylistFromStorage() ;\n    //};\n    \n    //if (this.currentUser.userId != '') gtag('set', {'user_id': this.currentUser.userId});\n    this.auth.userProfile$.subscribe(userProfile => {\n      if (userProfile){\n        this.currentUser = {\n          userId: userProfile.sub.split(\"|\")[1],\n          userName: userProfile['http://example.com/username']\n        }\n        gtag('set', {'user_id': this.currentUser.userId});\n        this.player.getPlaylists(this.currentUser.userId);\n      }\n      if (!this.router.url.startsWith('/playlist')) {\n        this.player.loadPlaylistFromsStorage();\n      };\n      \n    });\n\n    \n    \n  }\n\n  async addRandomTrack() {\n    this.player.addToPlaylist(await this.data.getRandomTrack());\n  }\n\n  volumeChange(v){\n    this.player.volume(v);\n  }\n\n  async onClearPlaylist(){\n    this.player.stop();\n    this.player.clearPlaylist();\n    this.minimized = true;\n  }\n\n  async delTrack(i){\n    this.player.deleteFromPlaylist(i);\n  }\n\n  async onSavePlaylist() {\n    this.dialog.openInputDialog(name => {\n      if (name) { \n        this.savePlaylist(name);\n      }\n    });\n  }\n\n  async onLoadPlaylist() {\n    this.loadPlaylist()\n  }\n\n  async savePlaylist(name){\n    console.log('saving playlist');\n    const id = this.makeid();\n    await this.data.addPlaylist(name, this.player.playlist, id, this.currentUser.userId, new Date().getTime());\n    await this.player.getPlaylists(this.currentUser.userId);\n  }\n/*\n\nprotected openOptionsDialog(event: DeadEventInfo) {\n    this.dialog.openMultiFunction(\n      this.song.name+\"', \"+event.venue+\", \"+event.date,\n      [\"Add to playlist\", \"Go to show\"],\n      [() => this.openRecordingsDialog(event),\n        () => this.router.navigate(['/show', event.id])]\n    );\n  }\n\n  private openRecordingsDialog(event: DeadEventInfo) {\n    this.dialog.openSingleFunction(\n      \"Recordings of '\"+this.song.name+\"', \"+event.venue+\", \"+event.date,\n      event.recordings.map(r => r.etreeId),\n      r => this.addRecordingToPlaylist(r, event)\n    );\n  }\n  */\n \n  private loadPlaylist() {\n    console.log('load playlist');\n    this.dialog.openMultiFunction(\n      'Your current playlist will be lost',\n      this.player.playlists.map(r => r.name),\n      this.player.playlists.map(r => () => {\n        this.player.playlist = [...r.playlist];\n        this.player.storePlaylist();\n      })\n    );\n    \n  }\n\n  private makeid() {\n    var result           = '';\n    var characters       = 'abcdef0123456789';\n    var charactersLength = characters.length;\n    for ( var i = 0; i < 24; i++ ) {\n       result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n    return result;\n }\n}\n","<div class=\"left\">  <b>{{searchString}}</b></div>\n\n<div class=\"type\" *ngIf=\"result.song.length != 0\">Songs:</div>\n<div class=\"result\" *ngFor=\"let r of result.song, let i = index\">\n  <span style=\"cursor:pointer\" [routerLink]=\"['/song', r[1]]\"> {{r[0]}}</span>\n</div>\n\n<div class=\"type\" *ngIf=\"result.venue.length != 0\">Venues:</div>\n<div class=\"result\" *ngFor=\"let r of result.venue, let i = index\">\n  <span style=\"cursor:pointer\" [routerLink]=\"['/venue', r[1]]\"> {{r[0]}}</span>\n</div>\n\n<div class=\"type\" *ngIf=\"result.show.length != 0\">Shows:</div>\n<div class=\"result\" *ngFor=\"let r of result.show, let i = index\">\n  <span style=\"cursor:pointer\" [routerLink]=\"['/show', r[1]]\"> {{r[0]}}</span>\n</div>\n\n\n\n\n\n\n","import { Component, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { DEBUG } from '../config';\n\nconsole.log = function(s){\n  if (DEBUG) {\n    console.warn(s);\n  }; \n};\n\nexport interface DialogData {\n  title: string,\n  options: string[]\n}\n\n@Component({\n  selector: 'search-dialog',\n  templateUrl: './search-dialog.component.html',\n  styleUrls: ['./search-dialog.component.sass']\n})\nexport class SearchDialogComponent {\n\n  result: any;\n  searchString: string;\n\n  constructor(private dialogRef: MatDialogRef<SearchDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) data ) {\n      //this.result = data.result; //this.sortItems(data.result);\n      this.result = this.sortItems(data.result);\n      this.searchString = data.searchString;\n    }\n\n  onCancelClick(): void {\n    this.dialogRef.close();\n  }\n  \n  onItemClick(item: string): void {\n    this.dialogRef.close(item);\n  }\n\n  sortItems(r){\n    var s = { 'show': [], 'venue': [], 'song': [] };\n    r.forEach( i => {\n      s[i.type].push([i.title, i.uri])\n    })\n    Object.keys(s).forEach(k => {\n      s[k].sort();\n    })\n    console.log(s)\n    return s\n  }\n}","\n<p [style.margin-bottom]=\"'5px'\"></p>\n<share-buttons [theme]=\"'default'\"\n [include]=\"['facebook','twitter','pinterest','reddit','tumblr','mix','copy']\"\n [show]=\"7\"\n [size]=\"-4\"\n [title]=\"'Grateful Dead Concert Explorer'\"\n [tags]=\"'GratefulDeadExplorer,GratefulDead'\"\n></share-buttons>\n<p [style.margin-bottom]=\"'5px'\"></p>","import { Component } from '@angular/core';\n\n\n@Component({\n  selector: 'gd-sharebuttons',\n  templateUrl: './sharebuttons.component.html',\n  styleUrls: ['sharebuttons.component.sass']\n})\nexport class ShareButtonsComponent {\n\n  \n  ngOnInit() {\n  }\n\n}","<style>\n.loader {\n  -webkit-animation: spin 1s linear infinite;\n          animation: spin 1s linear infinite;\n  border: 3px solid #ddd;\n  border-top: 3px solid #42a5f5;\n  border-radius: 50%;\n  height: 75px;\n  width: 75px;\n}\n\n@-webkit-keyframes spin {\n  to {\n    border-top-color: #ec407a;\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes spin {\n  to {\n    border-top-color: #ec407a;\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n\n}\n</style>\n\n<div *ngIf=\"!loaded\" class=\"wait\">\n  <div class=\"loader\"></div>\n</div>\n\n<div *ngIf=\"!loaded\" class=\"wait\"><img src=\"/assets/bearsanimated.webp\" width=\"160\"></div>\n<div *ngIf=\"!timeOut && !loaded\" class=\"wait\">connecting to database</div>\n<div *ngIf=\"timeOut && !loaded\" class=\"wait\">loading seems to take a while! retrying...</div>\n\n<div id=\"maploaded\" [style.visibility]=\"!loaded ? 'hidden' : 'visible' \">\n  <div class=\"center\">\n    <select [(ngModel)]=\"selectedTour\" (ngModelChange)=\"tourChanged($event)\">\n        <option *ngFor=\"let l of layerNames\" ngValue=\"{{l}}\"> {{l}}</option>\n    </select>\n  </div>\n  <div id=\"MapContainer\" \n    leaflet\n    [leafletOptions]=\"mapOptions\"\n    (leafletMapReady)=\"onMapReady($event)\">\n  </div>\n</div> \n\n\n","import { Component, Input } from '@angular/core';\nimport { VenueDetails } from '../services/types';\nimport { DataService } from '../services/data.service';\nimport { DomSanitizer, SafeStyle } from '@angular/platform-browser';\n//import * as Fuse from 'fuse.js'; // imported in angular.json\nimport * as _ from 'lodash';\nimport { DEBUG } from '../config';\n\nconsole.log = function(s){\n  if (DEBUG) {\n    console.warn(s);\n  }; \n};\n\ndeclare const L: any;\nimport 'leaflet';\nimport '../../leaflet-fusesearch/src/leaflet.fusesearch.js'\nimport 'leaflet-polylinedecorator'\n\n\n@Component({\n  selector: 'gd-showmap',\n  templateUrl: './showmap.component.html',\n  styleUrls: ['./showmap.component.sass']\n})\n\n\nexport class ShowMapComponent {\n  @Input() zoom: number;\n  //@Input() venues: VenueDetails[];\n  protected venues: VenueDetails[];\n  public mapOptions: L.MapOptions;\n  protected map: L.Map;\n  protected selectLayers: {};\n  public layerNames: string[];\n  protected searchCtrl: any;\n  protected geoJsons: {};\n  protected currentLayer: string;\n  public selectedTour: string;\n  protected tourLine: any;\n  protected lineDecorator: any;\n  public loaded: boolean;\n  public timeOut: boolean;\n  \n\n  constructor(protected data: DataService, private sanitizer: DomSanitizer) {}\n\n\n  ngOnInit() {\n    this.loaded = false;\n    this.timeOut = false;\n    this.selectLayers = {};\n    this.layerNames = [];\n    this.geoJsons = {};\n      this.mapOptions = {\n        layers: [\n          //L.tileLayer('https://a.tiles.mapbox.com/v3/villeda.c4c63d13/{z}/{x}/{y}.png',\n          //L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\n          //L.tileLayer('https://a.tiles.mapbox.com/v3/smmaurer.k59p4an0/{z}/{x}/{y}.png',\n          L.tileLayer('https://a.tiles.mapbox.com/v3/smmaurer.k59p72bl/{z}/{x}/{y}.png',\n          //L.tileLayer('https://a.tiles.mapbox.com/v3/smmaurer.k59p92aj/{z}/{x}/{y}.png',\n          //L.tileLayer('https://a.tiles.mapbox.com/v3/aj.03e9e12d/{z}/{x}/{y}.png',\n            { maxZoom: 18, attribution: '...' })],\n        zoom: this.zoom,\n        center: L.latLng(45, -70)\n      };\n  }\n\n\n  async onMapReady(map: L.Map) {\n    setTimeout(() => {\n      this.timeOut = true;\n    }, 35000);\n    //this.document.getElementById(\"maploaded\").style.visibility = \"hidden\";\n    this.map = map\n    let i = 0;\n    while (this.venues == undefined || this.venues.length == 0) {    // retry heroku fetch\n      console.log(\"retry \" + i);\n      this.venues = await this.data.getVenueCoordinates();\n      console.log(this.venues)\n      i++;\n    }\n    var tours = await this.data.getTourCoordinates();\n    console.log(tours)\n    var geoJsonData = this.getGeoJson(this.venues);\n    var tourGeoJsonData = this.getTourJson(tours);\n    var all = this.groupLayers(geoJsonData);\n    this.geoJsons['all shows'] = geoJsonData;\n    this.selectLayers['all shows'] = all;\n    this.layerNames.push('all shows')\n    this.selectLayers['all shows'].addTo(this.map)\n    this.currentLayer = 'all shows';\n\n    tourGeoJsonData.forEach(t =>{\n      this.selectLayers[t[0]] = this.groupLayers(t[1]);\n      this.geoJsons[t[0]] = t[1];\n      this.geoJsons[t[0]].sort(this.dateSort())\n      this.layerNames.push(t[0]); \n    })\n    this.searchCtrl = L.control.fuseSearch({'showResultFct': function(feature, container) {\n      var props = feature.properties;\n      if (props.dates != '') {    // workaround for result list after first click on search button\n        var name = L.DomUtil.create('span', null, container);\n        name.innerHTML = props.name;\n        //container.appendChild(L.DomUtil.create('br', null, container));\n        //container.appendChild(document.createTextNode(props.dates));\n    }\n  }})\n    this.searchCtrl.indexFeatures(geoJsonData, ['name', 'dates']); \n    this.searchCtrl.addTo(this.map);\n    this.searchCtrl.indexFeatures(this.geoJsons['all shows'], ['name', 'dates']); \n    this.selectedTour = 'all shows';\n    this.loaded = true;\n    this.fitZoom();\n   \n  }\n\n  \n  dateStrings(s) {\n    if (s != undefined){\n      var htmlstring = '<br>';\n      var datestring = '';\n      var dates = s.map(e => [e.date, e.id])\n      dates.sort()\n      dates.forEach(e => {\n        htmlstring += '<a style=\"color: black;\" href=\"/#/show/' + e[1] + '\">' + e[0] + '</a><br>' ; // removed #/ url\n        datestring += e[0] + ' '\n      });\n    return [datestring, htmlstring];\n  }}\n\n\n  onEachFeature(feature, layer) {\n    if (feature.properties && feature.properties.popupContent) {\n      layer.bindPopup(feature.properties.popupContent, { maxHeight: 160 });\n    }\n    feature.layer = layer;\n  }\n\n\n  getGeoJson(shows){\n    var geoJsonData = [];\n    var latlongs = [];\n\n    shows.forEach(v => {\n      if (v.long != undefined) {\n        var lat = parseFloat(v.lat);\n        var long = parseFloat(v.long);\n        while (this.searchForArray(latlongs,[lat, long]) != -1){  // prevent markers in same place\n          lat += 0.001;\n        }\n        latlongs.push([lat, long])   \n        var ds = this.dateStrings(v.shows);\n        var datestring = ds[0];\n        var venuehtml = ds[1];\n        if (v.georss == 'city'){ venuehtml += '(marker for city only)' };\n        var geojsonFeature = {\n          'type': 'Feature',\n          'properties': {\n            'name': v.name,\n            'dates': datestring,\n            'popupContent': '<b><a style=\"color: black;\" href=\"/#/venue/' + v.id + '\">' + v.name + '</a></b>' + venuehtml // removed #/ url\n          },\n          'geometry': {\n            'type': 'Point',\n            'coordinates': [lat, long]\n          } };\n          geoJsonData.push(geojsonFeature);\n      }});\n      return geoJsonData;\n  }\n\n groupLayers(g){\n    var l = [];\n    var myIcon = L.icon({\n      iconUrl: 'assets/dead_marker_small_shadow.png',\n      iconSize: [null, 35],\n      iconAnchor: [12, 34],\n      popupAnchor: [-3, -32],\n    });\n    g.forEach(v => {\n      var g = L.geoJSON(v, {\n        onEachFeature: this.onEachFeature,\n        pointToLayer: function (feature, latlng) {\n          return L.marker(latlng, {icon: myIcon, riseOnHover: true});\n        } })\n      l.push(g)\n    });\n    var lg = L.layerGroup(l);\n    return (lg)\n  }\n\n\n  getTourJson(t){\n    var tours = []\n    Object.keys(t).forEach(tour => {\n      var geoJsonData = [];\n      var latlongs = [];\n      Object.keys(t[tour]).forEach(venue => {\n        var venue_id = t[tour][venue].id;\n        var long = parseFloat(t[tour][venue].long);\n        var lat = parseFloat(t[tour][venue].lat);\n        while (this.searchForArray(latlongs,[lat, long]) != -1){  // prevent markers in same place\n          lat += 0.001;\n        }\n        latlongs.push([lat, long])     \n        var shows = []\n        t[tour][venue].shows.forEach(show => shows.push(show));\n        var ds = this.dateStrings(shows);\n        var datestring = ds[0];\n        var venuehtml = ds[1];\n        if (t[tour][venue].georss == 'city'){ venuehtml += '(marker for city only)' };   // todo: make work!\n        var geojsonFeature = {\n          'type': 'Feature',\n          'properties': {\n            'name': venue,\n            'tour': tour,\n            'dates': datestring,\n            'popupContent': '<b><a style=\"color: black; \"href=\"/#/venue/' + venue_id + '\">' + venue + '</a></b>' + venuehtml // removed #/ url\n          },\n          'geometry': {\n            'type': 'Point',\n            'coordinates': [lat, long]\n          } };\n        geoJsonData.push(geojsonFeature);\n      });\n     if (geoJsonData.length > 0) {\n        tours.push([tour, geoJsonData])\n      } });\n    return tours;\n  }\n\n\n  tourChanged(e){\n    if (this.tourLine != undefined) {this.map.removeLayer(this.tourLine) }\n    if (this.lineDecorator != undefined) {this.map.removeLayer(this.lineDecorator) }\n    this.map.removeLayer(this.selectLayers[this.currentLayer])\n    this.selectLayers[e].addTo(this.map)\n    this.searchCtrl.indexFeatures(this.geoJsons[e], ['name', 'dates']); \n    this.currentLayer = e;\n    if (e != 'all shows' && this.geoJsons[e].length > 1){\n      this.connectTheDots(this.geoJsons[e])\n    }\n    this.fitZoom();\n  }\n\n\n  fitZoom(){\n    var group = new L.featureGroup;\n    this.map.eachLayer(l => { if (l['feature'] != undefined){ group.addLayer(l) } });\n    this.map.fitBounds(group.getBounds());\n    if (this.map.getZoom() > 10) { this.map.setZoom(10) }\n  }\n\n\n  connectTheDots(e){\n    var c = [];\n    e.forEach( i => c.push(_.clone(i.geometry.coordinates).reverse()));\n    this.tourLine = L.polyline(c, {color: '#1D3A87', weight: 3}).addTo(this.map);\n    console.log(this.tourLine)\n    this.lineDecorator = L.polylineDecorator(this.tourLine, {\n    patterns: [\n      {offset: '0%', repeat: 40, symbol: L.Symbol.arrowHead(\n        {pixelSize: 9, polygon: false, pathOptions: {weight: 3, color: '#1D3A87', stroke: true}})\n      } ] }).addTo(this.map);\n}\n\n\n  dateSort() {\n    return function (a,b) {\n      var result = (a.properties.dates < b.properties.dates) ? -1 : (a.properties.dates > b.properties.dates) ? 1 : 0;\n      return result;\n    }\n}\n\n\n  searchForArray(haystack, needle){\n    var i, j, current;\n    for(i = 0; i < haystack.length; ++i){\n      if(needle.length === haystack[i].length){\n        current = haystack[i];\n        for(j = 0; j < needle.length && needle[j] === current[j]; ++j);\n        if(j === needle.length)\n          return i;\n      }\n  }\n  return -1;\n}\n\n}","<div fxLayout=\"column\" class=\"gd-container\">\n  <div *ngFor=\"let e of events\" fxLayout=\"row\" fxLayoutAlign=\" center\">\n    <img fxLayout=\"column\" class=\"image field\" fxFlex=\"1 1 15%\"\n      [style.width]=\"'80px'\" [style.height]=\"'60px'\"\n      [defaultImage]=\"'assets/gd_placeholder.png'\"\n      [lazyLoad]=\"e.artifacts[0] ? e.artifacts[0].thumbnail || e.artifacts[0].image: null\"\n      [style.object-fit]=\"'cover'\"\n      [routerLink]=\"['/show', e.id]\">\n      <div fxLayout=\"column\" fxFlex=\"1 1 10%\" fxLayoutAlign=\"center\"\n      [ngStyle.xs]=\"{'font-size': '80%'}\" class=\"field\"\n        [routerLink]=\"['/show', e.id]\">\n        {{ e.date }}\n      </div>\n      <div fxLayout=\"column\" fxFlex=\"1 1 25%\" fxLayoutAlign=\"center\"\n      [ngStyle.xs]=\"{'font-size': '80%'}\" class=\"field\"\n        [routerLink]=\"['/show', e.id]\">\n        {{ e.venue }} \n      </div>\n      <span class=\"field\"\n        [routerLink]=\"['/show', e.id]\">\n      {{ e.location }}\n    </span>\n    <button *ngIf=\"onOptions\" mat-icon-button fxLayout=\"column\" class=\"field\" fxFlex=\"1 1 10%\"\n      (click)=\"onOptions(e)\"><mat-icon>more_horiz</mat-icon>\n    </button>\n\n\n    <!--\n    <div fxLayout=\"column\" fxFlex=\"1 1 25%\" fxLayoutAlign=\"center\"\n        [ngStyle.xs]=\"{'font-size': '80%'}\" class=\"field\"\n        [routerLink]=\"['/show', e.id]\">\n      {{ e.date }}\n    </div>\n    <div fxLayout=\"column\" fxFlex=\"1 1 30%\" fxLayoutAlign=\"center\"\n        [ngStyle.xs]=\"{'font-size': '80%'}\" class=\"field\"\n        [routerLink]=\"['/show', e.id]\">\n      {{ e.venue }}\n    </div>\n    <div fxLayout=\"column\" fxFlex=\"1 1 20%\" fxLayoutAlign=\"center\"\n        [ngStyle.xs]=\"{'font-size': '80%'}\" class=\"field\"\n        [routerLink]=\"['/show', e.id]\">\n      {{ e.location }}\n    </div>\n    <button mat-icon-button fxLayout=\"column\" class=\"field\" fxFlex=\"1 1 10%\"\n      (click)=\"onOptions(e)\"><mat-icon>more_horiz</mat-icon>\n    </button>\n    -->\n  </div>\n</div>\n\n<p [style.margin-bottom]=\"'75px'\"></p>","import { Component, Input } from '@angular/core';\nimport { DataService } from '../services/data.service';\nimport { DeadEventInfo } from '../services/types';\n\n@Component({\n  selector: 'gd-shows',\n  templateUrl: './shows.component.html',\n  styleUrls: ['./shows.component.sass']\n})\nexport class ShowsComponent {\n  @Input() eventIds: string[];\n  @Input() onOptions: (s: DeadEventInfo) => any;\n  public events: DeadEventInfo[];\n  \n  constructor(private data: DataService) {}\n  \n  async ngOnInit() {\n    this.events = await this.data.getEventInfos(this.eventIds);\n    //TODO add pagination?\n    //if (this.events) this.events = this.events.slice(0, 20);\n  }\n}\n","\n  <div fxLayout=\"row\" >\n      \n    <div fxLayout=\"column\" fxFlex fxLayoutAlign=\"center center\" [style.font-size]=\"'150%'\"[style.padding]=\"'4px'\">\n      <i class=\"wi wc {{ weather.conditionIcon }}\"></i>\n    </div>\n    <div fxLayout=\"column\" fxFlex fxLayoutAlign=\"center center\" [style.font-size]=\"'150%'\">\n      <i class=\"wi wc wpadleft {{ weather.windDirectionIcon }}\"></i>\n    </div>\n    <div fxLayout=\"column\" class=\"wf wc wpadleft wpadright\" fxFlex fxLayoutAlign=\"center center\" >\n        {{ weather.maxTemperature }}°F\n      </div>\n  </div>\n  <!--\n  <div fxLayout=\"column\" fxFlex fxLayoutAlign=\"center\" [style.padding-left]=\"'30px'\">\n    <span *ngIf=\"weather.condition\">\n      <b>{{ weather.condition }}</b>\n    </span>\n    max. temperature: {{ weather.maxTemperature }} °F<br>\n    precipitation: {{ weather.precipitation }} in<br>\n    wind: {{ weather.wind }} mph\n  </div>\n-->","import { Component, Input } from '@angular/core';\nimport { Weather } from '../services/types';\n\n@Component({\n  selector: 'gd-weather',\n  templateUrl: './weather.component.html',\n  styleUrls: ['./weather.component.sass']\n})\nexport class WeatherComponent {\n  @Input() weather: Weather;\n}\n","<youtube-player videoId=\"{{ videoId }}\" width=\"{{ width }}\"></youtube-player>\n","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n  //template: '<youtube-player videoId=\"PRQCAL_RMVo\"></youtube-player>',\n  templateUrl: './youtube.component.html',\n  selector: 'gd-youtube',\n})\n\nexport class YoutubeComponent implements OnInit {\n  @Input() videoId: string;\n  @Input() width: string;\n\n  ngOnInit() {\n    //this.videoId = 'PRQCAL_RMVo';\n    // This code loads the IFrame Player API code asynchronously, according to the instructions at\n    // https://developers.google.com/youtube/iframe_api_reference#Getting_Started\n    const tag = document.createElement('script');\n\n    tag.src = \"https://www.youtube.com/iframe_api\";\n    document.body.appendChild(tag);\n  }\n}\n","<div *ngIf=\"artifacts\" fxLayout=\"column\">\n  <gd-header *ngIf=\"artifacts\" title='Artifacts'\n    [subtitle]='types' imageUrl=\"{{ artifacts[0] }}\" userId='{{ currentUser.userId }}'>\n  </gd-header>\n  <div *ngIf=\"artifacts.length\" class=\"gd-container\" fxLayout=\"row wrap\" fxLayout.xs=\"column\">\n    <div *ngFor=\"let a of artifacts\" class=\"gd-container\" fxLayout=\"column\" fxFlex=\"33\" fxFlex.xs=\"100\">\n      <img class=\"image\" [src]=\"a.thumbnail || a.image\" [style.object-fit]=\"'cover'\" [style.width]=\"'100%'\">\n      {{a.description}}<br>\n      {{a.eventInfo}}<br>\n      {{a.type}} in {{a.collection}} collection\n    </div>\n  </div>\n</div>","import { Component } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { DataService } from '../services/data.service';\nimport { Artifact, ArtifactType } from '../services/types';\nimport { AuthService } from '../auth.service';\nimport { DEBUG } from '../config';\n\nconsole.log = function(s){\n  if (DEBUG) {\n    console.warn(s);\n  }; \n};\n\ndeclare let gtag: Function;\n\n@Component({\n  selector: 'gd-artifacts',\n  templateUrl: './artifacts.component.html'\n})\nexport class ArtifactsComponent {\n  \n  public artifacts: Artifact[];\n  protected types: ArtifactType[];\n  protected currentUser: any = { userName: '', userId:''};\n  \n  constructor(protected data: DataService, private route: ActivatedRoute, public auth: AuthService) {\n\n   \n  }\n  \n  async ngOnInit() {\n    this.auth.userProfile$.subscribe(userProfile => {\n      if (userProfile){\n        this.currentUser = {\n          userId: userProfile.sub.split(\"|\")[1],\n          userName: userProfile['http://example.com/username']\n        }\n        gtag('set', {'user_id': this.currentUser.userId});\n      }\n      \n    });\n    /*\n    if (this.route.snapshot.data['loggedIn']) {\n      this.auth.userProfile$.subscribe(userProfile => {\n        this.currentUser = this.resolve.getUser(userProfile);\n      });\n      console.log(this.currentUser);\n    }\n    */\n\n    this.route.paramMap.subscribe(async params => {\n      if (params.has('id')) {\n        //show fullscreen artifact\n      } else if (params.has('types')) {\n        this.types = JSON.parse(params.get('types'));\n        this.artifacts = await this.data.getRandomArtifacts(this.types, 6);\n      } else {\n        this.artifacts = await this.data.getRandomArtifacts(null, 6);\n        console.log(this.artifacts)\n      }\n    });\n  }\n}\n","<div *ngIf=\"artist\" fxLayout=\"column\">\n  <gd-header *ngIf=\"artist\" title=\"{{ artist.name }}\"\n    subtitle=\"{{ artist.instruments.join(', ').split('_').join(' ') }}\" userId='{{ currentUser.userId }}'>\n  </gd-header>\n  \n  <div class=\"gd-container\" fxLayout=\"row\" fxLayout.xs=\"column\">\n    <img *ngIf=\"artist.thumbnail\" class=\"image gd-container\"\n      [defaultImage]=\"'assets/gd_placeholder.png'\"\n      [lazyLoad]=\"artist.thumbnail\" [style.object-fit]=\"'contain'\"\n      fxFlex=\"50\">\n    <div class=\"gd-container\" fxFlex=\"50\">\n      {{ artist.comment }}\n    </div>\n  </div>\n  \n  <p class=\"gd-section\">Songs composed by {{artist.name}}:</p>\n  \n  <div class=\"gd-container\" fxLayout=\"column\">\n    <div class=\"gd-container\" fxLayout=\"column\">\n      <div *ngFor=\"let song of artist.compositions\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\n        <span [routerLink]=\"['/song', song.id]\">{{ song.name }}</span>\n        <!--button mat-icon-button (click)=\"openSongOptionsDialog(song)\">\n          <mat-icon>more_horiz</mat-icon>\n        </button-->\n      </div>\n    </div>\n  </div>\n  \n  <p *ngIf=\"artist.eventIds.length\" class=\"gd-section\">{{artist.name}} played with the Dead on:</p>\n  \n  <gd-shows [eventIds]=\"artist.eventIds\"></gd-shows>\n  <gd-comments [userName]=\"currentUser.userName\" [currentUserId]=\"currentUser.userId\" [title]=\"artist.name+', '+artist.instruments.join(', ').split('_').join(' ')\"></gd-comments>\n  <br>\n  <gd-sharebuttons></gd-sharebuttons>\n</div>\n<p [style.margin-bottom]=\"'75px'\"></p>\n","import { Component } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ArtistDetails } from '../services/types';\nimport { DataService } from '../services/data.service';\nimport { AuthService } from '../auth.service';\nimport { APIResolver } from '../auth.resolve';\nimport { DEBUG } from '../config';\n\nconsole.log = function(s){\n  if (DEBUG) {\n    console.warn(s);\n  }; \n};\n\ndeclare let gtag: Function;\n\n@Component({\n  selector: 'gd-artist',\n  templateUrl: './artist.component.html',\n})\nexport class ArtistComponent {\n  \n  public artist: ArtistDetails;\n  public currentUser: any = { userName: '', userId: ''};\n\n  constructor(private data: DataService, private router: Router,\n    private route: ActivatedRoute, public auth: AuthService, public resolve: APIResolver) {\n\n      \n    }\n\n  async ngOnInit() {\n    this.auth.userProfile$.subscribe(userProfile => {\n      if (userProfile){\n        this.currentUser = {\n          userId: userProfile.sub.split(\"|\")[1],\n          userName: userProfile['http://example.com/username']\n        }\n        gtag('set', {'user_id': this.currentUser.userId});\n      }\n    });\n\n    /*\n    if (this.route.snapshot.data['loggedIn']) {\n      this.auth.userProfile$.subscribe(userProfile => {\n        this.currentUser = this.resolve.getUser(userProfile);\n      });\n      console.log(this.currentUser);\n    }\n    */\n\n    this.route.paramMap.subscribe(async params => {\n      if (params.has('id')) {\n        this.artist = await this.data.getArtistDetails(params.get('id'));\n        //console.log(this.artist);\n      }\n      else {\n        this.router.navigate(['/mapselect'], { replaceUrl: true });\n      }\n\n      if (params.has('id') && !this.artist.name) {\n        this.router.navigate(['/mapselect'], { replaceUrl: true });\n      }\n\n    });\n    /* // not working\n    if (!this.artist) {\n      this.router.navigate(['/artist', (await this.data.getRandomArtistId())],\n        { replaceUrl: true });\n    }\n    */\n  }\n\n}\n","\n\n<gd-header style=\"position: fixed; width: 100%\" title=\"Index\"></gd-header>\n\n<p [style.margin-bottom]=\"'50px'\"></p>\n    <div class=\"topmargin\">\n    <button mat-flat-button fxFlex [color]=\"selected=='shows' ? 'warn' : 'primary'\" (click)=\"onSelectButton('shows')\">Shows</button>\n    <button mat-flat-button fxFlex [color]=\"selected=='venues' ? 'warn' : 'primary'\" (click)=\"onSelectButton('venues')\">Venues</button>\n    <button mat-flat-button fxFlex [color]=\"selected=='locations' ? 'warn' : 'primary'\" (click)=\"onSelectButton('locations')\">Locations</button>\n    <button mat-flat-button fxFlex [color]=\"selected=='songs' ? 'warn' : 'primary'\" (click)=\"onSelectButton('songs')\">Songs</button>\n    </div>\n\n\n    <div *ngIf=\"selected=='venues'\">\n        <div *ngFor=\"let v of venues\" >\n            <span [routerLink]=\"['/venue', v.venueId]\" style=\"cursor:pointer\">\n            {{ v.venueName }} ({{ v.locationName }})\n        </span>\n        </div>\n    </div>\n\n\n    <div *ngIf=\"selected=='locations'\">\n        <div *ngFor=\"let l of locations\" >\n            <span [routerLink]=\"['/location', l.locationId]\" style=\"cursor:pointer\">\n            {{ l.locationName }} ({{ l.country }})\n        </span>\n        </div>\n    </div>\n\n\n\n\n    <div *ngIf=\"selected=='songs'\">\n        <div *ngFor=\"let s of songs\" >\n            <span [routerLink]=\"['/song', s.songId]\" style=\"cursor:pointer\">\n            {{ s.songName }}\n        </span>\n        </div>\n    </div>\n\n\n\n    <div *ngIf=\"selected=='shows'\">\n        <div *ngFor=\"let s of shows\" >\n            <span [routerLink]=\"['/show', s.showId]\" style=\"cursor:pointer\">\n            {{ s.date }} {{ s.venueName }}, {{ s.locationName }}\n        </span>\n        </div>\n    </div>\n\n\n<p [style.margin-bottom]=\"'150px'\"></p>","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { DataService } from '../services/data.service';\n\n@Component({\n  selector: 'app-index',\n  templateUrl: './index.component.html',\n  styleUrls: ['./index.component.sass']\n})\nexport class IndexComponent implements OnInit {\n\n  public selected: String;\n  public shows: any;\n  public venues: any;\n  public locations: any;\n  public songs: any;\n  public test: string;\n\n  constructor(private data: DataService) { }\n\n  ngOnInit(): void {\n    this.selected = 'shows';\n    this.onSelectButton('shows');\n  }\n\n  public onSelectButton(s) {\n    this.selected = s;\n    switch(s) {\n      case 'shows':\n        this.getShows();\n        break;\n      case 'venues':\n        this.getVenues();\n        break;\n      case 'locations':\n        this.getLocations();\n        break;\n      case 'songs':\n        this.getSongs();\n    }\n  }\n\n  protected async getShows(){\n    this.shows = await this.data.getShowIndex();\n  }\n\n  protected async getVenues(){\n    this.venues = await this.data.getVenueIndex();\n  }\n\n  protected async getLocations(){\n    this.locations = await this.data.getLocationIndex();\n  }\n\n  protected async getSongs(){\n    this.songs = await this.data.getSongIndex();\n  }\n\n}\n","<div *ngIf=\"location\" fxLayout=\"column\">\n  <gd-header *ngIf=\"location\" title='{{ location.name }}'\n    subtitle='{{ location.state }}' imageUrl=\"{{ location.image }}\" userId='{{ currentUser.userId }}'>\n  </gd-header>\n  <div class=\"container\" fxLayout=\"row wrap\" fxLayout.xs=\"column\" fxFlex=\"100\">\n    <div class=\"gd-container\" fxLayout=\"column\" fxFlex=\"1 1 33%\" fxFlex.sm=\"1 1 50%\">\n      <p *ngIf=\"data.event\">The Band played on {{ data.event.date }}</p>\n      <p>{{ location.comment }}</p>\n    </div>\n    <div class=\"gd-container\" fxLayout=\"column\" fxFlex=\"1 1 33%\" fxFlex.sm=\"1 1 50%\">\n      <img class=\"image\" [defaultImage]=\"'assets/gd_placeholder.png'\" [lazyLoad]=\"location.thumbnail\" fxFlex=\"1 1 auto\">\n    </div>\n    <div class=\"gd-container\" fxLayout=\"column\" fxFlex=\"1 1 33%\" fxFlex.sm=\"1 1 100%\">\n      <gd-map fxFlex=\"1 1 auto\" [style.height]=\"'100%'\" zoom=\"15\"\n        latitude=\"{{ location.geoloc.lat }}\" longitude=\"{{ location.geoloc.long }}\"></gd-map>\n    </div>\n  </div>\n\n  \n  <div *ngIf=\"videos\">\n    <div class=\"gd-container\" fxLayout=\"column\" fxFlex=\"50\">\n      <gd-youtube videoId=\"{{ currentVideoId }}\" width=\"100%\"></gd-youtube>\n      <ng-select bindLabel=\"title\"\n                 [clearable]=\"false\"\n                 (change)=\"selectVideo()\"\n                 [searchable]=\"false\"\n                 [(ngModel)]=\"currentVideoId\">         \n        <ng-option [value]=\"v.videoId\" *ngFor=\"let v of videos\">\n            <img src=\"{{v.thumbnail}}\" height=\"40px\"/>\n            {{v.title}}\n        </ng-option>\n      </ng-select>\n    </div>\n  </div>\n\n  \n  <p class=\"gd-section\">All shows in {{ location.name }}:</p>\n  \n  <gd-shows [eventIds]=\"location.eventIds\" [onOptions]=\"openOptionsDialog.bind(this)\"></gd-shows>\n  <gd-comments [userName]=\"currentUser.userName\" [currentUserId]=\"currentUser.userId\" [title]=\"location.name+', '+location.state\"></gd-comments>\n  <br>\n  <gd-sharebuttons></gd-sharebuttons>\n</div>\n<p [style.margin-bottom]=\"'75px'\"></p>","import { Component } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { DataService } from '../services/data.service';\nimport { Location } from '../services/types';\nimport { AuthService } from '../auth.service';\nimport { DeadEventInfo } from '../services/types';\nimport { DialogService } from '../services/dialog.service';\nimport { DEBUG } from '../config';\n\nconsole.log = function(s){\n  if (DEBUG) {\n    console.warn(s);\n  }; \n};\n\n\ndeclare let gtag: Function;\n\n@Component({\n  selector: 'gd-location',\n  templateUrl: './location.component.html'//,\n  //styleUrls: ['./location.component.sass']\n})\nexport class LocationComponent {\n  public location: Location;\n  public currentUser: any = { userName: '', userId:'' };\n  public videos: any;\n  public currentVideoId: string;\n  \n  constructor(protected data: DataService, private router: Router,\n    private route: ActivatedRoute, public auth: AuthService, private dialog: DialogService) {\n\n      \n\n    }\n\n    ngOnInit() {\n      this.auth.userProfile$.subscribe(userProfile => {\n        if (userProfile){\n          this.currentUser = {\n            userId: userProfile.sub.split(\"|\")[1],\n            userName: userProfile['http://example.com/username']\n          }\n          gtag('set', {'user_id': this.currentUser.userId});\n        }\n      });\n      /*\n      if (this.route.snapshot.data['loggedIn']) {\n        this.auth.userProfile$.subscribe(userProfile => {\n          this.currentUser = this.resolve.getUser(userProfile);\n        });\n        console.log(this.currentUser);\n      } */\n   \n    this.route.paramMap.subscribe(async params => {\n      if (params.has('id')) {\n        this.location = await this.data.getLocation(params.get('id'));\n      }\n      else {\n        this.router.navigate(['/mapselect'], { replaceUrl: true });\n      }\n\n\n      if (params.has('id') && this.location.state) {\n        this.videos = await this.data.getYoutubeList(this.location.id, ['Grateful Dead', this.location.name]);\n        this.currentVideoId = this.videos[0].videoId;\n        console.log(this.videos);\n        }\n      else {\n        this.router.navigate(['/mapselect'], { replaceUrl: true });\n      }\n    });\n  }\n\n  protected openOptionsDialog(event: DeadEventInfo) {\n    this.dialog.openMultiFunction(\n      event.venue+\", \"+event.date,\n      [\"Go to show\", \"Go to recording\"],\n      [() => this.router.navigate(['/show', event.id]),\n        () => this.openRecordingsDialog(event)]\n    );\n  }\n\n  private openRecordingsDialog(event: DeadEventInfo) {\n    this.dialog.openMultiFunction(\n      \"Recordings of '\"+event.venue+\", \"+event.date,\n      event.recordings.map(r => r.etreeId),\n      event.recordings.map(r => () => this.router.navigate(['/recording', r.id]) )\n    );\n  }\n\n  selectVideo(){\n    console.log(this.currentVideoId);\n  }\n\n}\n","\n<div fxLayout=\"column\">\n\n<!-- \n<div *ngIf=\"venues\" class=\"gd-container\" fxLayout=\"column\" fxFlex=\"1 1 100%\" fxFlex.sm=\"1 1 100%\"> \n  <gd-showmap [venues]=\"venues\" fxFlex=\"1 1 auto\" [style.height]=\"'100%'\" zoom=\"2.5\"></gd-showmap>\n</div>\n-->\n<gd-header title='Map' subtitle=\"Selector\" userId='{{ currentUser.userId }}'></gd-header>\n \n<div class=\"gd-container\" fxLayout=\"row\" fxFlex=\"1 1 100%\" fxFlex.sm=\"1 1 100%\"> \n    <gd-showmap style=\"z-index:0;\" fxFlex=\"1 1 auto\" [style.height]=\"'100%'\" zoom=\"2.5\"></gd-showmap>\n  </div>\n  <gd-sharebuttons></gd-sharebuttons>\n</div>","import { Component } from '@angular/core';\nimport { DataService } from '../services/data.service';\nimport { DomSanitizer, SafeStyle } from '@angular/platform-browser';\nimport { VenueDetails } from '../services/types';\nimport { AuthService } from '../auth.service';\nimport { DEBUG } from '../config';\n\nconsole.log = function(s){\n  if (DEBUG) {\n    console.warn(s);\n  }; \n};\n\ndeclare let gtag: Function;\n\n@Component({\n  selector: 'gd-mapselect',\n  templateUrl: './mapselect.component.html',\n  //styleUrls: ['./mapselect.component.sass']\n})\n\nexport class MapSelectComponent {\n  public currentUser: any = { userName: '', userId:'' };\n  protected venues: VenueDetails[];\n  protected test: number;\n\n  constructor(private data: DataService, private sanitizer: DomSanitizer,\n  public auth: AuthService) {\n\n    \n\n  }\n\n  ngOnInit() {\n    this.auth.userProfile$.subscribe(userProfile => {\n      if (userProfile){\n        this.currentUser = {\n          userId: userProfile.sub.split(\"|\")[1],\n          userName: userProfile['http://example.com/username']\n        }\n        gtag('set', {'user_id': this.currentUser.userId});\n      }\n    });\n    /*\n    if (this.route.snapshot.data['loggedIn']) {\n      this.auth.userProfile$.subscribe(userProfile => {\n        this.currentUser = this.resolve.getUser(userProfile);\n      });\n      console.log(this.currentUser);\n    }\n    */\n\n\n    //this.venues = await this.data.getVenueCoordinates();\n    //console.log(this.venues);\n\n\n\n\n  }\n\n\n\n}\n","<div *ngIf=\"playlist\" fxLayout=\"column\">\n  <gd-header title='Playlist '\n    subtitle=' – \"{{ playlist.name }}\"' userId='{{ currentUser.userId }}'>\n  </gd-header>\n\n  <div><br></div>\n    the playlist \"{{ playlist.name }}\" has been loaded in the audio player:\n    <div><br></div>\n    <div *ngFor=\"let t of playlist.playlist; index as i\">\n        <small>{{i+1}}. {{ t.title }}</small>\n    </div>\n\n\n</div>","import { Component } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { DataService } from '../services/data.service';\nimport { PlayerService } from '../services/player.service';\nimport { AuthService } from '../auth.service';\nimport { DEBUG } from '../config';\n\nconsole.log = function(s){\n  if (DEBUG) {\n    console.warn(s);\n  }; \n};\n\ndeclare let gtag: Function;\n\n@Component({\n  selector: 'gd-playlist',\n  templateUrl: './playlist.component.html'\n})\nexport class PlaylistComponent {\n\n  public currentUser: any = { userName: '', userId:'' };\n  public playlist: any;\n  public shareUsername: string;\n  protected playlistId: string;\n\n  constructor(private data: DataService,  private router: Router, private route: ActivatedRoute,\n    private player: PlayerService, public auth: AuthService) {}\n\n    async ngOnInit() {\n\n      this.auth.userProfile$.subscribe(userProfile => {\n        if (userProfile){\n          this.currentUser = {\n            userId: userProfile.sub.split(\"|\")[1],\n            userName: userProfile['http://example.com/username']\n          }\n          gtag('set', {'user_id': this.currentUser.userId});\n        }\n      });\n\n      this.route.paramMap.subscribe(async params => {\n        if (params.has('id')) {\n          this.getPlaylist(params.get('id'));\n        }\n      });\n\n    }\n\n    async getPlaylist(playlistId){\n      //playlistId = '6181aba048dc0b94d09e8664';\n      const res = await this.data.getPlaylist(playlistId);\n      this.playlist = res.playlists[0];\n      console.log(this.playlist);\n      this.player.playlist = [...this.playlist.playlist];\n      this.player.storePlaylist();\n    }\n  }","<!--div *ngIf=\"recording && event\" fxLayout=\"column\">\n  <gd-header *ngIf=\"recording && event\" title='{{ recording.etreeId }}'\n    subtitle='{{ event.location }}'>\n  </gd-header>\n\n  <div *ngIf=\"recording\" class=\"gd-container\" fxLayout=\"column\" class=\"topmargin\" >\n    <div fxLayout=\"column\" fxFlex class=\"gd-container\">\n      <ng-container *ngIf=\"event\">\n        Recorded at: {{ event.venue }}, {{ event.location }}, {{ event.state }}, {{ event.date }}<br></ng-container>\n      <ng-container *ngIf=\"recording.info.lineage\">\n        Lineage: {{ recording.info.lineage }}<br></ng-container>\n      <ng-container *ngIf=\"recording.info.source\">\n        Source: {{ recording.info.source }}<br></ng-container>\n      <ng-container *ngIf=\"recording.info.notes\">\n        Notes: {{ recording.info.notes }}<br/></ng-container>\n      <ng-container *ngIf=\"recording.info.keywords\">\n        Notes: {{ recording.info.keywords }}<br/></ng-container>\n      <br>\n      <ng-container *ngIf=\"recording.tracks\">\n        Tracks:\n        <div *ngFor=\"let t of recording.tracks\">\n          <span [routerLink]=\"['/song', t.id]\"> {{ t.track }}: {{ t.title }}</span>\n          <button mat-icon-button (click)=\"openTrackOptionsDialog(t)\">\n            <mat-icon>more_horiz</mat-icon>\n          </button>\n        </div><br/>\n      </ng-container-->\n\n<div *ngIf=\"recordinginfo\" fxLayout=\"column\">\n  <gd-header title='{{ recordinginfo.etree_id }}'\n    subtitle=' – {{ recordinginfo.location_name }}' userId='{{ currentUser.userId }}'>\n  </gd-header>\n\n      <div class=\"gd-container\" fxLayout=\"column\" class=\"topmargin\" >\n        <div fxLayout=\"column\" fxFlex class=\"gd-container\">\n          <ng-container>\n            <i>Recorded at:</i> \n            <span class=\"link\" [routerLink]=\"['/venue', recordinginfo.venue_id]\">{{ recordinginfo.venue_name }}, </span>\n            <span class=\"link\" [routerLink]=\"['/location', recordinginfo.location_id]\">{{ recordinginfo.location_name }}, </span>\n            <span class=\"link\" [routerLink]=\"['/show', recordinginfo.show_id]\">{{ recordinginfo.date }} </span>\n          </ng-container><div><br></div>\n\n          <ng-container *ngIf=\"recordinginfo.lineage\">\n            <i>Lineage:</i> {{ recordinginfo.lineage }}<div><br></div></ng-container>\n          <ng-container *ngIf=\"recordinginfo.source\">\n            <i>Source:</i> {{ recordinginfo.source }}<div><br></div></ng-container>\n          <ng-container *ngIf=\"recordinginfo.notes\">\n            <i>Notes:</i> {{ recordinginfo.notes }}<div><br></div></ng-container>\n          <ng-container *ngIf=\"recordinginfo.subject\">\n            <i>Subject:</i> {{ _array.isArray(recordinginfo.subject) ? recordinginfo.subject.join(', ') : recordinginfo.subject }}</ng-container><div><br></div>\n          <ng-container *ngIf=\"tracklist\">\n            Tracks:\n            <div *ngFor=\"let t of tracklist\">\n              <span> {{ t.track }}: {{ t.title }}</span>\n              <button mat-icon-button (click)=\"openTrackOptionsDialog(t)\">\n                <mat-icon>more_horiz</mat-icon>\n              </button>\n            </div>\n            <span class=\"link\" (click)=\"addAllToPlaylist()\">add all to playlist</span>\n          </ng-container><div><br></div>\n          \n\n     <a href=\"{{ 'https://archive.org/details/' + recordinginfo.etree_id }}\" target=\"_blank\">  <img src=\"https://archive.org/images/glogo.png\" [style.object-fit]=\"'contain'\"></a>\n     \n    </div>\n  </div>\n  <gd-comments [userName]=\"currentUser.userName\" [currentUserId]=\"currentUser.userId\" [title]=\"recordinginfo.etree_id+', '+recordinginfo.location_name\"></gd-comments>\n  <br>\n  <gd-sharebuttons></gd-sharebuttons>\n</div>\n<p [style.margin-bottom]=\"'75px'\"></p>","import { Component } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { DataService } from '../services/data.service';\nimport { RecordingDetails, DeadEventInfo, AudioTrack, RecordingInfo, Recording } from '../services/types';\nimport { PlayerService } from '../services/player.service';\nimport { DialogService } from '../services/dialog.service';\nimport { AuthService } from '../auth.service';\nimport { DEBUG } from '../config';\n\nconsole.log = function(s){\n  if (DEBUG) {\n    console.warn(s);\n  }; \n};\n\ndeclare let gtag: Function;\n\n@Component({\n  selector: 'gd-recording',\n  templateUrl: './recording.component.html'\n})\nexport class RecordingComponent {\n  protected recording: RecordingDetails;\n  protected event: DeadEventInfo;\n  public currentUser: any = { userName: '', userId: ''};\n  protected tracklist: any[];\n  public recordinginfo: RecordingInfo;\n  protected _array = Array;\n  \n  constructor(protected data: DataService, private router: Router,\n    private route: ActivatedRoute, private dialog: DialogService,\n    private player: PlayerService, public auth: AuthService) {\n\n      \n\n    }\n\n  ngOnInit() {\n    this.auth.userProfile$.subscribe(userProfile => {\n      if (userProfile){\n        this.currentUser = {\n          userId: userProfile.sub.split(\"|\")[1],\n          userName: userProfile['http://example.com/username']\n        }\n        gtag('set', {'user_id': this.currentUser.userId});\n      }\n    });\n    /*\n    if (this.route.snapshot.data['loggedIn']) {\n      this.auth.userProfile$.subscribe(userProfile => {\n        this.currentUser = this.resolve.getUser(userProfile);\n      });\n      console.log(this.currentUser);\n    }\n    */\n    this.route.paramMap.subscribe(async params => {\n      if (params.has('id')) {\n        //this.recording = await this.data.getRecording(params.get('id'));\n        //this.event = await this.data.getEventInfoForRecording(this.recording.id);\n\n        //const rec_id = params.get('id');\n        this.recordinginfo = await this.data.getRecordingInfo(params.get('id'));\n      }\n      else {\n        this.router.navigate(['/mapselect'], { replaceUrl: true });\n      }\n\n\n      if (params.has('id') && this.recordinginfo) {\n        var tracklist = await this.data.getTracklist(params.get('id'));\n        tracklist.forEach(t =>{  // format to Audiotrack, take first song_id for now\n          if (t.song) {\n            t['id'] = t.song[0].song_id;\n            delete t.song;\n          }\n          t.track = t.track.toString();\n        })\n        this.tracklist = tracklist;\n        //console.log(this.recordinginfo)\n        //console.log(this.tracklist);\n      }\n      else {\n        this.router.navigate(['/mapselect'], { replaceUrl: true });\n      }\n\n\n      /*\n      if (!this.recording) {\n        this.router.navigate(['/recording', (await this.data.getRandomRecording()).id],\n          { replaceUrl: true });\n      } */\n    });\n  }\n  \n  protected openTrackOptionsDialog(audio: AudioTrack) {    \n    if (audio.id) {\n      this.dialog.openMultiFunction(\n        audio.track + \" \" + audio.title,\n        [\"add to playlist\", \"go to song\"], [() => this.addTrackToPlaylist(audio), \n          () => this.router.navigate(['/song', audio.id])]);\n    }\n    else {\n      this.dialog.openMultiFunction(\n        audio.track + \" \" + audio.title,\n        [\"add to playlist\"], [() => this.addTrackToPlaylist(audio)]);\n    }\n  }\n  \n  \n  /*\n  private async addTrackToPlaylist(audio: AudioTrack) {\n    console.log(audio.id)\n    const info = await this.data.getEventInfo(this.event.id);\n    const track = await this.data.getTrackFromAudio(audio, info, this.recording.etreeId);\n    if (track) this.player.addToPlaylist(track);\n  }\n  */\n\n  private async addTrackToPlaylist(audio: AudioTrack) {\n    const track = this.data.toPlayerTrack(this.recordinginfo.venue_name, \n                                          this.recordinginfo.location_name, \n                                          this.recordinginfo.date, \n                                          this.recordinginfo.show_id,\n                                          this.recordinginfo.etree_id,\n                                          audio,\n                                          this.recordinginfo.recording_id);\n                                          \n    this.player.addToPlaylist(track);\n  }\n\n\n  public addAllToPlaylist() {\n    if (this.tracklist) this.tracklist.forEach(t => this.addTrackToPlaylist(t));\n  }\n\n}\n","<div *ngIf=\"event\" fxLayout=\"column\">\n  <gd-header style=\"position: fixed; width: 100%\" *ngIf=\"event\" title='{{event.location.name}}, {{event.location.state}}' subtitle='{{formatDate}}'\n    imageUrl=\"{{eventImage}}\" userId='{{ currentUser.userId }}'>\n    <gd-weather [weather]=\"event.weather\"></gd-weather>\n  </gd-header>\n  <div class=\"gd-container\" fxLayout=\"row wrap\" fxLayout.xs=\"column\" class=\"topmargin\" >\n    \n    <div class=\"gd-container\" fxLayout=\"column\" fxFlex=\"50\" [routerLink]=\"['/location', event.location.id]\">\n      <h2 class=\"titlef\">Location: <span class=\"normweight\">{{ event.location.name }}</span></h2>\n      <img class=\"image\" *ngIf=\"event.location.thumbnail\" [lazyLoad]=\"event.location.thumbnail\" fxFlex=\"1 1 auto\"  [style.object-fit]=\"'contain'\">\n    </div>\n    \n    <div class=\"gd-container\" fxLayout=\"column\" fxFlex=\"50\" [routerLink]=\"['/venue', event.venue.id]\">\n      <h2 class=\"titlef\">Venue: <span class=\"normweight\">{{ event.venue.name }}</span></h2>\n      <img class=\"image\" *ngIf=\"event.venue.thumbnail\" [lazyLoad]=\"event.venue.thumbnail\" fxFlex=\"1 1 auto\"  [style.object-fit]=\"'contain'\">\n    </div>\n    \n    <div class=\"gd-container\" fxLayout=\"column\" fxFlex=\"50\">\n        <h2 class=\"titlef\">Setlist </h2>\n      <div fxLayout=\"column\" *ngFor=\"let set of event.setlist\">\n        <h3>{{ set.name }}</h3>\n        <!-- <div *ngFor=\"let song of set.songs\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\"> -->\n        <div *ngFor=\"let song of set.songs, let i = index\" fxLayout=\"row\">\n          <span [routerLink]=\"['/song', song.id]\">{{( \"0\"+(i+1)).slice(-2) }} {{ song.name }}</span>\n          <button mat-icon-button (click)=\"openSongOptionsDialog(song, set.name, i+1)\">\n            <mat-icon>more_horiz</mat-icon>\n          </button>\n        </div>\n      </div>\n    </div>\n    \n    <div class=\"gd-container\" fxLayout=\"column\" fxFlex=\"50\">\n      <h2 class=\"titlef\">Lineup</h2>\n        <div *ngFor=\"let p of event.performers\" [routerLink]=\"['/artist', p.id]\"> \n          <img class=\"image\" [lazyLoad]=\"p.thumbnail\"\n          [style.width]=\"'70px'\" [style.height]=\"'70px'\"> \n          <span>&nbsp;&nbsp;&nbsp;&nbsp;{{ p.name }} ({{ p.instruments.join(', ') }})</span>\n        </div>\n \n    <!--div fxLayout=\"column\" fxFlex=\"1 1 auto\">\n      <iframe [src]=\"recordingUrls[0]\" [style.min-width]=\"'350px'\" [style.height]=\"'100%'\" frameborder=\"0\"></iframe>\n    </div-->\n    \n  </div>\n  \n  <div class=\"gd-container\" fxLayout=\"column\" fxFlex=\"50\">\n    <h2 class=\"titlef\">News of the week</h2>\n    <div *ngFor=\"let n of event.news\">\n      <a [href]=\"n.url\" target=\"_blank\" [style.text-decoration]=\"'none'\">\n        {{ n.date+\": \"+n.title+\" (\"+n.source+\")\" }}\n      </a>\n    </div>\n  </div>\n  \n  <div class=\"gd-container\" fxLayout=\"column\" fxFlex=\"50\">\n    <h2 class=\"titlef\">Available recordings</h2>\n    <div *ngFor=\"let r of event.recordings\">\n      <span [routerLink]=\"['/recording', r.id]\">{{ r.etreeId }}</span>\n      <button mat-icon-button (click)=\"openRecordingOptionsDialog(r)\">\n        <mat-icon>more_horiz</mat-icon>\n      </button>\n    </div>\n  </div>\n  \n\n    <!-- \n  <h2 *ngIf=\"photos.length\" class=\"gd-section\"><span class=\"titlef\">Photos from the show</span></h2>\n  \n  <div *ngIf=\"photos.length\" class=\"gd-container\" fxLayout=\"row wrap\" fxLayout.xs=\"column\">\n    <div *ngFor=\"let s of photos\" class=\"gd-container\" fxLayout=\"column\" fxFlex=\"33\" fxFlex.xs=\"100\">\n      <img style=\"max-width: 200px;\" class=\"image\" [lazyLoad]=\"s\" [style.object-fit]=\"'contain'\">\n    </div>\n  </div>\n-->\n  \n<div *ngIf=\"photos.length>0\">\n  <div class=\"gd-container\" fxLayout=\"column\" fxFlex=\"50\">\n    <h2 class=\"gd-section\"><span class=\"titlef\">Photos</span></h2>\n    <div id=\"galleryContainer\">\n      <div style=\"width: 100%;\"\n        ng2-carouselamos\n        class=\"slides-wrapper\"\n        [items]=\"photos\"\n        [width] = 800\n        [$prev]=\"prev\"\n        [$next]=\"next\"\n        [$item]=\"item\"\n      >\n      </div>\n\n      <ng-template #prev>\n        <img style=\"cursor: pointer;\" *ngIf=\"photos.length>1\" src=\"assets/arrow_left.png\" id=\"left\" height=\"30\" />\n      </ng-template>\n      <ng-template #next>\n        <img style=\"cursor: pointer;\" *ngIf=\"photos.length>1\" src=\"assets/arrow_right.png\" id=\"right\" height=\"30\"/>\n      </ng-template>\n      <ng-template #item let-item let-i=\"index\">\n\n      <div class=\"slide-items\">\n        <img src=\"{{ item.thumbnail }}\" (click)=\"onClickPhoto(item)\" height=\"200px\" width=\"auto\">\n        <!--div>{{ item.description }}</div>\n        <u><a href=\"{{ item.source }}\" target=\"_blank\">({{ item.collection }})</a></u-->\n      </div>\n    </ng-template>\n    </div>\n    <div *ngIf=\"currentPhoto\" class=\"photo-text\">\n      <span *ngIf=\"currentPhoto.description\">{{ currentPhoto.description }} <br> </span>\n      <a *ngIf=\"currentPhoto.collection=='GDAO'\" href=\"{{ currentPhoto.source }}\" target=\"_blank\">\n        <img src=\"https://www.gdao.org/themes/gdao-theme/images/logo-gdao.png\" height=\"50px\" width=\"auto\">\n      </a>\n      <a *ngIf=\"currentPhoto.collection=='Psilo'\" href=\"http://www.psilo.com/dead/\" target=\"_blank\">\n        <img src=\"http://www.psilo.com/dead/images/logo_psilo.jpg\" height=\"50px\" width=\"auto\">\n      </a>\n    </div>\n  </div>\n\n  \n  <!--div *ngIf=\"currentPhoto\" class=\"gd-container\" fxLayout=\"column\" fxFlex=\"50\">\n    <p [style.margin-bottom]=\"'25px'\"></p>\n    <img class=\"current-photo\" src=\"{{ currentPhoto.image }}\" (click)=\"lightbox.openLightboxArray(photosLightbox, currentPhoto.index)\"> \n  </div-->\n</div>\n\n\n<div *ngIf=\"artifacts.length>0\">\n  <div class=\"gd-container\" fxLayout=\"column\" fxFlex=\"50\">\n    <h2 class=\"gd-section\"><span class=\"titlef\">Other Artifacts</span></h2>\n    <div id=\"galleryContainer\">\n      <div style=\"width: 100%;\"\n        ng2-carouselamos\n        class=\"slides-wrapper\"\n        [items]=\"artifacts\"\n        [width] = 800\n        [$prev]=\"prev\"\n        [$next]=\"next\"\n        [$item]=\"item\"\n      >\n      </div>\n\n      <ng-template #prev>\n        <img style=\"cursor: pointer;\" *ngIf=\"artifacts.length>1\" src=\"assets/arrow_left.png\" id=\"left\" height=\"30\" />\n      </ng-template>\n      <ng-template #next>\n        <img style=\"cursor: pointer;\" *ngIf=\"artifacts.length>1\" src=\"assets/arrow_right.png\" id=\"right\" height=\"30\"/>\n      </ng-template>\n      <ng-template #item let-item let-i=\"index\">\n\n      <div class=\"slide-items\">\n        <img src=\"{{ item.thumbnail }}\" (click)=\"onClickArtifact(item)\" height=\"200px\" width=\"auto\">\n        <!--div>{{ item.description }}</div>\n        <u><a href=\"{{ item.source }}\" target=\"_blank\">({{ item.collection }})</a></u-->\n      </div>\n    </ng-template>\n    </div>\n    <div *ngIf=\"currentArtifact\" class=\"photo-text\">\n      {{ currentArtifact.type }} <br>\n      <span *ngIf=\"currentArtifact.description\">{{ currentArtifact.description }} <br> </span>\n      <a *ngIf=\"currentArtifact.collection=='GDAO'\" href=\"{{ currentArtifact.source }}\" target=\"_blank\">\n        <img src=\"https://www.gdao.org/themes/gdao-theme/images/logo-gdao.png\" height=\"50px\" width=\"auto\">\n      </a>\n      <a *ngIf=\"currentArtifact.collection=='Psilo'\" href=\"http://www.psilo.com/dead/\" target=\"_blank\">\n        <img src=\"http://www.psilo.com/dead/images/logo_psilo.jpg\" height=\"50px\" width=\"auto\">\n      </a>\n    </div>\n  </div>\n\n  <!--div *ngIf=\"currentArtifact\" class=\"gd-container\" fxLayout=\"column\" fxFlex=\"50\">\n    <p [style.margin-bottom]=\"'25px'\"></p>\n    <img class=\"current-photo\" src=\"{{ currentArtifact.image }}\" (click)=\"lightbox.openLightboxArray(artifactsLightbox, currentArtifact.index)\"> \n  </div-->\n</div>\n\n\n  </div>\n  <gd-comments [userName]=\"currentUser.userName\" [currentUserId]=\"currentUser.userId\" [title]=\"event.location.name+', '+event.location.state+' – '+event.date\"></gd-comments>\n  <br>\n  <gd-sharebuttons></gd-sharebuttons>\n</div>\n<p [style.margin-bottom]=\"'75px'\"></p>","import { Component, ChangeDetectorRef } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { DomSanitizer, SafeStyle } from '@angular/platform-browser';\nimport { DeadEventDetails, Artifact, SongInfo, ArtifactType, Recording, AudioTrack } from '../services/types';\nimport { DataService } from '../services/data.service';\nimport { DialogService } from '../services/dialog.service';\nimport { PlayerService } from '../services/player.service';\nimport { AuthService } from '../auth.service';\nimport { LightboxService } from '../services/lightbox.service';\nimport { DEBUG } from '../config';\n\nconsole.log = function(s){\n  if (DEBUG) {\n    console.warn(s);\n  }; \n};\n\ndeclare let gtag: Function;\n\n@Component({\n  selector: 'gd-show',\n  templateUrl: './show.component.html',\n  styleUrls:['./show.component.sass']\n})\nexport class ShowComponent {\n  \n  public event: DeadEventDetails;\n  protected recordingUrls: SafeStyle[];\n  //protected photos: string[];\n  protected photos: Artifact[];\n  protected artifacts: Artifact[];\n  protected eventImage: string;\n  public currentUser: any = { userName: '', userId:'' };\n  protected formatDate: string;\n  public currentPhoto: Artifact;\n  public photosLightbox: any;\n  public currentArtifact: Artifact;\n  public artifactsLightbox: any;\n  \n  constructor(private data: DataService, private sanitizer: DomSanitizer,\n    private router: Router, private route: ActivatedRoute,\n    private dialog: DialogService, private player: PlayerService, public auth: AuthService, \n    private changeDetectorRef: ChangeDetectorRef, private lightbox: LightboxService) {\n\n    }\n\n    async ngOnInit() {\n      this.auth.userProfile$.subscribe(userProfile => {\n        if (userProfile){\n          this.currentUser = {\n            userId: userProfile.sub.split(\"|\")[1],\n            userName: userProfile['http://example.com/username']\n          }\n          gtag('set', {'user_id': this.currentUser.userId});\n        }\n      });\n\n      /*\n      this.currentUser = { userName: '', userId: ''}\n      if (this.route.snapshot.data['loggedIn']) {\n        this.auth.userProfile$.subscribe(userProfile => {\n          this.currentUser = this.resolve.getUser(userProfile);\n        });\n        console.log(this.currentUser);\n      }*/\n      \n    this.route.paramMap.subscribe(async params => {\n      if (params.has('id')) {\n        this.event = await this.data.getEventDetails(params.get('id'));\n      }\n      else {\n        this.router.navigate(['/mapselect'], { replaceUrl: true });\n      }\n\n      if (this.event.date) {\n        this.formatDate = this.data.formatDate(this.event.date);\n        this.recordingUrls = this.event.recordings.map(r => \n          this.sanitizer.bypassSecurityTrustResourceUrl(\"https://archive.org/embed/\"+r.etreeId+\"&playlist=1\")\n        );\n        console.log(this.event)\n        this.photos = this.event.artifacts\n          .filter(a => a.type === ArtifactType.Photo)//.map(a => a.image);\n        this.artifacts = this.event.artifacts.filter(a => a.type !== ArtifactType.Photo);\n        const poster = this.event.artifacts.filter(a => a.type == ArtifactType.Poster)[0];\n        const pass = this.event.artifacts.filter(a => a.type == ArtifactType.Pass)[0];\n        const ticket = this.event.artifacts.filter(a => a.type == ArtifactType.Ticket)[0];\n        this.eventImage = this.photos.length ? this.photos[0].image\n          : poster ? poster.image : pass ? pass.image : ticket ? ticket.image\n          : this.event.location.thumbnail;\n        var gl;\n        if (this.photos.length>0) {\n          gl = this.lightbox.makeGallery(this.photos);\n          this.photosLightbox = gl[0];\n          this.photos = gl[1];\n          this.currentPhoto = this.photos[0];\n        } \n        if (this.artifacts.length) {\n          gl = this.lightbox.makeGallery(this.artifacts);\n          this.artifactsLightbox = gl[0];\n          this.artifacts = gl[1];\n          this.currentArtifact = this.artifacts[0];\n          console.log(this.currentArtifact);\n        }\n        this.changeDetectorRef.detectChanges();\n\n\n      } else {\n        //this.router.navigate(['/show', await this.data.getRandomEventId()],\n        this.router.navigate(['/mapselect'], { replaceUrl: true });\n      }\n      \n    });\n  }\n\n  /*\n  protected openSongOptionsDialog(song: SongInfo, set: string, idx: number) {\n    this.dialog.openMultiFunction(\n      //song.name+\"', \"+this.event.venue.name+\", \"+this.event.date,\n      set + \"/Track \" + idx + \": \" + '\"'+song.name+'\"',\n      [\"add to playlist\", \"go to song\"],\n      [() => this.addSongToPlaylist(song),\n        () => this.router.navigate(['/song', song.id])]\n    );\n  }\n*/\n\n  protected openSongOptionsDialog(song: SongInfo, set: string, idx: number) {\n    this.dialog.openMultiFunction(\n      //song.name+\"', \"+this.event.venue.name+\", \"+this.event.date,\n      set + \"/Track \" + idx + \": \" + '\"'+song.name+'\"',\n      [\"add to playlist\", \"go to song\"],\n      [() => this.openRecordingsDialog(song),\n        () => this.router.navigate(['/song', song.id])]\n    );\n  }\n\n\n  private openRecordingsDialog(song: SongInfo) {\n    this.dialog.openMultiFunction(\n      \"Recordings of '\"+song.name+\"', \"+this.event.venue+\", \"+this.event.date,\n      this.event.recordings.map(r => r.etreeId),\n      this.event.recordings.map(r => () => this.addTrackToPlaylist(song, r.etreeId, r.id))\n    );\n  }\n\n  \n  protected openRecordingOptionsDialog(recording: Recording) {\n    this.dialog.openMultiFunction(\n      \"Recording \"+recording.etreeId,\n      [\"add all to playlist\", \"go to recording\"],\n      [() => this.addRecordingToPlaylist(recording),\n        () => this.router.navigate(['/recording', recording.id])]\n    );\n  }\n  \n  /*\n  private async addSongToPlaylist(song: SongInfo) {\n    const info = await this.data.getEventInfo(this.event.id);\n    const track = await this.data.getTrack(song, info);\n    if (track) this.player.addToPlaylist(track);\n  }\n\n\n private async addSongToPlaylist(song: SongInfo) {\n  const info = await this.data.getEventInfo(this.event.id);\n  const track = await this.data.getTrack(song, info);\n  if (track) this.player.addToPlaylist(track);\n}\n  */\n\n\n\nprivate async addTrackToPlaylist(song: SongInfo, recordingEtreeId: string, recordingId: string) {\n  const eventInfo = { \n    id: this.event.id,\n    date: this.event.date,\n    location: this.event.location.name,\n    state: '',\n    venue: this.event.venue.name,\n    recordings: this.event.recordings,\n    artifacts: null //this.artifacts\n  }\n  var songDetails = await this.data.getSong(song.id);\n  this.data.getTracks(songDetails, eventInfo, recordingEtreeId, recordingId)\n    .forEach(t => this.player.addToPlaylist(t));\n}\n  /*\n  private async addRecordingToPlaylist(recording: Recording) {\n    const info = await this.data.getEventInfo(this.event.id);\n    const tracks = await this.data.getRecordingTracks(recording, info);\n    if (tracks) tracks.forEach(t => this.player.addToPlaylist(t));\n  }\n*/\n\n  private async addRecordingToPlaylist(recording: Recording) {\n    //const info = await this.data.getEventInfo(this.event.id);\n    var tracklist = await this.data.getTracklist(recording.id);\n    tracklist.forEach(t =>{  // format to Audiotrack, take first song_id for now\n      if (t.song) {\n        t['id'] = t.song[0].song_id;\n        delete t.song;\n      }\n      t.track = t.track.toString();\n    })\n    //console.log(tracklist)\n    if (tracklist) tracklist.forEach(t => this.addRecordingTrackToPlaylist(t, recording));\n  }\n\n  private async addRecordingTrackToPlaylist(audio: AudioTrack, recording: Recording) {\n    //console.log(audio)\n    const track = this.data.toPlayerTrack(this.event.venue.name, \n                                          this.event.location.name, \n                                          this.event.date, \n                                          this.event.id,\n                                          recording.etreeId,\n                                          audio,\n                                          recording.id\n                                          );\n    this.player.addToPlaylist(track);\n  }\n  \n  onClickPhoto(p){\n    this.currentPhoto = p;\n    this.lightbox.openLightboxArray(this.photosLightbox, p.index)\n  }\n\n  onClickArtifact(a){\n    this.currentArtifact = a;\n    this.lightbox.openLightboxArray(this.artifactsLightbox, a.index)\n  }\n\n}\n","<div *ngIf=\"song\" fxLayout=\"column\">\n  <gd-header *ngIf=\"song\" title=\"{{ song.name }}\"\n    subtitle=\"{{ subtitle }}\" userId='{{ currentUser.userId }}'></gd-header>\n  <div fxLayout=\"column\" class=\"gd-container\">\n    \n    <div fxLayout=\"column\" fxFlex class=\"gd-container\">\n      <ng-container *ngIf=\"song.composedBy && song.composedBy.length\">\n        Composed by:\n        <div *ngFor=\"let a of song.composedBy\"\n          [routerLink]=\"['/artist', a.id]\">{{a.name}}</div><br/>\n      </ng-container>\n      <ng-container *ngIf=\"song.lyricsBy && song.lyricsBy.length\">\n        Lyrics by:\n        <div *ngFor=\"let a of song.lyricsBy\"\n          [routerLink]=\"['/artist', a.id]\">{{a.name}}</div><br/>\n      </ng-container>\n      <ng-container *ngIf=\"firstPlayed\">\n        First played on: {{ firstPlayed }}<br/></ng-container>\n      <ng-container *ngIf=\"lastPlayed\">\n        Last played on: {{ lastPlayed }}<br/></ng-container>\n      <ng-container *ngIf=\"timesPlayed\">\n        Number of performances: {{ timesPlayed }}<br/></ng-container>\n      <ng-container *ngIf=\"totalRecordings\">\n        Total number of recordings: {{ totalRecordings }}<br/></ng-container>\n    </div>\n    \n    <p class=\"gd-container\">All performances of {{song.name}}:</p>\n    \n    <gd-shows [eventIds]=\"song.eventIds\" [onOptions]=\"openOptionsDialog.bind(this)\"></gd-shows>\n  </div>\n  <gd-comments [userName]=\"currentUser.userName\" [currentUserId]=\"currentUser.userId\" [title]=\"song.name\"></gd-comments>\n  <br>\n  <gd-sharebuttons></gd-sharebuttons>\n</div>\n<p [style.margin-bottom]=\"'75px'\"></p>","import * as _ from 'lodash';\nimport { Component } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { SongDetails, DeadEventInfo } from '../services/types';\nimport { DataService } from '../services/data.service';\nimport { PlayerService } from '../services/player.service';\nimport { DialogService } from '../services/dialog.service';\nimport { AuthService } from '../auth.service';\nimport { DEBUG } from '../config';\n\nconsole.log = function(s){\n  if (DEBUG) {\n    console.warn(s);\n  }; \n};\n\ndeclare let gtag: Function;\n\n@Component({\n  selector: 'gd-song',\n  templateUrl: './song.component.html'\n})\nexport class SongComponent {\n  \n  public song: SongDetails;\n  protected subtitle: string;\n  protected firstPlayed: string;\n  protected lastPlayed: string;\n  protected timesPlayed: number;\n  protected totalRecordings: number;\n  protected events: DeadEventInfo[];\n  public currentUser: any = { userName: '', userId: ''};\n\n  constructor(private data: DataService, private player: PlayerService,\n    private router: Router, private route: ActivatedRoute,\n    private dialog: DialogService, public auth: AuthService) {\n\n      \n\n    }\n\n  async ngOnInit() {\n    this.auth.userProfile$.subscribe(userProfile => {\n      if (userProfile){\n        this.currentUser = {\n          userId: userProfile.sub.split(\"|\")[1],\n          userName: userProfile['http://example.com/username']\n        }\n        gtag('set', {'user_id': this.currentUser.userId});\n      }\n    });\n    /*\n    if (this.route.snapshot.data['loggedIn']) {\n      this.auth.userProfile$.subscribe(userProfile => {\n        this.currentUser = this.resolve.getUser(userProfile);\n      });\n      console.log(this.currentUser);\n    }\n    */\n\n    this.route.paramMap.subscribe(async params => {\n      if (params.has('id')) {\n        this.song = await this.data.getSong(params.get('id'));\n        this.subtitle = _.uniq(this.song.composedBy.concat(this.song.lyricsBy)\n          .map(a => a.name)).join(', ');\n        this.events = await this.data.getEventInfos(this.song.eventIds);\n        if (this.events.length) {\n          this.firstPlayed = this.events[0].date;\n          this.lastPlayed = this.events[this.events.length-1].date;\n          this.timesPlayed = this.events.length;\n          this.totalRecordings = _.sum(this.events.map(e => e.recordings.length));\n        }\n      }\n      if (!this.song) {\n        this.router.navigate(['/song', (await this.data.getRandomSong()).id],\n          { replaceUrl: true });\n      }\n    });\n  }\n\n  protected openOptionsDialog(event: DeadEventInfo) {\n    this.dialog.openMultiFunction(\n      this.song.name+\"', \"+event.venue+\", \"+event.date,\n      [\"Add to playlist\", \"Go to show\"],\n      [() => this.openRecordingsDialog(event),\n        () => this.router.navigate(['/show', event.id])]\n    );\n  }\n\n  private openRecordingsDialog(event: DeadEventInfo) {\n    this.dialog.openMultiFunction(\n      \"Recordings of '\"+this.song.name+\"', \"+event.venue+\", \"+event.date,\n      event.recordings.map(r => r.etreeId),\n      event.recordings.map(r => () => this.addRecordingToPlaylist(r.etreeId, event, r.id))\n    );\n  }\n\n  private addRecordingToPlaylist(recordingEtreeId: string, event: DeadEventInfo, recordingId: string) {\n    this.data.getTracks(this.song, event, recordingEtreeId, recordingId)\n      .forEach(t => this.player.addToPlaylist(t));\n  }\n\n}\n","<gd-header title='{{ \"About\" }}'\n    subtitle='{{ \"\" }}' userId='{{ currentUser.userId }}'>\n  </gd-header>\n\n<meta charset=\"UTF-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n<link rel=\"stylesheet\" href=\"https://www.w3schools.com/w3css/4/w3.css\">\n<link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css?family=Lato\">\n<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\">\n<style>\ndiv {font-family: \"Lato\", sans-serif; color:rgb(59, 59, 59)}\na.disabled {\n  pointer-events: none;\n  cursor: default;\n}\n</style>\n\n\n<!-- Page content -->\n<div class=\"w3-content\" style=\"max-width:2000px;margin-top:32px\">\n\n  <!-- The Band Section -->\n  <div class=\"w3-container w3-content w3-center w3-padding-16\" style=\"max-width:800px\" id=\"top\">\n    <!-- <h2 class=\"w3-wide\" [routerLink]=\"['/mapselect']\">THE GRATEFUL DEAD CONCERT EXPLORER</h2> -->\n    <img src=\"/assets/gd_logo1_start.png\" class=\"w3-round w3-margin-bottom\" alt=\"grateful dead explorer logo\" style=\"width:65%\" [routerLink]=\"['/mapselect']\">\n    <p style=\"cursor:pointer\" class=\"w3-opacity\"><i><u routerLink=\"/mapselect\">click to enter</u></i></p>\n      </div>\n\n  <div class=\"w3-container w3-content w3-center\" style=\"max-width:800px\" id=\"overviewstart\">\n      <p class=\"w3-justify\">\n          The Grateful Dead Concert Explorer is a Web application that enables user to navigate and explore digital libraries of live music recordings and discover and share associated artifacts that are dynamically linked within the application. It aims to demonstrate how Semantic Audio and Linked Data technologies can produce an improved user experience for browsing and exploring live music collections, by collecting information from a variety of different Web sources and employing Music Information Retrieval (MIR) techniques. \n        </p>\n          <p class=\"w3-justify\">\n          This prototype demonstrator focuses on the concerts of the Grateful Dead, motivated by the ongoing interest in detailed descriptions of their performances, evidenced by the large amount of information available on the Web detailing various aspects of those events. The application links the large number of concert recordings by the Grateful Dead available in the Internet Archive with audio analysis data and retrieves additional information and artifacts (e.g. band lineup, photos, scans of tickets and posters, reviews) from existing Web sources, to explore and visualize the collection. The project demonstrates mechanisms for musicians and the music industry to provide services for consumers to enjoy live music performances recognizing the social and cultural value of live music and fan communities.\n      </p>\n      <p class=\"w3-justify\">\n        This is an ongoing project in its early stages and not yet optimzed for mobile devices. \n      </p>\n      <p class=\"w3-justify\">\n        The technologies exploited in this work that were developed in the <a href=\"http://www.semanticaudio.ac.uk/\" target=\"_blank\"><u>EPSRC FAST IMPACt</u></a> project include:\n      </p>\n      <ul class=\"w3-justify\">\n          <li>Ontological data models for the representation of performed music as cultural artifacts, and its linkage to associated non-musical artifacts</li>\n          <li>Music information retrieval and processing algorithms for the automatic generation of playlists and audio mixes based on user-selected criteria</li>\n          <li>Music-structure analysis for the comparison of performances</li>\n          <li>Audio alignment of different user-generated recordings of live-music performances</li>\n      </ul>\n      <p class=\"w3-justify\">\n      The main functions of the current version are described in the following. Clicking on the top left logo opens a menu with links to this start page and the <a href=\"#mapstart\"><u><i>Map View</i></u></a>.\n    </p>\n  </div>\n\n  <div class=\"w3-container w3-content w3-center w3-padding-32\" style=\"max-width:800px\" id=\"mapstart\">\n      <h3 class=\"w3-wide\">Map View</h3>\n      <img class=\"image w3-round w3-margin-bottom\" lazyLoad=\"/assets/screens/scr_map.png\" alt=\"map view\" style=\"width:90%\">\n      <p class=\"w3-justify\">\n        The <i>Map View</i> shows the world map with markers indicating the locations of concerts. Clicking on a marker opens a menu with links to the pages for the venue (<a href=\"#venuestart\"><u><i>Venue View</i></u></a>), and to the pages for the concerts at that location (<a href=\"#showstart\"><u><i>Show View</i></u></a>). While by default all concert locations are displayed, specific tours can be selected from the pull-down menu on the top left. When selecting a tour, only the concerts from the tour are displayed on the map and connected by arrows indicating the order of concerts. The map also has a separate search function covering the concerts on the map.\n      </p>\n  </div>\n\n  <div class=\"w3-container w3-content w3-center w3-padding-32\" style=\"max-width:800px\" id=\"showstart\">\n      <h3 class=\"w3-wide\">Show View</h3>\n      <img class=\"image w3-round w3-margin-bottom\" lazyLoad=\"/assets/screens/scr_show.png\" alt=\"show view\" style=\"width:90%\">\n      <p class=\"w3-justify\">\n        The <i>Show View</i>&nbsp; shows information about a specific concert, including the location, venue, the setlist, the lineup and the additional recordings available in the archive. The button next to the recording IDs opens a dialogue to either go to the <a href=\"#recordingstart\"><u><i>Recording View</i></u></a>&nbsp; for the selected recording, or add all songs of the concert recording to the playlist of the <a href=\"#playerstart\"><u>audio player</u></a>. One can navigate to other pages by clicking on any item, for instance, clicking on the venue opens the <a href=\"#venuestart\"><u><i>Venue View</i></u></a>&nbsp; for the respective venue. Clicking on the button next to a song opens a dialogue to either go to the <a href=\"#songstart\"><u><i>Song View</i></u></a>&nbsp; or add the song to the playlist of the <a href=\"#playerstart\"><u>audio player</u></a>. Clicking on photos or other artifacts either opens a higher resolution image or opens the source page at the <a href=\"https://www.gdao.org/\" target=\"_blank\"><u>Grateful Dead Archive Online (GDAO)</u></a> in a new tab.\n      </p>\n  </div>\n\n  <div class=\"w3-container w3-content w3-center w3-padding-32\" style=\"max-width:800px\" id=\"songstart\">\n      <h3 class=\"w3-wide\">Song View</h3>\n      <img class=\"image w3-round w3-margin-bottom\" lazyLoad=\"/assets/screens/scr_song.png\" alt=\"song view\" style=\"width:90%\">\n      <p class=\"w3-justify\">\n        The <i>Song View</i> shows information about a selected song. This includes the composers at the top of the page and the number of performances and recordings available. Clicking on an item in the list of shows opens the <a href=\"#showstart\"><u><i>Show View</i></u></a>. The button next to the location opens a dialogue which additionally lets the user add the song from the respective show to the playlist of the <a href=\"#playerstart\"><u>audio player</u></a>. The dialogue shows all available recordings from the selected concert.\n      </p>\n  </div>\n\n  <div class=\"w3-container w3-content w3-center w3-padding-32\" style=\"max-width:800px\" id=\"locationstart\">\n      <h3 class=\"w3-wide\">Location View</h3>\n      <img class=\"image w3-round w3-margin-bottom\" lazyLoad=\"/assets/screens/scr_location.png\" alt=\"location view\" style=\"width:90%\">\n      <p class=\"w3-justify\">\n        The <i>Location View</i> shows information about a city where concerts were held. The list of shows provides links to the <a href=\"#showstart\"><u><i>Show View</i></u></a>&nbsp; for all shows at that location.\n      </p>\n  </div>\n\n  <div class=\"w3-container w3-content w3-center w3-padding-32\" style=\"max-width:800px\" id=\"venuestart\">\n      <h3 class=\"w3-wide\">Venue View</h3>\n      <img class=\"image w3-round w3-margin-bottom\" lazyLoad=\"/assets/screens/scr_venue.png\" alt=\"venue view\" style=\"width:90%\">\n      <p class=\"w3-justify\">\n          The <i>Venue View</i> shows information about a venue where concerts were held. The list of shows provides links to the <a href=\"#showstart\"><u><i>Show View</i></u></a>&nbsp; for all shows at that venue.\n      </p>\n  </div>\n\n  <div class=\"w3-container w3-content w3-center w3-padding-32\" style=\"max-width:800px\" id=\"recordingstart\">\n      <h3 class=\"w3-wide\">Recording View</h3>\n      <img class=\"image w3-round w3-margin-bottom\" lazyLoad=\"/assets/screens/scr_recording.png\" alt=\"recording view\" style=\"width:90%\">\n      <p class=\"w3-justify\">\n        The <i>Recording View</i> shows information about a specific recording from the <a href=\"https://archive.org/details/etree\" target=\"_blank\"><u>Live Music Archive</u></a> at the <a href=\"https://archive.org/\" target=\"_blank\"><u>Internet Archive</u></a>. The information includes source and lineage information of the recording, as well as the list of songs. Clicking on the button next to a song opens a dialogue to add the selected song to the playlist of the <a href=\"#playerstart\"><u>audio player</u></a>. Clicking on the logo under the track list opens the page for the recording at the <a href=\"https://archive.org/\" target=\"_blank\"><u>Internet Archive</u></a> in a new tab.\n      </p>\n  </div>\n\n  <div class=\"w3-container w3-content w3-center w3-padding-32\" style=\"max-width:800px\" id=\"playerstart\">\n      <h3 class=\"w3-wide\">Audio Player</h3>\n      <img class=\"image w3-round w3-margin-bottom\" lazyLoad=\"/assets/screens/scr_player.png\" alt=\"audio player\" style=\"width:90%\">\n      <p class=\"w3-justify\">\n        The audio player at the bottom of the page streams audio directly from the <a href=\"https://archive.org/details/etree\" target=\"_blank\"><u>Live Music Archive</u></a>. Songs can be added to the playlist from the Web application where songs are listed, for instance in the <a href=\"#showstart\"><u><i>Show View</i></u></a>, <a href=\"#recordingstart\"><u><i>Recording View</i></u></a>&nbsp; or <a href=\"#songstart\"><u><i>Song View</i></u></a>. In addition to the standard functions (play, stop, volume, etc.), the button with the eye symbol expands/hides the waveform view and playlist.\n      </p>\n  </div>\n\n  <div class=\"w3-container w3-content w3-center w3-padding-32\" style=\"max-width:800px\" id=\"additionalstart\">\n      <h3 class=\"w3-wide\">Additional Functions</h3>\n      <p class=\"w3-justify\">\n        Not all functions of the demo application are listed here, and there are more functions planned to be implemented in the near future including social media aspects and MIR, e.g. user discussions of concerts and the automatic generation of playlist mixes based on user-defined parameters and audio feature analysis results. \n      </p>\n        <p class=\"w3-justify\">\n          <s>A demo of a an automated mix playing excerpts of recordings of a specified song spanning the career of the Grateful Dead in a seamless mix while retrieving and displaying artifacts in real-time can be found <a class=\"disabled\" href=\"https://grateful-dead-live.github.io/plunderphonics/\" target=\"_blank\"><u><b>here</b></u></a>.</s> &nbsp; <b><i>down for maintenance</i></b>\n      </p>\n      <p class=\"w3-justify\">\n        Here is a demo video of a an automated mix playing excerpts of recordings of a specified song spanning the career of the Grateful Dead in a seamless mix while retrieving and displaying artifacts in real-time:\n      </p>\n      <div style=\"position:relative;padding-top:56.25%;\">\n        <iframe src=\"https://www.youtube.com/embed/M-zvJYRhnL8\" allowfullscreen style=\"position:absolute;top:0;left:0;width:100%;height:100%;\"></iframe>\n      </div>\n  </div>\n\n  <div class=\"w3-container w3-content w3-center w3-padding-16\" style=\"max-width:800px\" id=\"logostart\">\n      <a href=\"https://archive.org\" target=\"_blank\"> <img src=\"https://archive.org/images/glogo.png\" class=\"w3-round w3-margin-right\" alt=\"internet archive logo\" style=\"width:8%\"></a>\n      <a href=\"http://c4dm.eecs.qmul.ac.uk\" target=\"_blank\"> <img src=\"https://sites.google.com/site/mathemusicalconversations/_/rsrc/1396930666900/about/c4dm_qml-logo.jpg\" class=\"w3-round w3-margin-right w3-margin-left\" alt=\"c4dm qmul logo\" style=\"width:18%\"></a>\n      <a href=\"https://epsrc.ukri.org/\" target=\"_blank\"> <img src=\"/assets/epsrc.jpg\" class=\"w3-round w3-margin-right w3-margin-left\" alt=\"epsrc logo\" style=\"width:17%\"></a>\n      <a href=\"https://www.gdao.org\" target=\"_blank\"> <img src=\"https://www.gdao.org/themes/gdao-theme/images/logo-gdao.png\" class=\"w3-round w3-margin-left\" alt=\"gdao logo\" style=\"width:8%\"></a>\n  </div>\n  \n  <div class=\"w3-container w3-content w3-center\" style=\"max-width:800px\" id=\"emailstart\">\n      <!--a href=\"{{ 'mai' + 'lto' + ':' + part1 + part2 + part3 + part4 + part5 + part6 + part7 }}\"><u>Email us</u> </a-->\n      <a href=\"{{ 'mai' + 'lto' + ':' + email }}\"><u>Email us</u> </a>\n  </div>\n  \n  <p style=\"padding: 0 0 5em 0\"></p>\n<!-- End Page Content -->\n</div>\n\n","import { Component } from '@angular/core';\nimport { DomSanitizer, SafeStyle } from '@angular/platform-browser';\nimport { AuthService } from '../auth.service';\nimport { EMAILADDRESS, DEBUG } from '../config';\n\nconsole.log = function(s){\n  if (DEBUG) {\n    console.warn(s);\n  }; \n};\n\n\ndeclare let gtag: Function;\n\n@Component({\n  selector: 'gd-start',\n  templateUrl: './start.component.html'\n})\nexport class StartComponent {\n\n  public currentUser: any = { userName: '', userId: ''};\n  public email: string;\n  \n  constructor(private sanitizer: DomSanitizer,\n    public auth: AuthService) {\n\n      \n\n    }\n\n  ngOnInit() {\n    this.auth.userProfile$.subscribe(userProfile => {\n      if (userProfile){\n        this.currentUser = {\n          userId: userProfile.sub.split(\"|\")[1],\n          userName: userProfile['http://example.com/username']\n        }\n        gtag('set', {'user_id': this.currentUser.userId});\n      }\n    });\n    /*\n    if (this.route.snapshot.data['loggedIn']) {\n      this.auth.userProfile$.subscribe(userProfile => {\n        this.currentUser = this.resolve.getUser(userProfile);\n      });\n      console.log(this.currentUser);\n    }\n    */\n\n    this.email = EMAILADDRESS;\n\n  }\n\n}\n","<div *ngIf=\"venue\" fxLayout=\"column\">\n  <gd-header *ngIf=\"venue\" title='{{ venue.name }}'\n    subtitle='{{ location }}' imageUrl=\"{{ venue.image }}\" userId='{{ currentUser.userId }}'>\n  </gd-header>\n  <div class=\"container\" fxLayout=\"row wrap\" fxLayout.xs=\"column\" fxFlex=\"100\">\n    <div class=\"gd-container\" fxLayout=\"column\" fxFlex=\"1 1 33%\" fxFlex.sm=\"1 1 50%\">\n      <p *ngIf=\"data.event\">The Band played on {{ data.event.date }}</p>\n      <p>{{ venue.comment }}</p>\n    </div>\n    <div class=\"gd-container\" fxLayout=\"column\" fxFlex=\"1 1 33%\" fxFlex.sm=\"1 1 50%\">\n      <img class=\"image\" [lazyLoad]=\"venue.thumbnail\" fxFlex=\"1 1 auto\">\n    </div>\n    <div *ngIf=\"venue.geoloc\" class=\"gd-container\" fxLayout=\"column\" fxFlex=\"1 1 33%\" fxFlex.sm=\"1 1 100%\">\n      <gd-map fxFlex=\"1 1 auto\" [style.height]=\"'100%'\" zoom=\"15\"\n        latitude=\"{{ venue.geoloc.lat }}\" longitude=\"{{ venue.geoloc.long }}\"></gd-map>\n    </div>\n  </div>\n\n  <div *ngIf=\"videos\">\n    <div class=\"gd-container\" fxLayout=\"column\" fxFlex=\"50\">\n      <gd-youtube videoId=\"{{ currentVideoId }}\" width=\"100%\"></gd-youtube>\n      <ng-select bindLabel=\"title\"\n                 [clearable]=\"false\"\n                 (change)=\"selectVideo()\"\n                 [searchable]=\"false\"\n                 [(ngModel)]=\"currentVideoId\">         \n        <ng-option [value]=\"v.videoId\" *ngFor=\"let v of videos\">\n            <img src=\"{{v.thumbnail}}\" height=\"40px\"/>\n            {{v.title}}\n        </ng-option>\n      </ng-select>\n    </div>\n  </div>\n  \n  <p class=\"gd-section\">All shows at the {{ venue.name }}:</p>\n  \n  <gd-shows [eventIds]=\"venue.eventIds\" [onOptions]=\"openOptionsDialog.bind(this)\"></gd-shows>\n  <gd-comments [userName]=\"currentUser.userName\" [currentUserId]=\"currentUser.userId\" [title]=\"venue.name+', '+location\"></gd-comments>\n  <br>\n  <gd-sharebuttons></gd-sharebuttons>\n</div>\n<p [style.margin-bottom]=\"'75px'\"></p>","import { Component } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { DataService } from '../services/data.service';\nimport { Venue } from '../services/types';\nimport { AuthService } from '../auth.service';\nimport { DeadEventInfo } from '../services/types';\nimport { DialogService } from '../services/dialog.service';\nimport { DEBUG } from '../config';\n\nconsole.log = function(s){\n  if (DEBUG) {\n    console.warn(s);\n  }; \n};\n\ndeclare let gtag: Function;\n\n@Component({\n  selector: 'gd-venue',\n  templateUrl: './venue.component.html'\n})\nexport class VenueComponent {\n  public venue: Venue;\n  protected location: string;\n  public videos: any;\n  public currentVideoId: string;\n\n  protected currentUser: any = { userName: '', userId: ''};\n  \n  constructor(protected data: DataService, private router: Router,\n    private route: ActivatedRoute, public auth: AuthService, private dialog: DialogService) {}\n  \n  async ngOnInit() {\n    this.auth.userProfile$.subscribe(userProfile => {\n      if (userProfile){\n        this.currentUser = {\n          userId: userProfile.sub.split(\"|\")[1],\n          userName: userProfile['http://example.com/username']\n        }\n        gtag('set', {'user_id': this.currentUser.userId});\n      }\n    });\n\n\n    this.route.paramMap.subscribe(async params => {\n      if (params.has('id')) {\n        this.venue = await this.data.getVenue(params.get('id'));\n      }\n      else {\n        this.router.navigate(['/mapselect'], { replaceUrl: true });\n      }\n\n\n      if (params.has('id') && this.venue.name) {\n        console.log(this.venue)\n        //this.venue = await this.data.getVenue(params.get('id'));\n        this.location = (await this.data.getEventInfo(this.venue.eventIds[0])).location;\n        if (this.venue) {\n          this.videos = await this.data.getYoutubeList(this.venue.id, ['Grateful Dead', this.location, this.venue.name]);\n          this.currentVideoId = this.videos[0].videoId;\n          console.log(this.videos);\n        }\n      }\n      else {\n        this.router.navigate(['/mapselect'], { replaceUrl: true });\n      }\n    });\n\n\n\n    /*\n    this.route.paramMap.subscribe(async params => {\n      if (params.has('id')) {\n        this.venue = await this.data.getVenue(params.get('id'));\n        this.location = (await this.data.getEventInfo(this.venue.eventIds[0])).location;\n        if (this.venue) {\n          this.videos = await this.data.getYoutubeList(this.venue.id, ['Grateful Dead', this.location, this.venue.name]);\n          this.currentVideoId = this.videos[0].videoId;\n          console.log(this.videos);\n        }\n      }\n      if (!this.venue) {\n        this.router.navigate(['/venue', (await this.data.getRandomVenue()).id],\n          { replaceUrl: true });\n      }\n    }); */\n  }\n\n  protected openOptionsDialog(event: DeadEventInfo) {\n    this.dialog.openMultiFunction(\n      event.venue+\", \"+event.date,\n      [\"Go to show\", \"Go to recording\"],\n      [() => this.router.navigate(['/show', event.id]),\n        () => this.openRecordingsDialog(event)]\n    );\n  }\n\n  private openRecordingsDialog(event: DeadEventInfo) {\n    this.dialog.openMultiFunction(\n      \"Recordings of '\"+event.venue+\", \"+event.date,\n      event.recordings.map(r => r.etreeId),\n      event.recordings.map(r => () => this.router.navigate(['/recording', r.id]) )\n    );\n  }\n\n  selectVideo(){\n    console.log(this.currentVideoId);\n  }\n\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","\n// From http://www.tutorialspoint.com/javascript/array_map.htm\n\nif (!Array.prototype.map)\n{\n  Array.prototype.map = function(fun /*, thisp*/)\n  {\n    var len = this.length;\n    if (typeof fun !== \"function\")\n      throw new TypeError();\n\n    var res = new Array(len);\n    var thisp = arguments[1];\n    for (var i = 0; i < len; i++)\n    {\n      if (i in this)\n        res[i] = fun.call(thisp, this[i], i, this);\n    }\n\n    return res;\n  };\n}\n\nL.Control.FuseSearch = L.Control.extend({\n    \n    includes: L.Evented.prototype,\n    \n    options: {\n        position: 'topright',\n        title: 'Search',\n        panelTitle: '',\n        placeholder: 'Search',\n        caseSensitive: false,\n        threshold: 0.3,\n        maxResultLength: null,\n        showResultFct: null,\n        showInvisibleFeatures: true,\n        shouldSort: true\n    },\n    \n    initialize: function(options) {\n        L.setOptions(this, options);\n        this._panelOnLeftSide = (this.options.position.indexOf(\"left\") !== -1);\n    },\n    \n    onAdd: function(map) {\n        \n        var ctrl = this._createControl();\n        this._createPanel(map);\n        this._setEventListeners();\n        map.invalidateSize();\n        \n        return ctrl;\n    },\n    \n    onRemove: function(map) {\n        \n        this.hidePanel(map);\n        this._clearEventListeners();\n        this._clearPanel(map);\n        this._clearControl();\n        \n        return this;\n    },\n    \n    _createControl: function() {\n\n        var className = 'leaflet-fusesearch-control',\n            container = L.DomUtil.create('div', className);\n\n        // Control to open the search panel\n        var butt = this._openButton = L.DomUtil.create('a', 'button', container);\n        butt.href = '#';\n        butt.title = this.options.title;\n        var stop = L.DomEvent.stopPropagation;\n        L.DomEvent.on(butt, 'click', stop)\n                  .on(butt, 'mousedown', stop)\n                  .on(butt, 'touchstart', stop)\n                  .on(butt, 'mousewheel', stop)\n                  .on(butt, 'MozMousePixelScroll', stop);\n        L.DomEvent.on(butt, 'click', L.DomEvent.preventDefault);\n        L.DomEvent.on(butt, 'click', this.showPanel, this);\n\n        return container;\n    },\n    \n    _clearControl: function() {\n        // Unregister events to prevent memory leak\n        var butt = this._openButton;\n        var stop = L.DomEvent.stopPropagation;\n        L.DomEvent.off(butt, 'click', stop)\n                  .off(butt, 'mousedown', stop)\n                  .off(butt, 'touchstart', stop)\n                  .off(butt, 'mousewheel', stop)\n                  .off(butt, 'MozMousePixelScroll', stop);\n        L.DomEvent.off(butt, 'click', L.DomEvent.preventDefault);\n        L.DomEvent.off(butt, 'click', this.showPanel);\n    },\n    \n    _createPanel: function(map) {\n        var _this = this;\n\n        // Create the search panel\n        var mapContainer = map.getContainer();\n        var className = 'leaflet-fusesearch-panel',\n            pane = this._panel = L.DomUtil.create('div', className, mapContainer);\n        \n        // Make sure we don't drag the map when we interact with the content\n        var stop = L.DomEvent.stopPropagation;\n        L.DomEvent.on(pane, 'click', stop)\n                .on(pane, 'dblclick', stop)\n                .on(pane, 'mousedown', stop)\n                .on(pane, 'touchstart', stop)\n                .on(pane, 'mousewheel', stop)\n                .on(pane, 'MozMousePixelScroll', stop);\n\n        // place the pane on the same side as the control\n        if (this._panelOnLeftSide) {\n            L.DomUtil.addClass(pane, 'left');\n        } else {\n            L.DomUtil.addClass(pane, 'right');\n        }\n\n        // Intermediate container to get the box sizing right\n        var container = L.DomUtil.create('div', 'content', pane);\n        \n        var header = L.DomUtil.create('div', 'header', container);\n        if (this.options.panelTitle) {\n           var title = L.DomUtil.create('p', 'panel-title', header);\n            title.innerHTML = this.options.panelTitle;\n        }\n        \n        // Search image and input field\n        L.DomUtil.create('img', 'search-image', header);\n        this._input = L.DomUtil.create('input', 'search-input', header);\n        this._input.maxLength = 30;\n        this._input.placeholder = this.options.placeholder;\n        this._input.onkeyup = function(evt) {\n            var searchString = evt.currentTarget.value;\n            _this.searchFeatures(searchString);\n        };\n\n        // Close button\n        var close = this._closeButton = L.DomUtil.create('a', 'close', header);\n        close.innerHTML = '&times;';\n        L.DomEvent.on(close, 'click', this.hidePanel, this);\n        \n        // Where the result will be listed\n        this._resultList = L.DomUtil.create('div', 'result-list', container); \n        \n        return pane;\n    },\n    \n    _clearPanel: function(map) {\n\n        // Unregister event handlers\n        var stop = L.DomEvent.stopPropagation;\n        L.DomEvent.off(this._panel, 'click', stop)\n                  .off(this._panel, 'dblclick', stop)\n                  .off(this._panel, 'mousedown', stop)\n                  .off(this._panel, 'touchstart', stop)\n                  .off(this._panel, 'mousewheel', stop)\n                  .off(this._panel, 'MozMousePixelScroll', stop);\n\n        L.DomEvent.off(this._closeButton, 'click', this.hidePanel);\n        \n        var mapContainer = map.getContainer();\n        mapContainer.removeChild(this._panel);\n        \n        this._panel = null;\n    },\n    \n    _setEventListeners : function() {\n        var that = this;\n        var input = this._input;\n        this._map.addEventListener('overlayadd', function() {\n            that.searchFeatures(input.value);\n        });\n        this._map.addEventListener('overlayremove', function() {\n            that.searchFeatures(input.value);\n        });\n    },\n    \n    _clearEventListeners: function() {\n        this._map.removeEventListener('overlayadd');\n        this._map.removeEventListener('overlayremove');        \n    },\n    \n    isPanelVisible: function () {\n        return L.DomUtil.hasClass(this._panel, 'visible');\n    },\n\n    showPanel: function () {\n        if (! this.isPanelVisible()) {\n            L.DomUtil.addClass(this._panel, 'visible');\n            // Preserve map centre\n            this._map.panBy([this.getOffset() * 0.5, 0], {duration: 0.5});\n            this.fire('show');\n            this._input.select();\n            // Search again as visibility of features might have changed\n            this.searchFeatures(this._input.value);\n        }\n    },\n\n    hidePanel: function (e) {\n        if (this.isPanelVisible()) {\n            L.DomUtil.removeClass(this._panel, 'visible');\n            // Move back the map centre - only if we still hold this._map\n            // as this might already have been cleared up by removeFrom()\n            if (null !== this._map) {\n                this._map.panBy([this.getOffset() * -0.5, 0], {duration: 0.5});\n            };\n            this.fire('hide');\n            if(e) {\n                L.DomEvent.stopPropagation(e);\n            }\n        }\n    },\n    \n    getOffset: function() {\n        if (this._panelOnLeftSide) {\n            return - this._panel.offsetWidth;\n        } else {\n            return this._panel.offsetWidth;\n        }\n    },\n\n    indexFeatures: function(data, keys) {\n\n        var jsonFeatures = data.features || data;\n        \n        this._keys = keys;\n        var properties = jsonFeatures.map(function(feature) {\n            // Keep track of the original feature\n            feature.properties._feature = feature;\n            return feature.properties;\n        });\n        \n        var options = {\n            keys: keys,\n            caseSensitive: this.options.caseSensitive,\n            threshold : this.options.threshold\n        };\n        \n        this._fuseIndex = new Fuse(properties, options);\n    },\n    \n    searchFeatures: function(string) {\n        \n        var result = this._fuseIndex.search(string);\n\n        // Empty result list\n        var listItems = document.querySelectorAll(\".result-item\");\n        for (var i = 0 ; i < listItems.length ; i++) {\n            listItems[i].remove();\n        }\n\n        var resultList = document.querySelector('.result-list');\n        var num = 0;\n        var max = this.options.maxResultLength;\n        for (var i in result) {\n            var props = result[i].item;         // fix: added .item\n            var feature = props._feature;\n            var popup = this._getFeaturePopupIfVisible(feature);\n            \n            if (undefined !== popup || this.options.showInvisibleFeatures) {\n                this.createResultItem(props, resultList, popup);\n                if (undefined !== max && ++num === max)\n                    break;\n            }\n        }\n    },\n    \n    refresh: function() {\n        // Reapply the search on the indexed features - useful if features have been filtered out\n        if (this.isPanelVisible()) {\n            this.searchFeatures(this._input.value);\n        }\n    },\n    \n    _getFeaturePopupIfVisible: function(feature) {\n        var layer = feature.layer;\n        if (undefined !== layer && this._map.hasLayer(layer)) {\n            return layer.getPopup();\n        }\n    },\n    \n    createResultItem: function(props, container, popup) {\n\n        var _this = this;\n        var feature = props._feature;\n\n        // Create a container and open the associated popup on click\n        var resultItem = L.DomUtil.create('p', 'result-item', container);\n        \n        if (undefined !== popup) {\n            L.DomUtil.addClass(resultItem, 'clickable');\n            resultItem.onclick = function() {\n                \n                if (window.matchMedia(\"(max-width:480px)\").matches) {\n                    _this.hidePanel();\n                    feature.layer.openPopup();\n                } else {\n                    _this._panAndPopup(feature, popup);\n                }\n            };\n        }\n\n        // Fill in the container with the user-supplied function if any,\n        // otherwise display the feature properties used for the search.\n        if (null !== this.options.showResultFct) {\n            this.options.showResultFct(feature, resultItem);\n        } else {\n            str = '<b>' + props[this._keys[0]] + '</b>';\n            for (var i = 1; i < this._keys.length; i++) {\n                str += '<br/>' + props[this._keys[i]];\n            }\n            resultItem.innerHTML = str;\n        };\n\n        return resultItem;\n    },\n    \n    _panAndPopup : function(feature, popup) {\n        // Temporarily adapt the map padding so that the popup is not hidden by the search pane\n        if (this._panelOnLeftSide) {\n            var oldPadding = popup.options.autoPanPaddingTopLeft;\n            var newPadding = new L.Point(- this.getOffset(), 10);\n            popup.options.autoPanPaddingTopLeft = newPadding;\n            feature.layer.openPopup();\n            popup.options.autoPanPaddingTopLeft = oldPadding;\n        } else {\n            var oldPadding = popup.options.autoPanPaddingBottomRight;\n            var newPadding = new L.Point(this.getOffset(), 10);\n            popup.options.autoPanPaddingBottomRight = newPadding;\n            feature.layer.openPopup();\n            popup.options.autoPanPaddingBottomRight = oldPadding;\n        }\n    }\n});\n\nL.control.fuseSearch = function(options) {\n    return new L.Control.FuseSearch(options);\n};\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","/* (ignored) */"]}