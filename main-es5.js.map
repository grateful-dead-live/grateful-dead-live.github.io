{"version":3,"sources":["webpack:///src/$_lazy_route_resource lazy namespace object","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.component.ts","webpack:///src/app/app.module.ts","webpack:///src/app/auth.resolve.ts","webpack:///src/app/auth.service.ts","webpack:///src/app/auth/auth.guard.ts","webpack:///src/app/auth/register-modal.component.html","webpack:///src/app/auth/register-modal.component.ts","webpack:///src/app/buymeacoffee/buymeacoffee.component.html","webpack:///src/app/buymeacoffee/buymeacoffee.component.ts","webpack:///src/app/comments/chatter-box.component.html","webpack:///src/app/comments/chatter-box.component.ts","webpack:///src/app/comments/comments.component.html","webpack:///src/app/comments/comments.component.ts","webpack:///src/app/config.ts","webpack:///src/app/cookie-banner/cookie-banner.component.html","webpack:///src/app/cookie-banner/cookie-banner.component.ts","webpack:///src/app/cookie-banner/privacy-policy.component.html","webpack:///src/app/cookie-banner/privacy-policy.component.ts","webpack:///src/app/globals.ts","webpack:///src/app/ng-var.directive.ts","webpack:///src/app/profile/profile.component.html","webpack:///src/app/profile/profile.component.ts","webpack:///src/app/services/anchor-scroll.service.ts","webpack:///src/app/services/data.service.ts","webpack:///src/app/services/dead-api.service.ts","webpack:///src/app/services/dialog.service.ts","webpack:///src/app/services/google-analytics.service.ts","webpack:///src/app/services/lightbox.service.ts","webpack:///src/app/services/player.service.ts","webpack:///src/app/services/socketio.service.ts","webpack:///src/app/services/types.ts","webpack:///src/app/shared/header.component.html","webpack:///src/app/shared/header.component.ts","webpack:///src/app/shared/input-dialog.component.html","webpack:///src/app/shared/input-dialog.component.ts","webpack:///src/app/shared/list-dialog.component.html","webpack:///src/app/shared/list-dialog.component.ts","webpack:///src/app/shared/map.component.html","webpack:///src/app/shared/map.component.ts","webpack:///src/app/shared/player.component.html","webpack:///src/app/shared/player.component.ts","webpack:///src/app/shared/search-dialog.component.html","webpack:///src/app/shared/search-dialog.component.ts","webpack:///src/app/shared/sharebuttons.component.html","webpack:///src/app/shared/sharebuttons.component.ts","webpack:///src/app/shared/showmap.component.html","webpack:///src/app/shared/showmap.component.ts","webpack:///src/app/shared/shows.component.html","webpack:///src/app/shared/shows.component.ts","webpack:///src/app/shared/weather.component.html","webpack:///src/app/shared/weather.component.ts","webpack:///src/app/shared/youtube.component.html","webpack:///src/app/shared/youtube.component.ts","webpack:///src/app/views/artifacts.component.html","webpack:///src/app/views/artifacts.component.ts","webpack:///src/app/views/artist.component.html","webpack:///src/app/views/artist.component.ts","webpack:///src/app/views/index.component.html","webpack:///src/app/views/index.component.ts","webpack:///src/app/views/location.component.html","webpack:///src/app/views/location.component.ts","webpack:///src/app/views/mapselect.component.html","webpack:///src/app/views/mapselect.component.ts","webpack:///src/app/views/playlist.component.html","webpack:///src/app/views/playlist.component.ts","webpack:///src/app/views/recording.component.html","webpack:///src/app/views/recording.component.ts","webpack:///src/app/views/show.component.html","webpack:///src/app/views/show.component.ts","webpack:///src/app/views/song.component.html","webpack:///src/app/views/song.component.ts","webpack:///src/app/views/start.component.html","webpack:///src/app/views/start.component.ts","webpack:///src/app/views/venue.component.html","webpack:///src/app/views/venue.component.ts","webpack:///src/environments/environment.ts","webpack:///src/leaflet-fusesearch/src/leaflet.fusesearch.js","webpack:///src/main.ts","webpack:///ws (ignored)"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","routes","path","redirectTo","pathMatch","component","canActivate","loggedIn","AppRoutingModule","AppComponent","router","auth","doc","player","socketService","title","currentUser","userName","userId","userProfile$","subscribe","userProfile","sub","split","gtag","googleAnalytics","cached_title","events","event","getTitle","sleep","urlAfterRedirects","setupSocketConnection","ms","setTimeout","html","src","s","createElement","type","innerHTML","head","getElementsByTagName","appendChild","scriptHtml","replace","window","document","showDelay","hideDelay","position","AppModule","APIResolver","isAuthenticated$","AuthService","cookieService","auth0Client$","domain","client_id","redirect_uri","location","origin","pipe","err","client","isAuthenticated","res","handleRedirectCallback$","handleRedirectCallback","urlFromAuth0","userProfileSubject$","asObservable","localAuthSetup","handleAuthCallback","options","getUser","user","next","checkAuth$","getUser$","redirectPath","url","loginWithRedirect","appState","target","href","params","search","includes","targetRoute","authComplete$","cbRes","navigate","console","log","d","Date","setTime","getTime","now","time","expireTime","cookie","toUTCString","logout","returnTo","AuthGuard","authService","matDialog","route","state","getCookie","toPromise","reload","registerModal","dialogConfig","disableClose","autoFocus","open","indexOf","RegisterModalComponent","BuyMeACoffeeComponent","ChatterBoxComponent","valueChange","onKeyupEnter","onKeyup","emitReport","emitDelete","emitRefresh","comment","userImagePath","emit","commentText","typedCommentTextLength","input","length","CommentsComponent","data","dialog","changeDetectorRef","socket","heading","errorMsg","inputMaxLength","placeholderText","socketIo","newComment","payload","allComments","push","deleteComment","msgId","i","map","x","splice","detectChanges","getComments","changes","propName","hasOwnProperty","refresh","msgPayload","makeid","timestamp","msg","toString","currentUserId","addComment","error","checkComment","formatTime","postAddComment","room","sort","a","b","Number","p","Boolean","z","n","getMonth","getDate","getYear","getHours","getMinutes","openMultiFunction","reportComment","sendCommentReport","m","startsWith","dm","openSingleFunction","postDeleteComment","result","characters","charactersLength","charAt","Math","floor","random","AUTH0DOMAIN","AUTH0CLIENTID","EMAILADDRESS","TRACKINGID","TRACKING","FRONTEND_URL","API","API_URL","WSS_URL","DEBUG","SOCKETIO","CookieBannerComponent","consent","get","showBanner","cname","cvalue","exdays","set","setCookie","PrivacyPolicyComponent","anchor","listen","VIEWS","name","logger","NgVarDirective","vcRef","templateRef","context","clear","createEmbeddedView","$implicit","ngVar","updateView","ProfileComponent","frontend_url","snapshot","getBookmarks","getLikes","bookmarks","reverse","forEach","likes","l","getUserComments","comments","r","some","playlistid","deletePlaylist","playlist","storePlaylist","bookmark","deleteBookmark","delBookmark","like","unlike","AnchorScrollService","val","fragmentIdx","lastIndexOf","fragment","substring","getElementById","scrollIntoView","ARCHIVE_URI","DataService","apiService","loading","initEvents","eventId","getEventInfos","eventIds","filter","getEventDetails","locationId","getLocation","venueId","getVenue","getVenueCoordinates","getTourCoordinates","artistId","getArtistDetails","songId","getSong","recordingId","recordings","getRecordingDetails","recording","getRecordingTracks","tracks","t","toTrack","etreeId","audio","song","songDetails","sbd","isSoundboard","getTracks","getRandomEventId","loadRandomEvent","venue","types","count","artifacts","Object","assign","eventInfo","date","performers","getEventInfo","randomEvent","getSetlist","getRandomSetlist","songs","randomSong","getRandomSong","randomRecordingEtreeId","randomAudio","correspondingEvent","uri","filename","show_id","waveform","etree_id","recording_id","song_id","track","getEvents","parseFloat","toLocaleDateString","weekday","year","month","day","objects","o","formatDate","q","getSearchResult","userid","addBookmark","checkBookmark","checkLike","countLikes","encodeURIComponent","JSON","stringify","addPlaylist","getPlaylists","getPlaylist","delPlaylist","msgid","recordingid","getRecordingInfo","getTracklist","showId","searchArray","getYoutubeList","getShowIndex","getVenueIndex","getLocationIndex","getSongIndex","nsp","connectSocket","DeadApiService","api_url","getJsonFromApi","audioUri","songName","skip","fetch","text","parse","getTextFromApi","cmt","searcharray","DialogService","funcs","func","getDialogConfig","afterClosed","items","callback","dialogRef","width","GoogleAnalyticsService","eventName","eventCategory","eventAction","eventLabel","eventValue","event_category","event_label","event_action","value","LightboxService","lightbox","lightboxConfig","wrapAround","showZoom","carousel","lightboxa","thumbnail","image","caption","description","lightboxArray","index","thumb","PlayerService","googleAnalyticsService","maxTime","currentTime","currentTrackIndex","muted","paused","playlists","playlistsLoaded","eventEmitter","skipToTrackAtIndex","currentAudio","play","pause","playPlaylist","reset","getCurrentTrack","stop","playPause","playCurrentTrack","Audio","ontimeupdate","duration","onended","v","volume","localStorage","setItem","btoa","removeItem","getItem","atob","SocketioService","connectionOptions","observer","on","ArtifactType","HeaderComponent","sanitizer","titleService","bookmarked","liked","searchState","bypassSecurityTrustStyle","imageUrl","joinRoom","setTitle","subtitle","removePlaylistFromStorage","openDialog","right","top","maxHeight","searchString","click","postLike","height","InputDialogComponent","close","ListDialogComponent","item","MapComponent","layers","maxZoom","attribution","latitude","longitude","icon","iconSize","iconAnchor","iconUrl","zoom","center","PlayerComponent","loaded","minimized","loadPlaylistFromsStorage","getRandomTrack","addToPlaylist","clearPlaylist","deleteFromPlaylist","openInputDialog","savePlaylist","loadPlaylist","SearchDialogComponent","sortItems","k","ShareButtonsComponent","ShowMapComponent","timeOut","selectLayers","layerNames","geoJsons","mapOptions","L","tileLayer","latLng","venues","undefined","tours","geoJsonData","getGeoJson","tourGeoJsonData","getTourJson","all","groupLayers","addTo","currentLayer","dateSort","searchCtrl","control","fuseSearch","feature","container","props","properties","dates","DomUtil","create","indexFeatures","selectedTour","fitZoom","htmlstring","datestring","layer","popupContent","bindPopup","bindTooltip","mytooltip","getTooltip","isPopupOpen","setOpacity","_content","shows","latlongs","lat","long","searchForArray","ds","dateStrings","venuehtml","georss","geojsonFeature","g","myIcon","popupAnchor","geoJSON","onEachFeature","bind","pointToLayer","latlng","marker","riseOnHover","lg","layerGroup","tour","venue_id","show","tourLine","removeLayer","lineDecorator","connectTheDots","group","featureGroup","eachLayer","addLayer","fitBounds","getBounds","getZoom","setZoom","c","geometry","coordinates","polyline","color","weight","polylineDecorator","patterns","offset","repeat","symbol","Symbol","arrowHead","pixelSize","polygon","pathOptions","stroke","haystack","needle","j","current","ShowsComponent","pageNum","pages","ceil","no","parseInt","evt","charCode","which","keyCode","WeatherComponent","videoId","YoutubeComponent","tag","body","ArtifactsComponent","paramMap","has","getRandomArtifacts","ArtistComponent","artist","replaceUrl","IndexComponent","selected","onSelectButton","getShows","getVenues","getLocations","getSongs","locations","LocationComponent","currentVideoIndex","videos","currentVideoId","openRecordingsDialog","MapSelectComponent","PlaylistComponent","playlistId","RecordingComponent","_array","Array","recordinginfo","tracklist","addTrackToPlaylist","toPlayerTrack","venue_name","location_name","ShowComponent","tilts","getTilts","recordingUrls","bypassSecurityTrustResourceUrl","photos","Photo","poster","Poster","pass","Pass","ticket","Ticket","eventImage","gl","makeGallery","photosLightbox","artifactsLightbox","currentArtifact","shuffle","arr","reduceRight","_","__","idx","addRecordingToPlaylist","recordingEtreeId","addRecordingTrackToPlaylist","openLightboxArray","tl","SongComponent","composedBy","concat","lyricsBy","join","firstPlayed","lastPlayed","timesPlayed","totalRecordings","StartComponent","email","VenueComponent","environment","production","prototype","fun","len","TypeError","thisp","arguments","call","Control","FuseSearch","extend","Evented","panelTitle","placeholder","caseSensitive","threshold","maxResultLength","showResultFct","showInvisibleFeatures","shouldSort","initialize","setOptions","_panelOnLeftSide","onAdd","ctrl","_createControl","_createPanel","_setEventListeners","invalidateSize","onRemove","hidePanel","_clearEventListeners","_clearPanel","_clearControl","className","butt","_openButton","DomEvent","stopPropagation","preventDefault","showPanel","off","_this","mapContainer","getContainer","pane","_panel","addClass","header","_input","maxLength","onkeyup","currentTarget","searchFeatures","_closeButton","_resultList","removeChild","that","_map","addEventListener","removeEventListener","isPanelVisible","hasClass","panBy","getOffset","fire","select","removeClass","offsetWidth","jsonFeatures","features","_keys","_feature","_fuseIndex","Fuse","string","listItems","querySelectorAll","remove","resultList","querySelector","num","max","popup","_getFeaturePopupIfVisible","createResultItem","hasLayer","getPopup","resultItem","onclick","matchMedia","matches","openPopup","_panAndPopup","str","oldPadding","autoPanPaddingTopLeft","newPadding","Point","autoPanPaddingBottomRight"],"mappings":"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,IAA+B,+J,IAChC,6J,IAAoC,wJ,IAC3C,6J,IAAoC,oF,IACpB,wR,IAGnC,wJ,IAA+B,+J,IACL,6J,IAAoC,wJ,IAC3C,6J,IAAoC,oF,IAC3B,+E,IAAc,2V,IAO5C,0H,IACE,wJ,IAA8B,gL,IACa,gL,IACA,6J,IAC/B,yH,IAAI,sF,IAAiB,+L,IACkC,wJ,IAChD,6J,IAAoC,oF,IAAwB,6X,IAQjF,0H,IACE,wJ,IAA8B,iL,IACa,iL,IACA,8J,IAC/B,yH,IAAI,wF,IAAmB,qS,IAGxB,wJ,IAA+B,+J,IAChB,6J,IAAoC,wJ,IAC3C,6J,IAAoC,oF,IACpB,8d,IAQrC,0H,IAEA,wJ,IACE,gM,IAAiE,wJ,IAC9C,6H,IAAQ,wH,IAAG,yH,IAAmB,6H,IAAQ,+G,IAI3D,2H,IACE,0H,IACE,yH,IAGF,yJ,IACE,mK,IAAyC,iL,IACE,6J,IAC/B,gL,IAAuD,gL,IACxB,6J,IAC/B,6H,IAAQ,yH,IAAI,uF,IAC8B,8J,IAC1C,iL,IAAuD,gL,IACxB,6J,IAC/B,6H,IAAQ,yH,IAAI,8E,IAAoB,yH,IAAI,gH,IAC3C,4L,IAA6D,uG,IAC7C,gG,IAKzB,wJ,IACE,yH,IAGF,wJ,IACE,gL,IAAuD,gL,IACZ,6J,IAAoC,wI,IAIjF,yH,IACE,uJ,IAA8B,gL,IACa,gL,IACA,6J,IAC/B,yH,IAAI,mG,IAA8B,0W,IAOhD,4H,IACE,yH,IACE,uJ,IAA8B,gL,IACa,gL,IACA,6J,IAC/B,yH,IAAI,iG,IAA8B,kvB,IAYhD,4H,IACE,4H,IACE,uJ,IAEA,wJ,IACE,gL,IAAuD,gL,IACZ,6J,IAC/B,6O,IAKd,wJ,IACE,yH,IAGF,2K,IACE,kK,IAAyC,gL,IACE,gL,IACA,gL,IACA,+K,IACpB,6H,IAAQ,6J,IAAoC,4G,IAIrE,2H,IACE,wJ,IACE,yH,IAGF,yJ,IACE,mK,IAAyC,gL,IACE,6J,IAC/B,gL,IAC+B,gL,IACA,6J,IAC/B,6H,IAAQ,yH,IAAI,wF,IAA8B,yH,IAAI,gQ,IAQ9D,wJ,IACE,yH,IAGF,wJ,IACE,gL,IAAuD,gL,IACZ,6J,IAC/B,wH,IAA8C,wJ,IACvC,6J,IAAoC,oF,IACzC,8b,IAQhB,wJ,IACE,yH,IAGF,0J,IACE,gL,IAAuD,gL,IACZ,6J,IAC/B,uH,IAGZ,4H,IACE,4H,IACE,4H,IACE,4H,IACE,4H,IACE,4H,IACE,4H,IACE,4H,IACE,qJ,IAEA,qJ,IAEA,qJ,IAEA,qJ,IAEA,4H,IACE,4H,IACE,4H,IACE,0H,IACE,wJ,IAGF,yH,IACE,uJ,IAA8B,wJ,IACX,gJ,IACR,6J,IACC,kF,IAGd,0H,IACE,wJ,IAGF,wJ,IACE,yH,IAGF,6K,IACE,kK,IAAyC,gL,IACE,gL,IAC3C,gL,IAC2C,+K,IAEpB,6H,IAAQ,6J,IAAoC,0H,IAKrE,wJ,IACE,yH,IAGF,wJ,IACE,gL,IAC2C,gL,IAC3C,6J,IAAoC,6H,IAAQ,yH,IAAI,mF,IAC5B,yH,IAAI,0O,IAO1B,wJ,IACE,yH,IAGF,wJ,IACE,gL,IAC2C,gL,IAC3C,6J,IAAoC,6J,IAKtC,yH,IACE,uJ,IAA8B,gL,IACa,gL,IAC3C,6J,IACY,6H,IAAQ,kF,IAAiB,mM,IAMvC,yH,IACE,uJ,IAA8B,gL,IACa,gL,IAC3C,6J,IACY,6H,IAAQ,+F,IAA8B,kL,IAMpD,yH,IACE,uJ,IAA8B,gL,IACa,gL,IAC3C,6J,IACY,6H,IAAQ,oG,IACF,0M,IAMpB,yH,IACE,uJ,IAA8B,gL,IACa,gL,IAC3C,6J,IAAoC,6H,IAAQ,4F,IACvB,oa,IAUvB,yH,IACE,uJ,IAA8B,gL,IACa,gL,IAC3C,6J,IAAoC,6H,IAAQ,0F,IACzB,wY,IAUrB,wJ,IACE,gL,IAC2C,gL,IAC3C,6J,IAAoC,6L,IAMtC,yH,IACE,uJ,IAA8B,gL,IACa,gL,IAC3C,6J,IAAoC,6H,IAAQ,6F,IACzB,yR,IAQrB,4H,IACE,4H,IACE,yH,IACE,uJ,IAA8B,gL,IACa,gL,IAC3C,6J,IACY,6H,IAAQ,qF,IAAoB,2W,IAqB1C,4H,IACE,4H,IACE,wJ,IAA+B,+J,IACL,wJ,IAG1B,wJ,IAEA,wJ,IACE,yH,IAGF,2K,IACE,kK,IAC6B,gL,IACc,gL,IAC3C,gL,IAC2C,+K,IAEpB,6H,IAAQ,6J,IAAoC,gI,IAKrE,wJ,IACE,yH,IAGF,wJ,IACE,gL,IAC2C,gL,IAC3C,6J,IACY,6H,IAAQ,yH,IAAI,uF,IACE,yH,IAAI,uK,IAMhC,wJ,IACE,yH,IAGF,yJ,IACE,iL,IAC2C,iL,IAC3C,8J,IAAoC,4T,IAMtB,gL,IAC6B,6J,IAAoC,4E,IACtE,gL,IACkC,wJ,IAC3C,+J,IAC0B,wJ,IACP,+J,IAEnB,6J,IAIF,wJ,IACE,yH,IAGF,kL,IAEE,mK,IAC6B,iL,IACc,gL,IAC3C,gL,IAC2C,+K,IAEpB,6H,IAAQ,6J,IAAoC,8H,IAEnC,8E,IAAa,8E,IAAa,8E,IAAa,8E,IAAa,8E,IAGtF,wJ,IACE,yH,IAGF,wJ,IACE,gL,IAC2C,gL,IAC3C,6J,IACY,6H,IAAQ,yH,IAAI,wF,IACJ,yH,IAAI,gK,IAM1B,wJ,IACE,yH,IAGF,yJ,IACE,iL,IAC2C,iL,IAC3C,8J,IAAoC,gI,IAEhC,yJ,IACe,gK,IACO,6J,IAC1B,gL,IAC2C,6J,IAC3C,wJ,IAA+B,+J,IACL,6J,IAC1B,wJ,IAA+B,+J,IACL,6J,IAAoC,oF,IAEe,wR,IAM5E;AAAA;;AAAA;;;;;;OAAA,E,IAAA,E,IAAA,C;;;iBAAiE,wJ,IAC/C,+J,IACO,sH,IAED,4G,IAI3B,wJ,IACE,yH,IAGF,wJ,IACE,gL,IAC2C,gL,IAC3C,6J,IAAoC,+Y,IAWtC,wJ,IACE,yH,IAGF,8K,IACE,kK,IAC6B,gL,IACc,gL,IAC3C,gL,IAC2C,+K,IAEpB,6H,IAAQ,6J,IAAoC,mH,IAKrE,wJ,IACE,yH,IAGF,wJ,IACE,gL,IAC2C,gL,IAC3C,6J,IACY,6H,IAAQ,yH,IAAI,uF,IACE,yH,IAAI,yN,IAOhC,wJ,IACE,yH,IAGF,wJ,IACE,gL,IAC2C,gL,IAC3C,6J,IAAoC,0Z,IAQpB,gJ,IAAuB,iF,IAC7B,8H,IAIZ,wJ,IACE,yH,IAGF,wJ,IACE,gL,IAC2C,gL,IAC3C,6J,IAAoC,oc,IAYtC,wJ,IACE,yH,IAGF,4K,IACE,kK,IAC6B,gL,IACc,gL,IAC3C,gL,IAC2C,+K,IAEpB,6H,IAAQ,6J,IAAoC,mH,IAKrE,wJ,IACE,yH,IAGF,wJ,IACE,gL,IAC2C,gL,IAC3C,6J,IACY,6H,IAAQ,yH,IAAI,uF,IACE,yH,IAAI,6L,IAMhC,wJ,IACE,yH,IAGF,yJ,IACE,iL,IAC2C,iL,IAC3C,8J,IAAoC,suB,IAiB3B,gL,IACkC,6J,IAC3C,wJ,IAA+B,+J,IACL,6J,IAC1B,wJ,IAA+B,+J,IACL,6J,IAAoC,oF,IAEN,2H,IAEpD,gL,IACuC,6J,IAC3C,wJ,IAA+B,+J,IACL,6J,IAC1B,wJ,IAA+B,+J,IACL,6J,IAAoC,oF,IAEN,wG,IAK1D,wJ,IACE,yH,IAGF,8K,IACE,kK,IAC6B,gL,IACc,gL,IAC3C,gL,IAC2C,+K,IAEpB,6H,IAAQ,6J,IAAoC,oH,IAKrE,wJ,IACE,yH,IAGF,wJ,IACE,gL,IAC2C,gL,IAC3C,6J,IACY,6H,IAAQ,yH,IAAI,mF,IACJ,yH,IAAI,iK,IAM1B,wJ,IACE,yH,IAGF,yJ,IACE,iL,IAC2C,iL,IAC3C,8J,IAAoC,0K,IAGpC,gL,IAC2C,6J,IAC3C,wJ,IAA+B,+J,IACL,6J,IAC1B,wJ,IAA+B,+J,IACL,6J,IAAoC,oF,IAEN,iO,IAI3B,gL,IACc,6J,IAC3C,wJ,IAA+B,+J,IACL,6J,IAC1B,wJ,IAA+B,+J,IACL,6J,IAAoC,oF,IAEN,8X,IAQxD,gL,IAC2C,6J,IAC1C,gJ,IACU,qG,IACG,6E,IAGhB,wJ,IACE,yH,IAGF,iL,IAEE,kK,IAC6B,gL,IACc,gL,IAC3C,gL,IAC2C,+K,IAEpB,6H,IAAQ,6J,IAAoC,2G,IAKrE,wJ,IACE,yH,IAGF,wJ,IACE,gL,IAC2C,gL,IAC3C,6J,IACY,6H,IAAQ,yH,IAAI,mF,IACJ,yH,IAAI,6I,IAK1B,wJ,IACE,gL,IAC2C,8E,IAG7C,yJ,IACE,iL,IAC2C,iL,IAC3C,8J,IAAoC,wU,IAMH,wJ,IACd,+J,IACO,6J,IAC1B,gK,IAC2B,6J,IAC3B,oS,IAGS,wJ,IACU,qJ,IAAyH,2E,IAG9I,wJ,IACE,yH,IAGF,yJ,IACE,iL,IAC2C,iL,IAC3C,8J,IAAoC,4L,IAGhB,wJ,IACD,+J,IACO,6J,IAC1B,gK,IAC2B,6J,IAC3B,wJ,IACmB,sQ,IAIV,uH,IAA2F,4E,IAItG,wJ,IACE,gM,IACuB,wJ,IACJ,6H,IAAQ,wH,IAAG,yH,IAAmB,6H,IAAQ,6F,IAI3D,2H,IACE,0H,IACE,yH,IAGF,wJ,IACE,kK,IAC6B,gL,IACc,6J,IAC3C,gL,IAC2C,gL,IAC3C,6J,IAAoC,+L,IAOtC,yH,IACE,uJ,IAA8B,kK,IACD,gL,IACc,6J,IAC3C,gL,IAC2C,gL,IAC3C,6J,IACY,gJ,IAAuB,4H,IAKrC,yJ,IACE,iL,IAC2C,gL,IAC3C,6J,IAAoC,qZ,IAQL,wJ,IACZ,+J,IACO,wJ,IACP,+J,IACO,6J,IAC1B,wJ,IAA+B,+J,IAMnC,wJ,IACE,yH,IAGF,yJ,IACE,iL,IAC2C,iL,IAC3C,8J,IACY,6H,IAAQ,wH,IAAG,2G,IACG,+U,IAME,yJ,IACT,gK,IACO,6J,IAC1B,gL,IAC2C,6J,IAC3C,wJ,IAA+B,+J,IACL,6J,IAC1B,wJ,IAA+B,+J,IACL,6J,IAAoC,oF,IAEe,4I,IAE1D,yJ,IACA,gK,IACO,6J,IAC1B,gL,IAC2C,6J,IAC3C,wJ,IAA+B,+J,IACL,6J,IAC1B,wJ,IAA+B,+J,IACL,6J,IAAoC,oF,IAEe,iF,IACvE,gK,IACqB,6J,IAC3B,0P,IAGS,wJ,IACU,2G,IAA0D,4E,IAC7E,wJ,IAA+B,+J,IACL,6J,IAI5B,wJ,IACE,yH,IAGF,wJ,IACE,gL,IAC2C,gL,IAC3C,6J,IACY,6H,IAAQ,wH,IAAG,wG,IACA,8jB,IAezB,yH,IACE,uJ,IAA8B,gJ,IACnB,6J,IACC,4H,IAId,wJ,IACE,yH,IAGF,uK,IACE,kK,IAC6B,gL,IACc,gL,IAC3C,gL,IAC2C,+K,IAEpB,6H,IAAQ,6J,IAAoC,iH,IAKrE,wJ,IACE,yH,IAGF,wJ,IACE,gL,IAC2C,iL,IAC3C,8J,IAAoC,uvB,IAiBf,8E,IAGvB,yJ,IACE,0H,IAGF,gL,IAEE,mK,IAC6B,iL,IACc,iL,IAC3C,iL,IAC2C,gL,IAEpB,8H,IAAQ,8J,IAAoC,oI,IAMrE,yJ,IACE,0H,IAGF,yJ,IACE,iL,IAC2C,iL,IAC3C,8J,IACY,8H,IAAQ,0H,IAAI,uF,IACE,0H,IAAI,sM,IAOhC,yJ,IACE,0H,IAGF,yJ,IACE,iL,IAC2C,iL,IAC3C,8J,IACY,4qB,IAkBd,yJ,IACE,0H,IAGF,0J,IACE,kL,IAC2C,kL,IAC3C,+J,IAAoC,qK,IAG/B,iL,IACsC,8J,IAC3C,iL,IAC2C,8J,IAC3C,yJ,IAA+B,gK,IACL,8J,IAAoC,qF,IAEb,kK,IAGjD,iL,IAC2C,8J,IAC3C,iL,IAC2C,8J,IAC3C,yJ,IAA+B,gK,IACL,8J,IAAoC,oF,IAEb,oV,IAO7C,iL,IACuC,8J,IAC3C,iL,IAC2C,8J,IAC3C,yJ,IAA+B,gK,IACL,8J,IAAoC,oF,IAEb,2M,IAOnD,yJ,IACE,0H,IAGF,mL,IAEE,oK,IAC6B,kL,IACc,iL,IAC3C,iL,IAC2C,gL,IAEpB,8H,IAAQ,8J,IAAoC,iH,IAE5C,8E,IAAa,8E,IAAa,8E,IAAa,8E,IAAa,8E,IAG7E,yJ,IACE,0H,IAAI,0H,IAGN,yJ,IACE,iL,IAC2C,iL,IAC3C,8J,IACY,0H,IAAI,8H,IAAQ,uF,IACH,6J,IAKvB,yJ,IACE,0H,IAGF,yJ,IACE,iL,IAC2C,iL,IAC3C,8J,IAAoC,siB,IAetC,yJ,IACE,0H,IAGF,6K,IACE,oK,IAC6B,kL,IACc,iL,IAC3C,iL,IAC2C,gL,IAEpB,8H,IAAQ,8J,IAAoC,wH,IAE5C,8E,IAAa,8E,IAAa,8E,IAAa,8E,IAAa,8E,IAG7E,yJ,IACE,0H,IAGF,yJ,IACE,iL,IAC2C,iL,IAC3C,8J,IAAoC,uI,IAE5B,iL,IACmC,8J,IAAoC,uF,IACnE,iJ,IACD,qG,IA8Db,yJ,IACE,0H,IAGF,6K,IACE,oK,IAC6B,kL,IACc,iL,IAC3C,iL,IAC2C,gL,IAEpB,8H,IAAQ,8J,IAAoC,kJ,IAG/C,8E,IAAa,8E,IAAa,8E,IAAa,8E,IAAa,8E,IAG1E,yJ,IACE,0H,IAGF,yJ,IACE,iL,IAC2C,iL,IAC3C,8J,IAAoC,yX,IAepC,8J,IAAoC,2H,IA8BpF,0H,IACI,2M,IACsE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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ShowComponent } from './views/show.component';\nimport { LocationComponent } from './views/location.component';\nimport { VenueComponent } from './views/venue.component';\nimport { SongComponent } from './views/song.component';\nimport { RecordingComponent } from './views/recording.component';\nimport { ArtistComponent } from './views/artist.component';\nimport { ArtifactsComponent } from './views/artifacts.component';\nimport { MapSelectComponent } from './views/mapselect.component';\nimport { StartComponent } from './views/start.component';\nimport { ProfileComponent } from './profile/profile.component';\nimport { APIResolver } from './auth.resolve';\nimport { CommentsComponent } from './comments/comments.component';\nimport { PrivacyPolicyComponent } from './cookie-banner/privacy-policy.component';\nimport { PlaylistComponent } from './views/playlist.component';\nimport { IndexComponent } from './views/index.component';\n\nimport { AuthGuard } from './auth/auth.guard';\n\nconst routes: Routes = [\n  { path: '', redirectTo: '/about', pathMatch: 'full' },\n  //{ path: '', component: MapSelectComponent, resolve: { loggedIn: APIResolver} },\n  { path: 'show', component: ShowComponent, canActivate : [AuthGuard] },\n  { path: 'show/:id', component: ShowComponent, canActivate : [AuthGuard] },\n  { path: 'location', component: LocationComponent, canActivate : [AuthGuard] },\n  { path: 'location/:id', component: LocationComponent, canActivate : [AuthGuard] },\n  { path: 'venue', component: VenueComponent, canActivate : [AuthGuard] },\n  { path: 'venue/:id', component: VenueComponent, canActivate : [AuthGuard] },\n  { path: 'song', component: SongComponent, canActivate : [AuthGuard] },\n  { path: 'song/:id', component: SongComponent, canActivate : [AuthGuard] },\n  { path: 'recording', component: RecordingComponent, canActivate : [AuthGuard] },\n  { path: 'recording/:id', component: RecordingComponent, canActivate : [AuthGuard] },\n  { path: 'artist', component: ArtistComponent, canActivate : [AuthGuard] },\n  { path: 'artist/:id', component: ArtistComponent, canActivate : [AuthGuard] },\n  { path: 'artifacts', component: ArtifactsComponent, canActivate : [AuthGuard] },\n  { path: 'artifacts/:types', component: ArtifactsComponent, canActivate : [AuthGuard] },\n  { path: 'mapselect', component: MapSelectComponent, canActivate : [AuthGuard] },\n  { path: 'about', component: StartComponent },\n  { path: 'profile', component: ProfileComponent, canActivate : [AuthGuard], resolve: { loggedIn: APIResolver} },\n  //{ path: 'comments', component: CommentsComponent },\n  { path: 'dataprivacy', component: PrivacyPolicyComponent },\n  { path: 'playlist/:id', component: PlaylistComponent },\n  { path: 'index', component: IndexComponent, canActivate : [AuthGuard] }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","<div fxLayout=\"column\" fxFlexFill>\n  <div fxFlex><router-outlet></router-outlet>\n  </div>\n  <!--<footer *ngIf=\"!start\"><gd-player></gd-player></footer>-->\n  <footer>\n    <gd-player></gd-player>\n    <app-cookie-banner></app-cookie-banner>\n  </footer>\n</div>\n","import { Component, Inject } from '@angular/core';\nimport { Router, NavigationEnd, NavigationStart } from '@angular/router';\nimport { AuthService } from './auth.service';\nimport { TRACKINGID, TRACKING, SOCKETIO } from './config';\nimport { DOCUMENT } from '@angular/common';\nimport { PlayerService } from './services/player.service';\nimport { SocketioService } from './services/socketio.service';\nimport { Title } from '@angular/platform-browser';\nimport { logger } from './globals';\n\ndeclare let gtag: Function;\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.sass']\n})\n\n\nexport class AppComponent {\n  //protected start: Boolean;\n  //private cookieValue: string;\n  protected currentUser: any = { userName: '', userId: 'None' };\n\n  constructor(public router:Router, public auth: AuthService, @Inject(DOCUMENT) private doc: any, private player: PlayerService,\n    private socketService: SocketioService, private title: Title) {\n    \n    //router.events.forEach((event) => {\n    //  if (router.url.includes('/about')) {  \n    //    this.start = true; \n    //  } else {\n    //    this.start = false; \n    //  }\n    //});\n\n    this.auth.userProfile$.subscribe(userProfile => {\n      if (userProfile){\n        this.currentUser = {\n          userId: userProfile.sub.split(\"|\")[1],\n          userName: userProfile['http://example.com/username']\n        }\n        gtag('set', {'user_id': this.currentUser.userId});\n      }\n    });\n    \n  }\n\n  public ngOnInit() {\n    this.googleAnalytics();\n    var cached_title;\n    if (TRACKING) {\n      this.router.events.subscribe(async(event) => {\n        if(event instanceof NavigationStart){\n          cached_title = this.title.getTitle();\n          //logger('cached: ' + cached_title);\n        }\n        if(event instanceof NavigationEnd){\n          while (this.title.getTitle() === cached_title){  // wait for new page title\n            await this.sleep(250);\n            logger('waiting for page title')\n          }\n          logger('title: ' + this.title.getTitle());\n          gtag('set', {'user_id': this.currentUser.userId});\n          gtag('config', TRACKINGID, \n            {\n              'page_path': event.urlAfterRedirects\n            }\n          );\n        }\n      }); \n    }\n\n    if (SOCKETIO) this.socketService.setupSocketConnection();\n    \n  }\n\n  sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  private scriptHtml(html, src){\n    const s = this.doc.createElement('script');\n    s.type = 'text/javascript';\n    if (src) s.src = src;\n    if (html) s.innerHTML = html;\n    const head = this.doc.getElementsByTagName('head')[0];\n    head.appendChild(s);\n  }\n\n\n  private googleAnalytics() {\n    this.scriptHtml(`\n      // Set to the same value as the web property used on the site\n      var gaProperty = \"` + TRACKINGID + `\";\n  \n      // Disable tracking if the opt-out cookie exists.\n      var disableStr = 'ga-disable-' + gaProperty;\n  \n      // if (document.cookie.indexOf(disableStr + '=true') > -1) {\n      if (document.cookie.indexOf('gd-cookieconsent=') < 0) {\n        //alert('revoke!');\n        window[disableStr] = true;\n      }\n  \n      // Opt-in function\n      function gaOptIn() {\n        var oneYearFromNow = new Date();\n        oneYearFromNow.setFullYear(oneYearFromNow.getFullYear() + 1);\n        document.cookie = 'gd-cookieconsent=allow; expires=\"' + oneYearFromNow.toGMTString() + '\"';\n        \n        window[disableStr] = false;\n        //document.getElementById(\"cookiebanner\").remove();\n        window.location.reload()\n      }\n  \n      // Opt-out function\n      function gaOptOut() {\n        document.cookie = 'gd-cookieconsent=; expires = Thu, 01 Jan 1970 00:00:00 GMT';\n        document.cookie = '_ga=; expires = Thu, 01 Jan 1970 00:00:00 GMT';\n        document.cookie = '_gid=; expires = Thu, 01 Jan 1970 00:00:00 GMT';\n        document.cookie = '_gat_gtag_` + TRACKINGID.replace(/-/g, '_') + `=; expires = Thu, 01 Jan 1970 00:00:00 GMT';\n        window[disableStr] = true;\n        window.location.reload()\n      }\n    `, null);\n\n    // <!-- Global site tag (gtag.js) - Google Analytics -->\n    this.scriptHtml(null, 'https://www.googletagmanager.com/gtag/js');\n    this.scriptHtml( `\n      window.dataLayer = window.dataLayer || [];\n      function gtag(){dataLayer.push(arguments);}\n      gtag('js', new Date());\n    `, null)\n    this.scriptHtml(null, 'https://cdn.auth0.com/js/lock/11.23.1/lock.min.js');\n\n  }\n\n\n}\n","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { MatSliderModule } from '@angular/material/slider';\nimport { MatMenuModule } from '@angular/material/menu';\n\nimport { LazyLoadImageModule } from 'ng-lazyload-image';\nimport { LeafletModule } from '@asymmetrik/ngx-leaflet';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { ShowComponent } from './views/show.component';\nimport { LocationComponent } from './views/location.component';\nimport { VenueComponent } from './views/venue.component';\nimport { SongComponent } from './views/song.component';\nimport { RecordingComponent } from './views/recording.component';\nimport { ArtistComponent } from './views/artist.component';\nimport { ArtifactsComponent } from './views/artifacts.component';\nimport { MapSelectComponent} from './views/mapselect.component';\nimport { StartComponent} from './views/start.component';\nimport { IndexComponent } from './views/index.component';\n\nimport { HeaderComponent } from './shared/header.component';\nimport { MapComponent } from './shared/map.component';\nimport { WeatherComponent } from './shared/weather.component';\nimport { ShowsComponent } from './shared/shows.component';\nimport { PlayerComponent } from './shared/player.component';\nimport { ListDialogComponent } from './shared/list-dialog.component';\nimport { SearchDialogComponent } from './shared/search-dialog.component';\nimport { ShowMapComponent } from './shared/showmap.component';\n\nimport { DeadApiService } from './services/dead-api.service';\nimport { DataService } from './services/data.service';\nimport { PlayerService } from './services/player.service';\nimport { DialogService } from './services/dialog.service';\n\nimport { HashLocationStrategy, LocationStrategy } from '@angular/common';\n\nimport { CookieService } from 'ngx-cookie-service';\n//import { ButtonDirective } from './button.directive';\nimport { ProfileComponent } from './profile/profile.component';\n\nimport { APIResolver } from './auth.resolve';\n//import { ChatterBoxModule } from './chatter-box';\nimport { CommentsComponent } from './comments/comments.component';\nimport { InputDialogComponent } from './shared/input-dialog.component';\nimport { CookieBannerComponent } from './cookie-banner/cookie-banner.component';\nimport { PrivacyPolicyComponent } from './cookie-banner/privacy-policy.component';\nimport {GoogleAnalyticsService} from './services/google-analytics.service';\n\nimport { ShareButtonsComponent } from './shared/sharebuttons.component';\nimport { ShareButtonsModule } from 'ngx-sharebuttons/buttons';\nimport { ShareIconsModule } from 'ngx-sharebuttons/icons';\n\nimport { ChatterBoxComponent } from './comments/chatter-box.component';\nimport { PlaylistComponent } from './views/playlist.component';\nimport { YouTubePlayerModule } from '@angular/youtube-player';\nimport { YoutubeComponent } from './shared/youtube.component';\n\nimport { NgSelectModule } from '@ng-select/ng-select';\nimport { Ng2CarouselamosModule } from 'ng2-carouselamos';\nimport { LightboxModule } from 'ngx-lightbox';\nimport { LightboxService } from './services/lightbox.service';\nimport { SocketioService } from './services/socketio.service';\nimport { AnchorScrollService } from './services/anchor-scroll.service';\n\nimport {NgxPaginationModule} from 'ngx-pagination'; \nimport { MatTooltipModule, MAT_TOOLTIP_DEFAULT_OPTIONS } from '@angular/material/tooltip';\nimport { BuyMeACoffeeComponent } from './buymeacoffee/buymeacoffee.component';\nimport { RegisterModalComponent } from './auth/register-modal.component';\n\nimport { AuthGuard } from './auth/auth.guard';\nimport { NgVarDirective } from './ng-var.directive';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    ShowComponent,\n    LocationComponent,\n    VenueComponent,\n    SongComponent,\n    RecordingComponent,\n    ArtistComponent,\n    ArtifactsComponent,\n    HeaderComponent,\n    MapComponent,\n    WeatherComponent,\n    ShowsComponent,\n    PlayerComponent,\n    ListDialogComponent,\n    SearchDialogComponent,\n    ShowMapComponent,\n    MapSelectComponent,\n    StartComponent,\n    //ButtonDirective,\n    ProfileComponent,\n    CommentsComponent,\n    InputDialogComponent,\n    CookieBannerComponent,\n    PrivacyPolicyComponent,\n    ShareButtonsComponent,\n    ChatterBoxComponent,\n    PlaylistComponent,\n    YoutubeComponent,\n    IndexComponent,\n    BuyMeACoffeeComponent,\n    RegisterModalComponent,\n    NgVarDirective\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    FlexLayoutModule,\n    FormsModule,\n    ReactiveFormsModule,\n    BrowserAnimationsModule,\n    MatDialogModule,\n    MatButtonModule,\n    MatIconModule,\n    MatMenuModule,\n    LazyLoadImageModule,\n    LeafletModule.forRoot(),\n    MatSliderModule,\n    MatProgressSpinnerModule,\n    //ChatterBoxModule,\n    ShareButtonsModule,\n    ShareIconsModule,\n    YouTubePlayerModule,\n    NgSelectModule,\n    Ng2CarouselamosModule,\n    LightboxModule,\n    NgxPaginationModule,\n    MatTooltipModule\n  ],\n  providers: [\n    AuthGuard,\n    DeadApiService,\n    DataService,\n    PlayerService,\n    DialogService,\n    {provide: LocationStrategy, useClass: HashLocationStrategy},\n    CookieService,\n    APIResolver,\n    {\n      provide: 'window',\n      useValue: window,\n    },\n    {\n      provide: 'document',\n      useValue: document,\n    },\n    GoogleAnalyticsService,\n    LightboxService,\n    SocketioService,\n    AnchorScrollService,\n    {\n      provide: MAT_TOOLTIP_DEFAULT_OPTIONS,\n      useValue: {\n          showDelay: 750,\n          hideDelay: 200,\n          position: 'left'\n      }\n    }\n  ],\n  bootstrap: [AppComponent],\n  entryComponents: [ListDialogComponent, SearchDialogComponent, InputDialogComponent, BuyMeACoffeeComponent, RegisterModalComponent], \n  schemas: [ CUSTOM_ELEMENTS_SCHEMA ]\n})\nexport class AppModule { }\n","import { Injectable } from '@angular/core';\nimport { Resolve } from '@angular/router';\nimport { AuthService } from './auth.service';\nimport { Observable } from 'rxjs';\nimport { logger } from './globals';\n\n@Injectable()\nexport class APIResolver implements Resolve<any> {\n  constructor(private auth: AuthService) {}\n\n  resolve(): Observable<boolean> {\n    logger('resolve');\n    return this.auth.isAuthenticated$;\n    }\n\n\n  getUser(loggedIn) {\n    return {\n      userId: loggedIn.sub.split(\"|\")[1],\n      userName: loggedIn['http://example.com/username']\n    }\n  }\n\n}","import { Injectable } from '@angular/core';\nimport createAuth0Client from '@auth0/auth0-spa-js';\nimport Auth0Client from '@auth0/auth0-spa-js/dist/typings/Auth0Client';\nimport { from, of, Observable, BehaviorSubject, combineLatest, throwError } from 'rxjs';\nimport { tap, catchError, concatMap, shareReplay } from 'rxjs/operators';\nimport { Router } from '@angular/router';\nimport { AUTH0DOMAIN, AUTH0CLIENTID} from './config';\nimport { CookieService } from 'ngx-cookie-service'; \n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n  // Create an observable of Auth0 instance of client\n  private urlFromAuth0: string;\n  auth0Client$ = (from(\n    createAuth0Client({\n      domain: AUTH0DOMAIN,\n      client_id: AUTH0CLIENTID,\n\n\n      redirect_uri: `${window.location.origin}`\n    })\n  ) as Observable<Auth0Client>).pipe(\n    shareReplay(1), // Every subscription receives the same shared value\n    catchError(err => throwError(err))\n  );\n  // Define observables for SDK methods that return promises by default\n  // For each Auth0 SDK method, first ensure the client instance is ready\n  // concatMap: Using the client instance, call SDK method; SDK returns a promise\n  // from: Convert that resulting promise into an observable\n  isAuthenticated$ = this.auth0Client$.pipe(\n    concatMap((client: Auth0Client) => from(client.isAuthenticated())),\n    tap(res => this.loggedIn = res)\n  );\n  handleRedirectCallback$ = this.auth0Client$.pipe(\n    //concatMap((client: Auth0Client) => from(client.handleRedirectCallback()))\n    concatMap((client: Auth0Client) => from(client.handleRedirectCallback(this.urlFromAuth0)))\n  );\n  // Create subject and public observable of user profile data\n  private userProfileSubject$ = new BehaviorSubject<any>(null);\n  userProfile$ = this.userProfileSubject$.asObservable();\n  // Create a local property for login status\n  loggedIn: boolean = null;\n\n  constructor(private router: Router, private cookieService: CookieService) {\n    // On initial load, check authentication state with authorization server\n    // Set up local auth streams if user is already authenticated\n    this.localAuthSetup();\n    // Handle redirect from Auth0 login\n    this.handleAuthCallback();\n  }\n\n  // When calling, options can be passed if desired\n  // https://auth0.github.io/auth0-spa-js/classes/auth0client.html#getuser\n  getUser$(options?): Observable<any> {\n    return this.auth0Client$.pipe(\n      concatMap((client: Auth0Client) => from(client.getUser(options))),\n      tap(user => this.userProfileSubject$.next(user))\n    );\n  }\n\n  private localAuthSetup() {\n    // This should only be called on app initialization\n    // Set up local authentication streams\n    const checkAuth$ = this.isAuthenticated$.pipe(\n      concatMap((loggedIn: boolean) => {\n        if (loggedIn) {\n          // If authenticated, get user and set in app\n          // NOTE: you could pass options here if needed\n          return this.getUser$();\n        }\n        // If not authenticated, return stream that emits 'false'\n        return of(loggedIn);\n      })\n    );\n    checkAuth$.subscribe();\n  }\n\n  login(redirectPath: string = this.router.url) {\n    // A desired redirect path can be passed to login method\n    // (e.g., from a route guard)\n    // Ensure Auth0 client instance exists\n    this.auth0Client$.subscribe((client: Auth0Client) => {\n      // Call method to log in\n      client.loginWithRedirect({\n        redirect_uri: `${window.location.origin}`,\n        appState: { target: redirectPath }\n      });\n    });\n  }\n\n  private handleAuthCallback() {\n    // Call when app reloads after user logs in with Auth0\n    this.urlFromAuth0 = window.location.href;\n    const params = window.location.search;\n    if (params.includes('code=') && params.includes('state=')) {\n      let targetRoute: string; // Path to redirect to after login processsed\n      const authComplete$ = this.handleRedirectCallback$.pipe(\n        // Have client, now call method to handle auth callback redirect\n        tap(cbRes => {\n          // Get and set target redirect route from callback results\n          targetRoute = cbRes.appState && cbRes.appState.target ? cbRes.appState.target : this.router.url;\n        }),\n        concatMap(() => {\n          // Redirect callback complete; get user and login status\n          return combineLatest([\n            this.getUser$(),\n            this.isAuthenticated$\n          ]);\n        })\n      );\n      // Subscribe to authentication completion observable\n      // Response will be an array of user and login status\n      authComplete$.subscribe(([user, loggedIn]) => {\n        // Redirect to target route after callback processing\n        this.router.navigate([targetRoute]);\n        console.log('LOGGED IN');\n        const d = new Date();\n        d.setTime(d.getTime() + (180 * 24 * 60 * 60 * 1000));\n        var now = new Date();\n        var time = now.getTime();\n        var expireTime = time + 1000*36000;\n        now.setTime(expireTime);\n        document.cookie = 'gd_logged_in=c30hed92dusy7b8d;expires='+now.toUTCString();\n      });\n    }\n  }\n\n  logout() {\n    // Ensure Auth0 client instance exists\n    this.auth0Client$.subscribe((client: Auth0Client) => {\n      // Call method to log out\n      client.logout({\n        client_id: AUTH0CLIENTID,\n        returnTo: `${window.location.origin}`\n      });\n      console.log(\"LOGGED OUT\");\n      document.cookie = \"gd_logged_in= ; expires=Thu, 01 Jan 1970 12:00:00 UTC\"; \n    });\n  }\n\n}","import { Injectable } from '@angular/core';\nimport { Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree, ActivatedRoute } from '@angular/router';\n//import { Observable } from 'rxjs';\nimport { AuthService } from '../auth.service';\nimport { MatDialog, MatDialogConfig } from \"@angular/material/dialog\";\nimport { RegisterModalComponent } from './register-modal.component';\n//import { CookieService } from 'ngx-cookie-service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthGuard implements CanActivate {\n\n  protected loggedIn: boolean;\n  private route: ActivatedRoute;\n\n  constructor(private router:Router, private authService: AuthService, public matDialog: MatDialog) { //}, private cookieService: CookieService ) {\n  }\n  \n  \n\n\ncanActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Promise<boolean> {\n  console.log(state)\n   const cookie = this.getCookie(); \n   return this.authService.isAuthenticated$.toPromise().then(auth => {\n        //if (auth && !cookie) {\n        //  location.reload();\n        //}\n        if (!auth && cookie) {\n          location.reload();\n        }\n\n        if (auth && cookie) { \n          return true;\n        }\n        if (!cookie) {\n          this.registerModal();\n          this.router.navigate(['/about']);  \n          return false        \n        }       \n   });\n\n}\n    \n    registerModal() {\n      const dialogConfig = new MatDialogConfig();\n      dialogConfig.disableClose = true;\n      dialogConfig.autoFocus = false;\n      console.log('modal')\n      this.matDialog.open(RegisterModalComponent, dialogConfig);\n    }\n\n\n    getCookie() {\n      if (document.cookie.indexOf('gd_logged_in=c30hed92dusy7b8d') > -1 ) {\n        return true;\n      }\n      return false;\n\n    };\n\n}\n","\n<div>\n    Please log in to continue.\n</div>\n<br>\n<button mat-flat-button (click)=\"auth.login()\" style=\"margin-right:20px;\">\n    log in\n</button>\n<button mat-flat-button [mat-dialog-close]=\"true\">\n    close\n</button>\n\n\n\n","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from '../auth.service';\n\n@Component({\n  selector: 'app-register-modal',\n  templateUrl: './register-modal.component.html',\n  styleUrls: ['./register-modal.component.sass']\n})\nexport class RegisterModalComponent implements OnInit {\n\n  constructor(public auth: AuthService) { }\n\n  ngOnInit(): void {\n  }\n\n}\n","\n\n<div class=\"scale\">\n    <!--button mat-button class=\"close-icon\" [mat-dialog-close]=\"true\">\n        <mat-icon>close</mat-icon>\n    </button-->\n    <iframe src=\"https://www.buymeacoffee.com/widget/page/gratefullive?color=235F7FFF\" \n        style=\"position: relative; height: 100%; width: 100%; top: 0;  bottom: 0; left: 0; border: 0;\"></iframe>\n    <button class=\"button\">\n        <a class=\"donate-with-crypto\"\n            href=\"https://commerce.coinbase.com/checkout/823db1de-4678-4e63-abde-d304972a6ec6\" target=\"_blank\">\n            Donate with crypto\n        </a>\n        <script src=\"https://commerce.coinbase.com/v1/checkout.js?version=201807\">\n        </script>\n    </button>\n</div>\n\n\n\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-buymeacoffee',\n  templateUrl: './buymeacoffee.component.html',\n  styleUrls: ['./buymeacoffee.component.sass']\n})\nexport class BuyMeACoffeeComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<!-- based on iam_vishalkhare-chatter-box -->\n\n<div class=\"vis-chat-window\">\n    <div class=\"vis-chat-window-header\">\n\n    <!-- <img *ngIf=\"headerImage !== null && headerImage !== undefined\"\n                            [src]=\"headerImage\"\n                            alt=\"user\"\n                            class=\"user-image\"/> -->\n\n        <div class=\"vis-chat-window-header-text\">\n            Comments <!--{{heading}}-->\n        </div>\n    </div>\n    <div class=\"vis-chat-window-body\" #scrollMe [scrollTop]=\"scrollMe.scrollHeight\">\n        <div class=\"error-div\" *ngIf=\"showErrorDiv\">\n            {{errorMsg}}\n        </div>\n        <div *ngIf=\"!showErrorDiv\">\n            <div *ngFor=\"let comment of allComments\">\n              <div [ngClass]=\"(comment.userId !== null && comment.userId !== undefined) ? ((comment.userId == currentUserId) ? 'comment-currentUser' : 'comment') :'comment'\">\n\n                <!-- <div class=\"col-2\">\n                    <img *ngIf=\"!showImageOrDiv(comment)\"\n                            src=\"{{comment.userImagePath}}\"\n                            alt=\"user\"\n                            class=\"user-image\"\n                    />\n                    <div *ngIf=\"showImageOrDiv(comment)\" class=\"user-image color-gray\">\n                      {{comment.userName[0]}}\n                    </div>\n                </div> -->\n\n                <div class=\"comment-bubble col-10\" [ngClass]=\"(comment.userId !== null && comment.userId !== undefined) ? ((comment.userId == currentUserId) ? 'comment-bubble-currentUser col-10' : 'comment-bubble col-10') :'comment-bubble col-10'\">\n                    <div [ngClass]=\"(comment.userId !== null && comment.userId !== undefined) ? ((comment.userId == currentUserId) ? 'user-name' : 'user-name color-gray') :'user-name color-gray'\">\n                        {{comment.userName}}\n                    </div>\n                    <div [ngClass]=\"(comment.userId !== null && comment.userId !== undefined) ? ((comment.userId == currentUserId) ? 'user-comment' : 'user-comment color-gray') :'user-comment color-gray'\">\n                        {{comment.msg}}\n                    </div>\n                    <div [ngClass]=\"(comment.userId !== null && comment.userId !== undefined) ? ((comment.userId == currentUserId) ? 'timestamp' : 'timestamp color-gray') :'timestamp color-gray'\">\n                        {{comment.timestamp}} \n                        <button *ngIf=\"comment.userId == currentUserId\" (click)=\"onDeleteButton(comment)\">delete</button>\n                        <button *ngIf=\"comment.userId != currentUserId\"(click)=\"onReportButton(comment)\">report</button>\n                    </div>\n                    \n                </div>\n              </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"vis-chat-window-footer\">\n        <div>\n          <textarea *ngIf=\"currentUserId\" id=\"vis-comment-textField\" placeholder=\"{{placeholderText}}\"\n                [(ngModel)]=\"commentText\"\n                (keyup)=\"onKeyUp(commentText)\"\n                maxlength=\"{{inputMaxLength}}\"></textarea>\n          <button *ngIf=\"currentUserId\" type=\"button\" (click)=\"addComment(commentText)\">send</button> \n          <button *ngIf=\"!socketIo\" style=\"float: right; margin-right: 16px;\" (click)=\"onRefreshButton()\">refresh</button>\n        </div>\n        <div *ngIf=\"currentUserId\" class=\"character-count\">\n            {{typedCommentTextLength}} / {{inputMaxLength}} characters\n        </div>\n        \n    </div>\n  </div>","import { EventEmitter, Component, Input, Output } from '@angular/core';\nimport { isUndefined } from 'util';\nimport { CommentPayload } from '../services/types'\n\n\n@Component({\n    selector: 'gd-chatterbox',\n    templateUrl: './chatter-box.component.html',\n    styleUrls: ['./chatter-box.component.css']\n  })\n\n\n  export class ChatterBoxComponent {\n    constructor() {}\n\n    @Input() heading: string;\n    @Input() headerImage: string;\n    @Input() showErrorDiv: string;\n    @Input() errorMsg: string;\n    @Input() allComments: CommentPayload[];\n    @Input() inputMaxLength: number;\n    @Input() placeholderText: string;\n    @Input() currentUserId: string;\n    @Input() socketIo: boolean;\n\n    @Output() valueChange = new EventEmitter();\n    @Output() onKeyupEnter = new EventEmitter();\n    @Output() onKeyup = new EventEmitter();\n    @Output() emitReport = new EventEmitter();\n    @Output() emitDelete = new EventEmitter();\n    @Output() emitRefresh = new EventEmitter();\n\n    public typedCommentTextLength: number;\n    public commentText: string;\n\n\n\n\n    ngOnInit() { }\n\n    protected showImageOrDiv(comment){\n        return isUndefined(comment.userImagePath);\n    }\n\n    addComment(comment){\n        this.onKeyupEnter.emit(comment);\n        this.commentText = '';\n        this.typedCommentTextLength = 0;\n    }\n\n    onKeyUp(input){\n        this.onKeyup.emit(input);\n        this.typedCommentTextLength = input.length;\n    }\n\n    protected onDeleteButton(input){\n        this.emitDelete.emit(input);\n    }\n\n    onRefreshButton(){\n        this.emitRefresh.emit();\n    }\n\n    protected onReportButton(input){\n        this.emitReport.emit(input);\n    }\n\n  }","\n<div  style=\"height: auto; width: auto;\">\n  <gd-chatterbox *ngIf='heading != \"\"'\n      [heading]=heading\n      [headerImage]=headerImage\n      [allComments]=allComments\n      [inputMaxLength]=1000\n      [currentUserId]=currentUserId\n      [showErrorDiv]=showErrorDiv\n      [errorMsg]=errorMsg\n      [placeholderText]=placeholderText\n      (onKeyupEnter)=sendMessage($event)\n      (emitReport)=onReportComment($event)\n      (emitDelete)=onDeleteComment($event)\n      (emitRefresh)=getComments()\n      [socketIo] = socketIo\n  >\n  </gd-chatterbox>\n\n  <gd-chatterbox *ngIf='heading == \"\"'\n      heading=\"\"\n      [headerImage]=headerImage\n      [allComments]=allComments\n      [inputMaxLength]=0\n      [showErrorDiv]=showErrorDiv\n      [errorMsg]=errorMsg\n      placeholderText=\"please log in to comment\"\n  >\n  </gd-chatterbox>\n</div>\n\n\n\n","import { Component, OnInit, Input, ChangeDetectorRef, SimpleChanges } from '@angular/core';\nimport { CommentPayload } from '../services/types';\nimport { Router } from '@angular/router';\nimport { DataService } from '../services/data.service';\nimport { DialogService } from '../services/dialog.service';\nimport { SocketioService } from '../services/socketio.service';\nimport { SOCKETIO } from '../config';\nimport { logger } from '../globals';\n\n\n@Component({\n  selector: 'gd-comments',\n  templateUrl: './comments.component.html',\n  styleUrls: ['./comments.component.sass']\n})\nexport class CommentsComponent implements OnInit {\n  constructor(private data: DataService, private router: Router,  private dialog: DialogService, private changeDetectorRef: ChangeDetectorRef,\n      private socket: SocketioService ) { }\n\n  @Input() title: string;\n  @Input() userName: string;\n  @Input() heading = 'comments';\n  //headerImage  =  '../assets/logo.png';\n  showErrorDiv:  boolean;\n  errorMsg = 'This is an error';\n  inputMaxLength = 100;\n  placeholderText=  'Write a comment!';\n  @Input() currentUserId: string;\n  allComments:  Array<CommentPayload>;\n  socketIo = SOCKETIO;\n\n\n  ngOnInit() { \n    if (SOCKETIO) {\n      this.socket.newComment().subscribe((payload: any) => {\n        logger('add comment');\n        this.allComments.push(payload);\n        }, err => {\n          logger(err);\n      });\n\n      this.socket.deleteComment().subscribe((msgId: any) => {\n        const i = this.allComments.map(x => x.msgId).indexOf(msgId);\n        if (i > -1) {\n          this.allComments.splice(i, 1);\n          this.changeDetectorRef.detectChanges();\n        }\n      }, err => {\n        logger(err);\n      });\n    }\n  }\n\n  refresh() {\n    this.getComments();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    for (const propName in changes) {\n      if (changes.hasOwnProperty(propName)) {\n        switch (propName) {\n          case 'title': {\n            this.refresh();\n          }\n        }\n      }\n    }\n  }\n\n  async sendMessage(msgPayload:  string) {\n      // Constructing a desired object of type CommentPayload to be added to allComments\n      if (msgPayload){\n        //var msgId = Math.floor(1000000000000000 + Math.random() * 9000000000000000);\n        var msgId = this.makeid()\n        var timestamp = new Date;\n        const  payload  = {\n            msgId:  msgId,\n            msg:  msgPayload,\n            timestamp:  timestamp.getTime().toString(),\n            userName:  this.userName,\n            userId: this.currentUserId\n        };\n        try {\n          await this.addComment(payload);\n      } catch (e) {\n          console.error(e);\n      } \n      if (await this.checkComment(msgId)){\n        payload.timestamp = this.formatTime(timestamp);\n        this.allComments.push(payload);\n        //this.socket.postComment({ room: this.router.url, comment: msgPayload });\n        //this.socket.postComment(this.router.url);\n        if (SOCKETIO) this.socket.postAddComment({ room: this.router.url, payload: payload });\n      }\n    }\n  }\n      \n  onKeyUp(msgPayload:  string) {\n      //logger(msgPayload);  // doesn't work\n  }\n\n  async getComments(){\n    var res =  await this.data.getComments(this.router.url);\n    if (res != []){\n      res.sort(function(a, b) { return a.timestamp - b.timestamp });\n      for (var i in res) {\n        res[i].timestamp = this.formatTime(new Date(Number(res[i].timestamp)));\n      }\n      this.allComments = res;\n    } else {\n      this.allComments = [];\n    }\n    this.changeDetectorRef.detectChanges();\n  }\n\n  async addComment(p){\n    //let sp = this.socket.postComment('test');\n    await this.data.addComment(p, this.router.url, this.currentUserId, this.title);\n  }\n\n  async checkComment(msgId) {\n    //logger(msgId)\n    var b = Boolean(Number(await this.data.checkComment(msgId)));\n    //logger(b);\n    return b\n  }\n\n  formatTime(d) {\n    function z(n){return (n<10?'0':'')+n}\n    return z(d.getMonth()+1) + '-' + z(d.getDate()) + '-' + (d.getYear()+1900) + ' ' +  d.getHours() + ':' + z(d.getMinutes());\n  }\n\n  protected onReportComment(msg) {\n    this.dialog.openMultiFunction(\n      \"Are you sure you want to report this message?\",\n      [\"yes\", \"no\"],\n      [() => this.reportComment(msg), \n        () => null]\n    );\n  }\n\n  protected onDeleteComment(msgId) {\n    this.dialog.openMultiFunction(\n      \"Are you sure you want to delete this message?\",\n      [\"yes\", \"no\"],\n      [() => this.deleteComment(msgId), \n        () => null]\n    );\n  }\n\n  async reportComment(msg) {\n    var m = await this.data.sendCommentReport(msg, this.currentUserId);\n    if (m.startsWith('250')) {\n      var dm = 'Report sent';\n    } else {\n      var dm = 'Error sending report';\n    }\n    this.dialog.openSingleFunction( dm, [\"ok\"], () => null );\n  }\n\n  async deleteComment(msg) {\n    //logger(msg.msgId)\n    var d = await this.data.deleteComment(msg.msgId, this.currentUserId);\n    if (!(await this.checkComment(msg.msgId))){\n      logger('comment '+msg.msgId+' deleted');\n      //const i = this.allComments.indexOf(msg);\n      const i = this.allComments.map(x => x.msgId).indexOf(msg.msgId);\n      if (i > -1) {\n        this.allComments.splice(i, 1);\n        this.changeDetectorRef.detectChanges();\n        if (SOCKETIO) this.socket.postDeleteComment({ room: this.router.url, msgId: msg.msgId });\n      }\n    }\n  }\n\n  private makeid() {\n    var result           = '';\n    var characters       = 'abcdef0123456789';\n    var charactersLength = characters.length;\n    for ( var i = 0; i < 24; i++ ) {\n       result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n    return result;\n }\n   \n}\n","export const AUTH0DOMAIN = 'gdconcertexplorer.eu.auth0.com';\nexport const AUTH0CLIENTID = 'MgqjkApiGjSzMcFwjzUiyoNJK6z8iWEb';\nexport const EMAILADDRESS = 'gdconcertexplorer@gmail.com';\nexport const TRACKINGID = 'UA-165369751-1';\n//export const GOOGLETAGID = 'GTM-TT7TKCZ';\nexport const TRACKING = true;\n//export const API_URL = 'http://localhost:8060/';\n//export const API_URL = 'http://c4dm.eecs.qmul.ac.uk/dead/';\n//export const API_URL = 'http://25.86.166.144:8060/';\n//export const API_URL = 'https://grateful-dead-api.herokuapp.com/';\n//export const FRONTEND_URL = 'http://localhost:4200/';\nexport const FRONTEND_URL = 'https://grateful-dead-live.github.io/';\n//export const API_URL = 'https://cors-anywhere.herokuapp.com/http://82.5.176.6:8080/'\n//export const API_URL = 'https://cors-anywhere.herokuapp.com/http://138.37.95.164/api/'\n//export const API_URL = 'https://cors-anywhere.herokuapp.com/http://c4dm-xenserv-virt6.eecs.qmul.ac.uk/api/'\n//export const API_URL = 'https://c4dm.eecs.qmul.ac.uk/dead/'\n//export const API_URL = 'https://cors-anywhere.herokuapp.com/http://dead.ddnsfree.com:8080/'\n/*\nexport const API = 'researcher1.fnf.archive.org:8060/'\nexport const API_URL = 'http://' + API;\nexport const WSS_URL = 'ws://' + API;\n*/\nexport const API = 'dead.ddnsfree.com:8060/'\n//export const API = 'dead.ddnsfree.com/'\nexport const API_URL = 'https://' + API;\nexport const WSS_URL = 'wss://' + API;\n\nexport const DEBUG = false;\nexport const SOCKETIO = true;","<div *ngIf=\"showBanner\" class=\"banner\" id=\"cookiebanner\">\n  <p>\n    For continuous improvement of user experience this website uses  cookies for collecting your IP address and individual statistics.\n    See our <a routerLink=\"/dataprivacy\">data protection guideline</a> for further information and opt-out.\n    By clicking OK you agree to share your data. \n  </p>\n\n  <!--button (click)=\"agreeToShare()\">OK</button-->\n  <button onclick=\"gaOptIn()\">Agree</button>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { CookieService } from 'ngx-cookie-service'; // https://itnext.io/angular-8-how-to-use-cookies-14ab3f2e93fc\n\n@Component({\n  selector: 'app-cookie-banner',\n  templateUrl: './cookie-banner.component.html',\n  styleUrls: ['./cookie-banner.component.sass']\n})\nexport class CookieBannerComponent implements OnInit {\n\npublic constructor(private cookieService: CookieService) { //, @Inject('window')  private window) {\n}\n\npublic showBanner: Boolean;\n\npublic ngOnInit() {\n  const consent = this.cookieService.get('gd-cookieconsent')\n  if (consent == 'allow') {\n    this.showBanner = false;\n  } else {\n    this.showBanner = true;\n  }\n}\n\n  private setCookie(cname, cvalue, exdays) {\n    const d = new Date();\n    d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));\n    this.cookieService.set(cname, cvalue, d, '/');\n  }\n\n  public agreeToShare() {\n    this.setCookie('gd-cookieconsent', 'allow', 365);\n    //this.window.location.reload();\n  }\n\n}\n","\n<style>\n  [data-custom-class='body'],\n  [data-custom-class='body'] * {\n    background: transparent !important;\n  }\n\n  [data-custom-class='title'],\n  [data-custom-class='title'] * {\n    font-family: Arial !important;\n    font-size: 26px !important;\n    color: #000000 !important;\n  }\n\n  [data-custom-class='subtitle'],\n  [data-custom-class='subtitle'] * {\n    font-family: Arial !important;\n    color: #595959 !important;\n    font-size: 14px !important;\n  }\n\n  [data-custom-class='heading_1'],\n  [data-custom-class='heading_1'] * {\n    font-family: Arial !important;\n    font-size: 19px !important;\n    color: #000000 !important;\n  }\n\n  [data-custom-class='heading_2'],\n  [data-custom-class='heading_2'] * {\n    font-family: Arial !important;\n    font-size: 17px !important;\n    color: #000000 !important;\n  }\n\n  [data-custom-class='body_text'],\n  [data-custom-class='body_text'] * {\n    color: #595959 !important;\n    font-size: 14px !important;\n    font-family: Arial !important;\n  }\n\n  [data-custom-class='link'],\n  [data-custom-class='link'] * {\n    color: #3030F1 !important;\n    font-size: 14px !important;\n    font-family: Arial !important;\n    word-break: break-word !important;\n    text-decoration: underline;\n  }\n\n</style>\n\n<div>\n <gd-header title=\"Privacy Policy\" subtitle=\"\" userId='{{ currentUser.userId }}'>\n</gd-header>\n    <br>\n    <div style=\"margin-right: 75px; margin-left: 75px;\">\n    <div>\n        <button onclick=\"gaOptIn()\">Agree</button>\n    <button onclick=\"gaOptOut()\">Revoke</button>\n    </div>\n    <!--button (click)=\"agreeToShare()\">Agree</button-->\n    <!--button (click)=\"removeCookie()\">Revoke</button-->\n    <br>\n    \n    \n    <div data-custom-class=\"body\">\n        <div>\n          <strong><span style=\"font-size: 26px;\"><span data-custom-class=\"title\">PRIVACY\n          NOTICE</span></span></strong>\n        </div>\n    \n        <div>\n          <br />\n        </div>\n    \n        <div>\n          <span style=\"color: rgb(127, 127, 127);\"><strong><span style=\n          \"font-size: 15px;\"><span data-custom-class=\"subtitle\">Last updated <span class=\n          \"question\">September 23, 2020</span></span></span></strong></span>\n        </div>\n\n          <br />\n          <a href=\"http://c4dm.eecs.qmul.ac.uk\" target=\"_blank\"> <img src=\"https://sites.google.com/site/mathemusicalconversations/_/rsrc/1396930666900/about/c4dm_qml-logo.jpg\" style=\"width:20%\"></a>\n     \n    \n        <div>\n          <br />\n        </div>\n    \n        <div style=\"line-height: 1.5;\">\n          <span style=\"color: rgb(127, 127, 127);\"><span style=\n          \"color: rgb(89, 89, 89); font-size: 15px;\"><span data-custom-class=\n          \"body_text\">Thank you for choosing to be part of our community at <span class=\n          \"question\">Queen Mary University of London</span> (\"\n          <strong>Company</strong></span> <span data-custom-class=\"body_text\">\",\n          \"<strong>we</strong>\", \"<strong>us</strong>\", \"<strong>our</strong>\"). We are\n          committed to protecting your personal information and your right to privacy. If you\n          have any questions or concerns about this privacy notice, or our practices with\n          regards to your personal information, please contact us at <span class=\n          \"question\">gdconcertexplorer@gmail.com</span> .</span></span></span>\n        </div>\n    \n        <div style=\"line-height: 1.5;\">\n          <span style=\"font-size: 15px;\"><br /></span>\n        </div>\n    \n        <div style=\"line-height: 1.5;\">\n          <span style=\"font-size: 15px;\"><span style=\n          \"color: rgb(127, 127, 127);\"><span data-custom-class=\"body_text\">When you visit our\n          website <span class=\"question\"><a href=\"https://grateful-dead-live.github.io\"\n          target=\"_blank\" data-custom-class=\n          \"link\">https://grateful-dead-live.github.io</a></span> (the\n          \"<strong>Website</strong>\"), <span style=\n          \"color: rgb(89, 89, 89);\"><span data-custom-class=\"body_text\"> </span></span> use\n          our mobile application, <span style=\n          \"color: rgb(89, 89, 89);\"><span data-custom-class=\"body_text\"> </span></span> as\n          the case may be (the \"<strong>App</strong>\") and more generally, use any of our\n          services (the \"<strong>Services</strong>\", which include the&nbsp;</span>\n          <span style=\"color: rgb(89, 89, 89);\"><span data-custom-class=\n          \"body_text\"><span style=\"color: rgb(89, 89, 89);\"><span data-custom-class=\n          \"body_text\">Website and </span></span></span> <span data-custom-class=\n          \"body_text\"><span style=\"color: rgb(89, 89, 89);\"><span data-custom-class=\n          \"body_text\">App</span></span></span></span> <span data-custom-class=\"body_text\">),\n          we appreciate that you are trusting us with your personal information. We take your\n          privacy very seriously. In this privacy notice, we seek to explain to you in the\n          clearest way possible what information we collect, how we use it and what rights\n          you have in relation to it. We hope you take some time to read through it\n          carefully, as it is important. If there are any terms in this privacy notice that\n          you do not agree with, please discontinue use of our Services\n          immediately.</span></span></span>\n        </div>\n    \n        <div style=\"line-height: 1.5;\">\n          <span style=\"font-size: 15px;\"><br /></span>\n        </div>\n    \n        <div style=\"line-height: 1.5;\">\n          <span style=\"font-size: 15px;\"><span style=\n          \"color: rgb(127, 127, 127);\"><span style=\"color: rgb(89, 89, 89);\"><span data-custom-class=\"body_text\">\n          This privacy notice applies to all information collected through our Services\n          (which, as described above, includes our&nbsp;</span> <span style=\n          \"color: rgb(89, 89, 89);\"><span data-custom-class=\"body_text\">Website and</span>\n          <span data-custom-class=\"body_text\">App </span></span> <span data-custom-class=\n          \"body_text\">), as well as, any related services, sales, marketing or\n          events.</span></span></span></span>\n        </div>\n    \n        <div style=\"line-height: 1.5;\">\n          <span style=\"font-size: 15px;\"><br /></span>\n        </div>\n    \n        <div style=\"line-height: 1.5;\">\n          <span style=\"font-size: 15px;\"><span style=\n          \"color: rgb(127, 127, 127);\"><span style=\"color: rgb(89, 89, 89);\"><span data-custom-class=\"body_text\">\n          <strong>Please read this privacy notice carefully as it will help you understand\n          what we do with the information that we\n          collect.</strong></span></span></span></span>\n        </div>\n    \n        <div style=\"line-height: 1.5;\">\n          <span style=\"font-size: 15px;\"><br /></span>\n        </div>\n    \n        <div style=\"line-height: 1.5;\">\n          <span style=\"font-size: 15px;\"><span style=\n          \"color: rgb(127, 127, 127);\"><span style=\"color: rgb(0, 0, 0);\"><strong><span data-custom-class=\"heading_1\">\n          TABLE OF CONTENTS</span></strong></span></span></span>\n        </div>\n    \n        <div style=\"line-height: 1.5;\">\n          <span style=\"font-size: 15px;\"><br /></span>\n        </div>\n    \n        <div style=\"line-height: 1.5;\">\n          <span style=\"font-size: 15px;\"><a data-custom-class=\"link\" routerLink=\".\" fragment=\"infocollect\"><span style=\"color: rgb(89, 89, 89);\">1. WHAT INFORMATION DO WE\n          COLLECT?</span></a> </span>\n        </div>\n    \n        <div style=\"line-height: 1.5;\">\n          <span style=\"font-size: 15px;\"><span style=\n          \"color: rgb(89, 89, 89);\"><a data-custom-class=\"link\" routerLink=\".\" fragment=\"infoshare\">2. WILL\n          YOUR INFORMATION BE SHARED WITH ANYONE?</a></span> <span style=\n          \"color: rgb(127, 127, 127);\"><span style=\n          \"color: rgb(89, 89, 89);\"><span data-custom-class=\"body_text\">\n          </span></span></span></span>\n        </div>\n    \n        <div style=\"line-height: 1.5;\">\n          <span style=\"font-size: 15px;\"><a data-custom-class=\"link\" routerLink=\".\" fragment=\"cookies\"><span style=\"color: rgb(89, 89, 89);\">3. DO WE USE COOKIES AND OTHER\n          TRACKING TECHNOLOGIES?</span></a> <span style=\n          \"color: rgb(127, 127, 127);\"><span style=\n          \"color: rgb(89, 89, 89);\"><span data-custom-class=\"body_text\"><span style=\n          \"color: rgb(89, 89, 89);\"> <span style=\"color: rgb(89, 89, 89);\"> </span></span>\n          </span></span></span></span>\n        </div>\n    \n        <div style=\"line-height: 1.5;\">\n          <span style=\"font-size: 15px;\"><a data-custom-class=\"link\" routerLink=\".\" fragment=\"intltransfers\"><span style=\"color: rgb(89, 89, 89);\">4. IS YOUR INFORMATION\n          TRANSFERRED INTERNATIONALLY?</span></a> <span style=\n          \"color: rgb(127, 127, 127);\"><span style=\n          \"color: rgb(89, 89, 89);\"><span data-custom-class=\"body_text\"><span style=\n          \"color: rgb(89, 89, 89);\"> </span></span></span></span></span>\n        </div>\n    \n        <div style=\"line-height: 1.5;\">\n          <span style=\"font-size: 15px;\"><a data-custom-class=\"link\" routerLink=\".\" fragment=\"inforetain\"><span style=\"color: rgb(89, 89, 89);\">5. HOW LONG DO WE KEEP YOUR\n          INFORMATION?</span></a> </span>\n        </div>\n    \n        <div style=\"line-height: 1.5;\">\n          <span style=\"font-size: 15px;\"><a data-custom-class=\"link\" routerLink=\".\" fragment=\"infosafe\"><span style=\"color: rgb(89, 89, 89);\">6. HOW DO WE KEEP YOUR\n          INFORMATION SAFE?</span></a> <span style=\"color: rgb(127, 127, 127);\"><span style=\n          \"color: rgb(89, 89, 89);\"><span data-custom-class=\"body_text\"><span style=\n          \"color: rgb(89, 89, 89);\"> </span></span></span></span></span>\n        </div>\n    \n        <div style=\"line-height: 1.5;\">\n          <span style=\"font-size: 15px;\"><a data-custom-class=\"link\" routerLink=\".\" fragment=\"infominors\"><span style=\"color: rgb(89, 89, 89);\">7. DO WE COLLECT INFORMATION\n          FROM MINORS?</span></a> </span>\n        </div>\n    \n        <div style=\"line-height: 1.5;\">\n          <span style=\"font-size: 15px;\"><span style=\n          \"color: rgb(89, 89, 89);\"><a data-custom-class=\"link\" routerLink=\".\" fragment=\"privacyrights\">8. WHAT\n          ARE YOUR PRIVACY RIGHTS?</a></span></span>\n        </div>\n    \n        <div style=\"line-height: 1.5;\">\n          <span style=\"font-size: 15px;\"><a data-custom-class=\"link\" routerLink=\".\" fragment=\"DNT\"><span style=\n          \"color: rgb(89, 89, 89);\">9. CONTROLS FOR DO-NOT-TRACK FEATURES</span></a></span>\n        </div>\n    \n        <div style=\"line-height: 1.5;\">\n          <span style=\"font-size: 15px;\"><a data-custom-class=\"link\" routerLink=\".\" fragment=\"caresidents\"><span style=\"color: rgb(89, 89, 89);\">10. DO CALIFORNIA RESIDENTS\n          HAVE SPECIFIC PRIVACY RIGHTS?</span></a></span>\n        </div>\n    \n        <div style=\"line-height: 1.5;\">\n          <span style=\"font-size: 15px;\"><a data-custom-class=\"link\" routerLink=\".\" fragment=\"policyupdates\"><span style=\"color: rgb(89, 89, 89);\">11. DO WE MAKE UPDATES TO\n          THIS NOTICE?</span></a></span>\n        </div>\n    \n        <div style=\"line-height: 1.5;\">\n          <a data-custom-class=\"link\" routerLink=\".\" fragment=\"contact\"><span style=\n          \"color: rgb(89, 89, 89); font-size: 15px;\">12. HOW CAN YOU CONTACT US ABOUT THIS\n          NOTICE?</span></a>\n        </div>\n    \n        <div style=\"line-height: 1.5;\">\n          <a data-custom-class=\"link\" routerLink=\".\" fragment=\"request\"><span style=\n          \"color: rgb(89, 89, 89);\">13. HOW CAN YOU REVIEW, UPDATE OR DELETE THE DATA WE\n          COLLECT FROM YOU?</span></a>\n        </div>\n    \n        <div style=\"line-height: 1.5;\">\n          <br />\n        </div>\n    \n        <div id=\"infocollect\" style=\"line-height: 1.5;\">\n          <span style=\"color: rgb(127, 127, 127);\"><span style=\n          \"color: rgb(89, 89, 89); font-size: 15px;\"><span style=\n          \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\n          \"font-size: 15px; color: rgb(89, 89, 89);\"><span id=\"control\" style=\n          \"color: rgb(0, 0, 0);\"><strong><span data-custom-class=\"heading_1\">1. WHAT\n          INFORMATION DO WE COLLECT?</span></strong> </span></span></span></span></span>\n        </div>\n    \n        <div style=\"line-height: 1.5;\">\n          <span data-custom-class=\"heading_2\" style=\"color: rgb(0, 0, 0);\"><span style=\n          \"font-size: 15px;\"><strong><u><br /></u></strong><strong>Information automatically\n          collected</strong></span></span>\n        </div>\n    \n        <div>\n          <div>\n            <br />\n          </div>\n    \n          <div style=\"line-height: 1.5;\">\n            <span style=\"color: rgb(127, 127, 127);\"><span style=\n            \"color: rgb(89, 89, 89); font-size: 15px;\"><span data-custom-class=\n            \"body_text\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\n            \"font-size: 15px; color: rgb(89, 89, 89);\"><span data-custom-class=\n            \"body_text\"><strong><em>In\n            Short:&nbsp;</em></strong></span></span></span></span><span data-custom-class=\n            \"body_text\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\n            \"font-size: 15px; color: rgb(89, 89, 89);\"><span data-custom-class=\n            \"body_text\"><strong><em>&nbsp;</em></strong><em>Some information &mdash; such as\n            your Internet Protocol (IP) address and/or browser and device characteristics\n            &mdash; is collected automatically when you visit our <span data-custom-class=\n            \"body_text\"><em><span data-custom-class=\"body_text\"><span style=\n            \"font-size: 15px;\"><span data-custom-class=\"body_text\"> Services\n            </span></span></span></em></span>\n            .</em></span></span></span></span></span></span>\n          </div>\n        </div>\n    \n        <div style=\"line-height: 1.5;\">\n          <br />\n        </div>\n    \n        <div style=\"line-height: 1.5;\">\n          <span style=\"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\n          \"font-size: 15px; color: rgb(89, 89, 89);\"><span data-custom-class=\"body_text\">We\n          automatically collect certain information when you visit, use or navigate the\n          <span style=\"font-size: 15px;\"><span data-custom-class=\"body_text\"> Services\n          </span></span> . This information does not reveal your specific identity (like your\n          name or contact information) but may include device and usage information, such as\n          your IP address, browser and device characteristics, operating system, language\n          preferences, referring URLs, device name, country, location, information about how\n          and when you use our <span style=\"font-size: 15px;\"><span data-custom-class=\n          \"body_text\"> Services </span></span> and other technical information. This\n          information is primarily needed to maintain the security and operation of our\n          <span style=\"font-size: 15px;\"><span data-custom-class=\"body_text\"> Services\n          </span></span> , and for our internal analytics and reporting\n          purposes.</span></span></span>\n        </div>\n    \n        <div style=\"line-height: 1.5;\">\n          <br />\n        </div>\n    \n        <div style=\"line-height: 1.5;\">\n          <span style=\"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\n          \"font-size: 15px; color: rgb(89, 89, 89);\"><span data-custom-class=\"body_text\">Like\n          many businesses, we also collect information through cookies and similar\n          technologies. </span></span></span>\n        </div>\n    \n        <div style=\"line-height: 1.5;\">\n          <br />\n        </div>\n    \n        <div style=\"line-height: 1.5;\">\n          <span style=\"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\n          \"font-size: 15px; color: rgb(89, 89, 89);\"><span data-custom-class=\"body_text\">The\n          information we collect includes:</span></span></span>\n        </div>\n    \n        <ul>\n          <li style=\"line-height: 1.5;\"><span style=\n          \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\n          \"font-size: 15px; color: rgb(89, 89, 89);\"><span data-custom-class=\n          \"body_text\"><em>Log and Usage Data.</em> Log and usage data is service-related,\n          diagnostic, usage and performance information our servers automatically collect\n          when you access or use our <span style=\"font-size: 15px;\"><span style=\n          \"color: rgb(89, 89, 89);\"><span data-custom-class=\"body_text\"><span style=\n          \"font-size: 15px;\"><span data-custom-class=\"body_text\"> Services\n          </span></span></span></span></span> and which we record in log files. Depending on\n          how you interact with us, this log data may include your IP address, device\n          information, browser type and settings and information about your activity in the\n          <span style=\"font-size: 15px;\"><span style=\n          \"color: rgb(89, 89, 89);\"><span data-custom-class=\"body_text\"><span style=\n          \"font-size: 15px;\"><span data-custom-class=\"body_text\"> Services\n          </span></span></span></span> &nbsp;</span>(such as the date/time stamps associated\n          with your usage, pages and files viewed, searches and other actions you take such\n          as which features you use), device event information (such as system activity,\n          error reports (sometimes called 'crash dumps') and hardware settings).\n          </span></span></span></li>\n        </ul>\n    \n        <ul>\n          <li style=\"line-height: 1.5;\"><span style=\n          \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\n          \"font-size: 15px; color: rgb(89, 89, 89);\"><span data-custom-class=\n          \"body_text\"><em>Device Data.</em> We collect device data such as information about\n          your computer, phone, tablet or other device you use to access the <span style=\n          \"font-size: 15px;\"><span data-custom-class=\"body_text\"> Services </span></span> .\n          Depending on the device used, this device data may include information such as your\n          IP address (or proxy server), device and application identification numbers,\n          location, browser type, hardware model Internet service provider and/or mobile\n          carrier, operating system and system configuration information.\n          </span></span></span></li>\n        </ul>\n    \n        <ul>\n          <li style=\"line-height: 1.5;\"><span style=\n          \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\n          \"font-size: 15px; color: rgb(89, 89, 89);\"><span data-custom-class=\n          \"body_text\"><em>Location Data.</em> We collect location data such as information\n          about your device's location, which can be either precise or imprecise. How much\n          information we collect depends on the type and settings of the device you use to\n          access the <span style=\"font-size: 15px;\"><span style=\n          \"color: rgb(89, 89, 89);\"><span data-custom-class=\"body_text\"><span style=\n          \"font-size: 15px;\"><span data-custom-class=\"body_text\"> Services\n          </span></span></span></span></span> . For example, we may use GPS and other\n          technologies to collect geolocation data that tells us your current location (based\n          on your IP address). You can opt out of allowing us to collect this information\n          either by refusing access to the information or by disabling your Location setting\n          on your device. Note however, if you choose to opt out, you may not be able to use\n          certain aspects of the Services. </span></span></span></li>\n        </ul>\n    \n        <div></div>\n    \n        <div style=\"line-height: 1.5;\">\n          <span data-custom-class=\"heading_2\" style=\"color: rgb(0, 0, 0);\"><span style=\n          \"font-size: 15px;\"><strong><u><br /></u></strong><strong>Information collected\n          through our App</strong></span></span>\n        </div>\n    \n        <div>\n          <div>\n            <br />\n          </div>\n    \n          <div style=\"line-height: 1.5;\">\n            <span style=\"color: rgb(127, 127, 127);\"><span style=\n            \"color: rgb(89, 89, 89); font-size: 15px;\"><span data-custom-class=\n            \"body_text\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\n            \"font-size: 15px; color: rgb(89, 89, 89);\"><span data-custom-class=\n            \"body_text\"><strong><em>In\n            Short:&nbsp;</em></strong></span></span></span></span><span data-custom-class=\n            \"body_text\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\n            \"font-size: 15px; color: rgb(89, 89, 89);\"><span data-custom-class=\n            \"body_text\"><strong><em>&nbsp;</em></strong><em>We collect information regarding\n            your <span data-custom-class=\"body_text\" style=\"font-size: 15px;\"> geo-location,\n            mobile device,</span> when you use our\n            App.</em></span></span></span></span></span></span>\n          </div>\n        </div>\n    \n        <div style=\"line-height: 1.5;\">\n          <br />\n        </div>\n    \n        <div style=\"line-height: 1.5;\">\n          <span style=\"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\n          \"font-size: 15px; color: rgb(89, 89, 89);\"><span data-custom-class=\"body_text\">If\n          you use our App, we also collect the following information:</span></span></span>\n        </div>\n    \n        <ul>\n          <li style=\"line-height: 1.5;\"><span style=\n          \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\n          \"font-size: 15px; color: rgb(89, 89, 89);\"><span data-custom-class=\n          \"body_text\"><em>Geo-Location Information.</em> We may request access or permission\n          to and track location-based information from your mobile device, either\n          continuously or while you are using our App, to provide certain location-based\n          services. If you wish to change our access or permissions, you may do so in your\n          device's settings. </span></span></span></li>\n        </ul>\n    \n        <div>\n          <ul>\n            <li style=\"line-height: 1.5;\"><span style=\n            \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\n            \"font-size: 15px; color: rgb(89, 89, 89);\"><span data-custom-class=\n            \"body_text\"><em>Mobile Device Data.&nbsp;</em>We automatically collect device\n            information (such as your mobile device ID, model and manufacturer), operating\n            system, version information and system configuration information, device and\n            application identification numbers, browser type and version, hardware model\n            Internet service provider and/or mobile carrier, and Internet Protocol (IP)\n            address (or proxy server). If you are using our App, we may also collect\n            information about the phone network associated with your mobile device, your\n            mobile device&rsquo;s operating system or platform, the type of mobile device you\n            use, your mobile device&rsquo;s unique device ID and information about the\n            features of our App you accessed. </span></span></span></li>\n          </ul>\n    \n          <div>\n            <div>\n              <span class=\"block-component\"></span>\n    \n              <div style=\"line-height: 1.5;\">\n                <span style=\"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\n                \"font-size: 15px; color: rgb(89, 89, 89);\"><span data-custom-class=\n                \"body_text\">This information is primarily needed to maintain the security and\n                operation of our App, for troubleshooting and for our internal analytics and\n                reporting purposes. </span></span></span>\n              </div>\n    \n              <div style=\"line-height: 1.5;\">\n                <br />\n              </div>\n    \n              <div id=\"infouse\" style=\"line-height: 1.5;\">\n                <span style=\"color: rgb(127, 127, 127);\"><span style=\n                \"color: rgb(89, 89, 89); font-size: 15px;\"><span style=\n                \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\n                \"font-size: 15px; color: rgb(89, 89, 89);\"><span id=\"control\" style=\n                \"color: rgb(0, 0, 0);\"><strong><span data-custom-class=\"heading_1\">2. HOW DO\n                WE USE YOUR INFORMATION?</span></strong></span></span></span></span></span>\n              </div>\n    \n              <div>\n                <div style=\"line-height: 1.5;\">\n                  <br />\n                </div>\n    \n                <div style=\"line-height: 1.5;\">\n                  <span style=\"color: rgb(127, 127, 127);\"><span style=\n                  \"color: rgb(89, 89, 89); font-size: 15px;\"><span data-custom-class=\n                  \"body_text\"><span style=\n                  \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\n                  \"font-size: 15px; color: rgb(89, 89, 89);\"><span data-custom-class=\n                  \"body_text\"><strong><em>In Short: &nbsp;</em></strong><em>We process your\n                  information for purposes based on legitimate business interests, the\n                  fulfillment of our contract with you, compliance with our legal\n                  obligations, and/or your\n                  consent.</em></span></span></span></span></span></span>\n                </div>\n              </div>\n    \n              <div style=\"line-height: 1.5;\">\n                <br />\n              </div>\n    \n              <div style=\"line-height: 1.5;\">\n                <span style=\"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\n                \"font-size: 15px; color: rgb(89, 89, 89);\"><span data-custom-class=\n                \"body_text\">We use personal information collected via our <span style=\n                \"font-size: 15px;\"><span data-custom-class=\"body_text\"> Services\n                </span></span> for a variety of business purposes described below. We process\n                your personal information for these purposes in reliance on our legitimate\n                business interests, in order to enter into or perform a contract with you,\n                with your consent, and/or for compliance with our legal obligations. We\n                indicate the specific processing grounds we rely on next to each purpose\n                listed below.</span></span></span>\n              </div>\n    \n              <div style=\"line-height: 1.5;\">\n                <br />\n              </div>\n    \n              <div style=\"line-height: 1.5;\">\n                <span style=\"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\n                \"font-size: 15px; color: rgb(89, 89, 89);\"><span data-custom-class=\n                \"body_text\">We use the information we collect or\n                receive:</span></span></span>\n    \n                <div>\n                  <div>\n                    <div>\n                      <div>\n                        <div>\n                          <div>\n                            <div>\n                              <div>\n                                <p style=\"font-size: 15px;\"></p>\n    \n                                <p style=\"font-size: 15px;\"></p>\n    \n                                <p style=\"font-size: 15px;\"></p>\n    \n                                <p style=\"font-size: 15px;\"></p>\n    \n                                <div>\n                                  <div>\n                                    <div>\n                                      <div>\n                                        <span style=\"font-size: 15px;\"></span>\n                                      </div>\n    \n                                      <ul>\n                                        <li style=\"line-height: 1.5;\"><span style=\n                                        \"font-size: 15px;\"><span class=\n                                        \"question\"><span data-custom-class=\n                                        \"body_text\">Research</span></span></span></li>\n                                      </ul>\n    \n                                      <div>\n                                        <span style=\"font-size: 15px;\"></span>\n                                      </div>\n    \n                                      <div style=\"line-height: 1.5;\">\n                                        <br />\n                                      </div>\n    \n                                      <div id=\"infoshare\" style=\"line-height: 1.5;\">\n                                        <span style=\"color: rgb(127, 127, 127);\"><span style=\n                                        \"color: rgb(89, 89, 89); font-size: 15px;\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                        <span style=\n                                        \"font-size: 15px; color: rgb(89, 89, 89);\"><span id=\n                                        \"control\" style=\n                                        \"color: rgb(0, 0, 0);\"><strong><span data-custom-class=\"heading_1\">\n                                        3. WILL YOUR INFORMATION BE SHARED WITH\n                                        ANYONE?</span></strong></span></span></span></span></span>\n                                      </div>\n    \n                                      <div style=\"line-height: 1.5;\">\n                                        <br />\n                                      </div>\n    \n                                      <div style=\"line-height: 1.5;\">\n                                        <span style=\n                                        \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                        <span data-custom-class=\"body_text\"><strong><em>In\n                                        Short:</em></strong><em>&nbsp; We only share\n                                        information with your consent, to comply with laws,\n                                        to provide you with services, to protect your rights,\n                                        or to fulfill business\n                                        obligations.</em></span></span></span>\n                                      </div>\n    \n                                      <div style=\"line-height: 1.5;\">\n                                        <br />\n                                      </div>\n    \n                                      <div style=\"line-height: 1.5;\">\n                                        <span style=\n                                        \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                        <span data-custom-class=\"body_text\">We may process or\n                                        share your data that we hold based on the following\n                                        legal basis: </span></span></span>\n                                      </div>\n    \n                                      <ul>\n                                        <li style=\"line-height: 1.5;\"><span style=\n                                        \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                        <span data-custom-class=\n                                        \"body_text\"><strong>Consent:</strong> We may process\n                                        your data if you have given us specific consent to\n                                        use your personal information for a specific purpose.\n                                        </span></span></span></li>\n                                      </ul>\n    \n                                      <ul>\n                                        <li style=\"line-height: 1.5;\"><span style=\n                                        \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                        <span data-custom-class=\n                                        \"body_text\"><strong>Legitimate Interests:</strong> We\n                                        may process your data when it is reasonably necessary\n                                        to achieve our legitimate business interests.\n                                        </span></span></span></li>\n                                      </ul>\n    \n                                      <ul>\n                                        <li style=\"line-height: 1.5;\"><span style=\n                                        \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                        <span data-custom-class=\n                                        \"body_text\"><strong>Performance of a\n                                        Contract:</strong> Where we have entered into a\n                                        contract with you, we may process your personal\n                                        information to fulfill the terms of our contract.\n                                        </span></span></span></li>\n                                      </ul>\n    \n                                      <ul>\n                                        <li style=\"line-height: 1.5;\"><span style=\n                                        \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                        <span data-custom-class=\"body_text\"><strong>Legal\n                                        Obligations:</strong> We may disclose your\n                                        information where we are legally required to do so in\n                                        order to comply with applicable law, governmental\n                                        requests, a judicial proceeding, court order, or\n                                        legal process, such as in response to a court order\n                                        or a subpoena (including in response to public\n                                        authorities to meet national security or law\n                                        enforcement requirements). </span></span></span></li>\n                                      </ul>\n    \n                                      <ul>\n                                        <li style=\"line-height: 1.5;\"><span style=\n                                        \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                        <span data-custom-class=\"body_text\"><strong>Vital\n                                        Interests:</strong> We may disclose your information\n                                        where we believe it is necessary to investigate,\n                                        prevent, or take action regarding potential\n                                        violations of our policies, suspected fraud,\n                                        situations involving potential threats to the safety\n                                        of any person and illegal activities, or as evidence\n                                        in litigation in which we are involved.\n                                        </span></span></span></li>\n                                      </ul>\n    \n                                      <div style=\"line-height: 1.5;\">\n                                        <span style=\n                                        \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                        <span data-custom-class=\"body_text\">More\n                                        specifically, we may need to process your data or\n                                        share your personal information in the following\n                                        situations:</span></span></span>\n                                      </div>\n    \n                                      <ul>\n                                        <li style=\"line-height: 1.5;\"><span style=\n                                        \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                        <span data-custom-class=\"body_text\"><strong>Business\n                                        Transfers.</strong> We may share or transfer your\n                                        information in connection with, or during\n                                        negotiations of, any merger, sale of company assets,\n                                        financing, or acquisition of all or a portion of our\n                                        business to another\n                                        company.</span></span></span></li>\n                                      </ul>\n    \n                                      <div>\n                                        <div>\n                                          <ul>\n                                            <li style=\"line-height: 1.5;\"><span style=\n                                            \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                            <span data-custom-class=\n                                            \"body_text\"><strong>Affiliates.</strong> We may\n                                            share your information with our affiliates, in\n                                            which case we will require those affiliates to\n                                            honor this privacy notice. Affiliates include our\n                                            parent company and any subsidiaries, joint\n                                            venture partners or other companies that we\n                                            control or that are under common control with us.\n                                            </span></span></span></li>\n                                          </ul>\n    \n                                          <!--ul>\n                                            <li style=\"line-height: 1.5;\"><span style=\n                                            \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                            <span data-custom-class=\n                                            \"body_text\"><strong>Business\n                                            Partners.&nbsp;</strong>We may share your\n                                            information with our business partners to offer\n                                            you certain products, services or\n                                            promotions.</span></span></span></li>\n                                          </ul-->\n    \n                                          <div>\n                                            <div>\n                                              <span style=\"font-size: 15px;\"><span style=\n                                              \"color: rgb(89, 89, 89);\"><span style=\n                                              \"font-size: 15px;\"> </span></span></span>\n    \n                                              <div style=\"line-height: 1.5;\"></div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <br />\n                                              </div>\n    \n                                              <div id=\"cookies\" style=\"line-height: 1.5;\">\n                                                <span style=\n                                                \"color: rgb(127, 127, 127);\"><span style=\n                                                \"color: rgb(89, 89, 89); font-size: 15px;\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                                <span style=\n                                                \"font-size: 15px; color: rgb(89, 89, 89);\"><span id=\"control\"\n                                                style=\n                                                \"color: rgb(0, 0, 0);\"><strong><span data-custom-class=\"heading_1\">\n                                                4. DO WE USE COOKIES AND OTHER TRACKING\n                                                TECHNOLOGIES?</span></strong></span></span></span></span></span>\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <br />\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <span style=\n                                                \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                                <span data-custom-class=\n                                                \"body_text\"><strong><em>In\n                                                Short:&nbsp;</em></strong><em>&nbsp;We may\n                                                use cookies and other tracking technologies\n                                                to collect and store your\n                                                information.</em></span></span></span>\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <br />\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <span style=\n                                                \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                                <span data-custom-class=\"body_text\">We may\n                                                use cookies and similar tracking technologies\n                                                (like web beacons and pixels) to access or\n                                                store information. Specific information about\n                                                how we use such technologies and how you can\n                                                refuse certain cookies is set out in our\n                                                Cookie Notice <span style=\n                                                \"color: rgb(89, 89, 89); font-size: 15px;\"><span data-custom-class=\"body_text\">\n                                                .</span> <span style=\n                                                \"color: rgb(89, 89, 89); font-size: 15px;\"><span style=\"font-size: 15px;\">\n                                                <span style=\n                                                \"color: rgb(89, 89, 89);\"><span style=\n                                                \"font-size: 15px;\"><span style=\n                                                \"color: rgb(89, 89, 89);\">\n                                                <span data-custom-class=\"body_text\"></span>\n                                                </span></span></span></span></span></span></span></span></span>\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <br />\n                                              </div>\n    \n                                              <div id=\"intltransfers\" style=\n                                              \"line-height: 1.5;\">\n                                                <span style=\n                                                \"color: rgb(127, 127, 127);\"><span style=\n                                                \"color: rgb(89, 89, 89); font-size: 15px;\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                                <span style=\n                                                \"font-size: 15px; color: rgb(89, 89, 89);\"><span id=\"control\"\n                                                style=\n                                                \"color: rgb(0, 0, 0);\"><strong><span data-custom-class=\"heading_1\">\n                                                5. IS YOUR INFORMATION TRANSFERRED\n                                                INTERNATIONALLY?</span></strong>&nbsp;</span>&nbsp;</span>&nbsp;</span>&nbsp;</span>&nbsp;</span>\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <br />\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <span style=\n                                                \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                                <span data-custom-class=\n                                                \"body_text\"><strong><em>In Short:\n                                                &nbsp;</em></strong><em>We may transfer,\n                                                store, and process your information in\n                                                countries other than your\n                                                own.</em></span></span></span>\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <br />\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <span style=\n                                                \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                                <span data-custom-class=\"body_text\">Our\n                                                servers are located in . If you are accessing\n                                                our <span style=\n                                                \"font-size: 15px;\"><span style=\n                                                \"color: rgb(89, 89, 89);\"><span data-custom-class=\"body_text\">\n                                                <span style=\n                                                \"color: rgb(89, 89, 89); font-size: 15px;\"><span data-custom-class=\"body_text\">\n                                                <span style=\"font-size: 15px;\"><span style=\n                                                \"color: rgb(89, 89, 89);\"><span data-custom-class=\"body_text\">\n                                                <span style=\"font-size: 15px;\"><span style=\n                                                \"color: rgb(89, 89, 89);\"><span data-custom-class=\"body_text\">\n                                                 Services\n                                                </span></span></span></span></span></span></span></span></span></span></span>\n                                                from outside , please be aware that your\n                                                information may be transferred to, stored,\n                                                and processed by us in our facilities and by\n                                                those third parties with whom we may share\n                                                your personal information (see\n                                                \"<a data-custom-class=\"link\" routerLink=\".\" fragment=\"#infoshare\"><span style=\n                                                \"font-size: 15px;\"><span style=\n                                                \"color: rgb(89, 89, 89);\">WILL YOUR\n                                                INFORMATION BE SHARED WITH\n                                                ANYONE?</span></span></a>\" above), in and\n                                                other countries.</span></span></span>\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <br />\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <span style=\n                                                \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                                <span data-custom-class=\"body_text\">If you\n                                                are a resident in the European Economic Area,\n                                                then these countries may not necessarily have\n                                                data protection laws or other similar laws as\n                                                comprehensive as those in your country. We\n                                                will however take all necessary measures to\n                                                protect your personal information in\n                                                accordance with this privacy notice and\n                                                applicable law. </span></span></span>\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <br />\n                                              </div>\n    \n                                              <div id=\"inforetain\" style=\"line-height: 1.5;\">\n                                                <span style=\n                                                \"color: rgb(127, 127, 127);\"><span style=\n                                                \"color: rgb(89, 89, 89); font-size: 15px;\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                                <span style=\n                                                \"font-size: 15px; color: rgb(89, 89, 89);\"><span id=\"control\"\n                                                style=\n                                                \"color: rgb(0, 0, 0);\"><strong><span data-custom-class=\"heading_1\">\n                                                6. HOW LONG DO WE KEEP YOUR\n                                                INFORMATION?</span></strong></span></span></span></span></span>\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <br />\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <span style=\n                                                \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                                <span data-custom-class=\n                                                \"body_text\"><strong><em>In\n                                                Short:&nbsp;</em></strong><em>&nbsp;We keep\n                                                your information for as long as necessary to\n                                                fulfill the purposes outlined in this privacy\n                                                notice unless otherwise required by\n                                                law.</em></span></span></span>\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <br />\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <span style=\n                                                \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                                <span data-custom-class=\"body_text\">We will\n                                                only keep your personal information for as\n                                                long as it is necessary for the purposes set\n                                                out in this privacy notice, unless a longer\n                                                retention period is required or permitted by\n                                                law (such as tax, accounting or other legal\n                                                requirements). No purpose in this notice will\n                                                require us keeping your personal information\n                                                for longer than <span class=\"question\">six\n                                                (6)</span> months past the termination of the\n                                                user's account .</span></span></span>\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <br />\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <span style=\n                                                \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                                <span data-custom-class=\"body_text\">When we\n                                                have no ongoing legitimate business need to\n                                                process your personal information, we will\n                                                either delete or anonymize such information,\n                                                or, if this is not possible (for example,\n                                                because your personal information has been\n                                                stored in backup archives), then we will\n                                                securely store your personal information and\n                                                isolate it from any further processing until\n                                                deletion is possible. </span></span></span>\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <br />\n                                              </div>\n    \n                                              <div id=\"infosafe\" style=\"line-height: 1.5;\">\n                                                <span style=\n                                                \"color: rgb(127, 127, 127);\"><span style=\n                                                \"color: rgb(89, 89, 89); font-size: 15px;\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                                <span style=\n                                                \"font-size: 15px; color: rgb(89, 89, 89);\"><span id=\"control\"\n                                                style=\n                                                \"color: rgb(0, 0, 0);\"><strong><span data-custom-class=\"heading_1\">\n                                                7. HOW DO WE KEEP YOUR INFORMATION\n                                                SAFE?</span></strong></span></span></span></span></span>\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <br />\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <span style=\n                                                \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                                <span data-custom-class=\n                                                \"body_text\"><strong><em>In\n                                                Short:&nbsp;</em></strong><em>&nbsp;We aim to\n                                                protect your personal information through a\n                                                system of organizational and technical\n                                                security measures.</em></span></span></span>\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <br />\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <span style=\n                                                \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                                <span data-custom-class=\"body_text\">We have\n                                                implemented appropriate technical and\n                                                organizational security measures designed to\n                                                protect the security of any personal\n                                                information we process. However, despite our\n                                                safeguards and efforts to secure your\n                                                information, no electronic transmission over\n                                                the Internet or information storage\n                                                technology can be guaranteed to be 100%\n                                                secure, so we cannot promise or guarantee\n                                                that hackers, cybercriminals, or other\n                                                unauthorized third parties will not be able\n                                                to defeat our security, and improperly\n                                                collect, access, steal, or modify your\n                                                information. Although we will do our best to\n                                                protect your personal information,\n                                                transmission of personal information to and\n                                                from our <span style=\n                                                \"color: rgb(89, 89, 89); font-size: 15px;\"><span data-custom-class=\"body_text\">\n                                                <span style=\"font-size: 15px;\"><span style=\n                                                \"color: rgb(89, 89, 89);\"><span data-custom-class=\"body_text\">\n                                                <span style=\"font-size: 15px;\"><span style=\n                                                \"color: rgb(89, 89, 89);\"><span data-custom-class=\"body_text\">\n                                                 Services\n                                                </span></span></span></span></span></span></span></span>\n                                                is at your own risk. You should only access\n                                                the <span style=\n                                                \"color: rgb(89, 89, 89); font-size: 15px;\"><span data-custom-class=\"body_text\">\n                                                <span style=\"font-size: 15px;\"><span style=\n                                                \"color: rgb(89, 89, 89);\"><span data-custom-class=\"body_text\">\n                                                <span style=\"font-size: 15px;\"><span style=\n                                                \"color: rgb(89, 89, 89);\"><span data-custom-class=\"body_text\">\n                                                 Services\n                                                </span></span></span></span></span></span></span></span>\n                                                within a secure environment.\n                                                </span></span></span>\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <br />\n                                              </div>\n    \n                                              <div id=\"infominors\" style=\"line-height: 1.5;\">\n                                                <span style=\n                                                \"color: rgb(127, 127, 127);\"><span style=\n                                                \"color: rgb(89, 89, 89); font-size: 15px;\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                                <span style=\n                                                \"font-size: 15px; color: rgb(89, 89, 89);\"><span id=\"control\"\n                                                style=\n                                                \"color: rgb(0, 0, 0);\"><strong><span data-custom-class=\"heading_1\">\n                                                8. DO WE COLLECT INFORMATION FROM\n                                                MINORS?</span></strong></span></span></span></span></span>\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <br />\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <span style=\n                                                \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                                <span data-custom-class=\n                                                \"body_text\"><strong><em>In\n                                                Short:</em></strong><em>&nbsp; We do not\n                                                knowingly collect data from or market to\n                                                children under 18 years of\n                                                age.</em></span></span></span>\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <br />\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <span style=\n                                                \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                                <span data-custom-class=\"body_text\">We do not\n                                                knowingly solicit data from or market to\n                                                children under 18 years of age. By using the\n                                                <span style=\n                                                \"color: rgb(89, 89, 89); font-size: 15px;\"><span data-custom-class=\"body_text\">\n                                                <span style=\"font-size: 15px;\"><span style=\n                                                \"color: rgb(89, 89, 89);\"><span data-custom-class=\"body_text\">\n                                                <span style=\"font-size: 15px;\"><span style=\n                                                \"color: rgb(89, 89, 89);\"><span data-custom-class=\"body_text\">\n                                                 Services\n                                                </span></span></span></span></span></span></span></span>\n                                                , you represent that you are at least 18 or\n                                                that you are the parent or guardian of such a\n                                                minor and consent to such minor\n                                                dependent&rsquo;s use of the <span style=\n                                                \"color: rgb(89, 89, 89); font-size: 15px;\"><span data-custom-class=\"body_text\">\n                                                <span style=\"font-size: 15px;\"><span style=\n                                                \"color: rgb(89, 89, 89);\"><span data-custom-class=\"body_text\">\n                                                <span style=\"font-size: 15px;\"><span style=\n                                                \"color: rgb(89, 89, 89);\"><span data-custom-class=\"body_text\">\n                                                 Services\n                                                </span></span></span></span></span></span></span></span>\n                                                . If we learn that personal information from\n                                                users less than 18 years of age has been\n                                                collected, we will deactivate the account and\n                                                take reasonable measures to promptly delete\n                                                such data from our records. If you become\n                                                aware of any data we may have collected from\n                                                children under age 18, please contact us at\n                                                <span style=\n                                                \"color: rgb(89, 89, 89); font-size: 15px;\"><span data-custom-class=\"body_text\">\n                                                 <span class=\n                                                \"question\">gdconcertexplorer@gmail.com</span>\n                                                </span></span> . </span></span></span>\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <br />\n                                              </div>\n    \n                                              <div id=\"privacyrights\" style=\n                                              \"line-height: 1.5;\">\n                                                <span style=\n                                                \"color: rgb(127, 127, 127);\"><span style=\n                                                \"color: rgb(89, 89, 89); font-size: 15px;\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                                <span style=\n                                                \"font-size: 15px; color: rgb(89, 89, 89);\"><span id=\"control\"\n                                                style=\n                                                \"color: rgb(0, 0, 0);\"><strong><span data-custom-class=\"heading_1\">\n                                                9. WHAT ARE YOUR PRIVACY\n                                                RIGHTS?</span></strong></span></span></span></span></span>\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <br />\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <span style=\n                                                \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                                <span data-custom-class=\n                                                \"body_text\"><strong><em>In\n                                                Short:</em></strong><em>&nbsp; You may\n                                                review, change, or terminate your account at\n                                                any time.</em> </span></span></span>\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <span style=\n                                                \"font-size: 15px; color: rgb(89, 89, 89);\">&nbsp;</span>\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <span style=\n                                                \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                                <span data-custom-class=\"body_text\">If you\n                                                are a resident in the European Economic Area\n                                                and you believe we are unlawfully processing\n                                                your personal information, you also have the\n                                                right to complain to your local data\n                                                protection supervisory authority. You can\n                                                find their contact details here: <span style=\n                                                \"font-size: 15px;\"><span style=\n                                                \"color: rgb(89, 89, 89);\"><span data-custom-class=\"body_text\">\n                                                <span style=\n                                                \"color: rgb(48, 48, 241);\"><span data-custom-class=\"body_text\">\n                                                <a data-custom-class=\"link\" href=\n                                                \"http://ec.europa.eu/justice/data-protection/bodies/authorities/index_en.htm\"\n                                                rel=\"noopener noreferrer\" target=\n                                                \"_blank\"><span style=\n                                                \"font-size: 15px;\">http://ec.europa.eu/justice/data-protection/bodies/authorities/index_en.htm</span></a></span></span></span></span></span>.</span></span></span>\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <br />\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <span style=\n                                                \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                                <span data-custom-class=\"body_text\">If you\n                                                are a resident in Switzerland, the contact\n                                                details for the data protection authorities\n                                                are available here: <span style=\n                                                \"font-size: 15px;\"><span style=\n                                                \"color: rgb(89, 89, 89);\"><span data-custom-class=\"body_text\">\n                                                <span style=\n                                                \"color: rgb(48, 48, 241);\"><span data-custom-class=\"body_text\">\n                                                <span style=\n                                                \"font-size: 15px;\"><a data-custom-class=\n                                                \"link\" href=\n                                                \"https://www.edoeb.admin.ch/edoeb/en/home.html\"\n                                                rel=\"noopener noreferrer\" target=\n                                                \"_blank\">https://www.edoeb.admin.ch/edoeb/en/home.html</a></span></span></span></span></span></span>.\n                                                </span></span></span>\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <span data-custom-class=\"heading_2\" style=\n                                                \"color: rgb(0, 0, 0);\"><span style=\n                                                \"font-size: 15px;\"><strong><u><br /></u></strong><strong>Account\n                                                Information</strong></span></span>\n                                              </div>\n    \n                                              <div>\n                                                <div>\n                                                  <br />\n                                                </div>\n    \n                                                <div style=\"line-height: 1.5;\">\n                                                  <span style=\n                                                  \"color: rgb(127, 127, 127);\"><span style=\n                                                  \"color: rgb(89, 89, 89); font-size: 15px;\"><span data-custom-class=\"body_text\">\n                                                  <span style=\n                                                  \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                                  <span data-custom-class=\"body_text\">If you\n                                                  would at any time like to review or change\n                                                  the information in your account or\n                                                  terminate your account, you\n                                                  can:</span></span></span></span></span></span>\n                                                </div>\n    \n                                                <ul>\n                                                  <li style=\"line-height: 1.5;\"><span style=\n                                                  \"color: rgb(127, 127, 127);\"><span style=\n                                                  \"color: rgb(89, 89, 89); font-size: 15px;\"><span data-custom-class=\"body_text\">\n                                                  <span style=\n                                                  \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                                  <span data-custom-class=\n                                                  \"body_text\"><span class=\"question\">Contact\n                                                  us using the contact information\n                                                  provided.</span></span></span></span></span></span></span></li>\n                                                </ul>\n    \n                                                <div style=\"line-height: 1.5;\">\n                                                  <span style=\n                                                  \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                                  <span data-custom-class=\"body_text\">Upon\n                                                  your request to terminate your account, we\n                                                  will deactivate or delete your account and\n                                                  information from our active databases.\n                                                  However, we may retain some information in\n                                                  our files to prevent fraud, troubleshoot\n                                                  problems, assist with any investigations,\n                                                  enforce our Terms of Use and/or comply with\n                                                  applicable legal requirements. <span style=\n                                                  \"font-size: 15px;\"><span style=\n                                                  \"color: rgb(89, 89, 89);\"><span style=\n                                                  \"font-size: 15px;\"><span style=\n                                                  \"color: rgb(89, 89, 89);\"><span data-custom-class=\"body_text\">\n                                                  <span style=\"font-size: 15px;\"><span style=\n                                                  \"color: rgb(89, 89, 89);\">\n                                                  </span></span></span></span></span></span></span></span></span></span>\n                                                </div>\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <br />\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <span style=\n                                                \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                                <span data-custom-class=\n                                                \"body_text\"><strong><u>Cookies and similar\n                                                technologies:</u></strong> Most Web browsers\n                                                are set to accept cookies by default. If you\n                                                prefer, you can usually choose to set your\n                                                browser to remove cookies and to reject\n                                                cookies. If you choose to remove cookies or\n                                                reject cookies, this could affect certain\n                                                features or services of our <span style=\n                                                \"font-size: 15px;\"><span style=\n                                                \"color: rgb(89, 89, 89);\"><span data-custom-class=\"body_text\">\n                                                <span style=\n                                                \"color: rgb(89, 89, 89); font-size: 15px;\"><span data-custom-class=\"body_text\">\n                                                <span style=\"font-size: 15px;\"><span style=\n                                                \"color: rgb(89, 89, 89);\"><span data-custom-class=\"body_text\">\n                                                <span style=\"font-size: 15px;\"><span style=\n                                                \"color: rgb(89, 89, 89);\"><span data-custom-class=\"body_text\">\n                                                 Services\n                                                </span></span></span></span></span></span></span></span></span></span></span>\n                                                . To opt-out of interest-based advertising by\n                                                advertisers on our <span style=\n                                                \"font-size: 15px;\"><span style=\n                                                \"color: rgb(89, 89, 89);\"><span data-custom-class=\"body_text\">\n                                                <span style=\n                                                \"color: rgb(89, 89, 89); font-size: 15px;\"><span data-custom-class=\"body_text\">\n                                                <span style=\"font-size: 15px;\"><span style=\n                                                \"color: rgb(89, 89, 89);\"><span data-custom-class=\"body_text\">\n                                                <span style=\"font-size: 15px;\"><span style=\n                                                \"color: rgb(89, 89, 89);\"><span data-custom-class=\"body_text\">\n                                                 Services\n                                                </span></span></span></span></span></span></span></span></span></span></span>\n                                                visit <span style=\n                                                \"color: rgb(48, 48, 241);\"><span data-custom-class=\"body_text\">\n                                                <a data-custom-class=\"link\" href=\n                                                \"http://www.aboutads.info/choices/\" rel=\n                                                \"noopener noreferrer\" target=\n                                                \"_blank\"><span style=\n                                                \"font-size: 15px;\">http://www.aboutads.info/choices/</span></a></span></span>.\n                                                <span style=\"font-size: 15px;\"><span style=\n                                                \"color: rgb(89, 89, 89);\"><span data-custom-class=\"body_text\">\n                                                </span> </span></span></span></span></span>\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <br />\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <span style=\n                                                \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                                <span data-custom-class=\n                                                \"body_text\"><strong><u>Opting out of email\n                                                marketing:</u></strong> You can unsubscribe\n                                                from our marketing email list at any time by\n                                                clicking on the unsubscribe link in the\n                                                emails that we send or by contacting us using\n                                                the details provided below. You will then be\n                                                removed from the marketing email list &mdash;\n                                                however, we may still communicate with you,\n                                                for example to send you service-related\n                                                emails that are necessary for the\n                                                administration and use of your account, to\n                                                respond to service requests, or for other\n                                                non-marketing purposes. To otherwise opt-out,\n                                                you may: </span></span></span>\n                                              </div>\n    \n                                              <ul>\n                                                <li style=\"line-height: 1.5;\"><span class=\n                                                \"question\"><span data-custom-class=\n                                                \"body_text\">Contact us using the contact\n                                                information provided.</span></span></li>\n                                              </ul>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <br />\n                                              </div>\n    \n                                              <div id=\"DNT\" style=\"line-height: 1.5;\">\n                                                <span style=\n                                                \"color: rgb(127, 127, 127);\"><span style=\n                                                \"color: rgb(89, 89, 89); font-size: 15px;\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                                <span style=\n                                                \"font-size: 15px; color: rgb(89, 89, 89);\"><span id=\"control\"\n                                                style=\n                                                \"color: rgb(0, 0, 0);\"><strong><span data-custom-class=\"heading_1\">\n                                                10. CONTROLS FOR DO-NOT-TRACK\n                                                FEATURES</span></strong></span></span></span></span></span>\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <br />\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <span style=\n                                                \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                                <span data-custom-class=\"body_text\">Most web\n                                                browsers and some mobile operating systems\n                                                and mobile applications include a\n                                                Do-Not-Track (\"DNT\") feature or setting you\n                                                can activate to signal your privacy\n                                                preference not to have data about your online\n                                                browsing activities monitored and collected.\n                                                At this stage no uniform technology standard\n                                                for recognizing and implementing DNT signals\n                                                has been finalized. As such, we do not\n                                                currently respond to DNT browser signals or\n                                                any other mechanism that automatically\n                                                communicates your choice not to be tracked\n                                                online. If a standard for online tracking is\n                                                adopted that we must follow in the future, we\n                                                will inform you about that practice in a\n                                                revised version of this privacy\n                                                notice.</span></span>&nbsp;</span>\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <br />\n                                              </div>\n    \n                                              <div id=\"caresidents\" style=\n                                              \"line-height: 1.5;\">\n                                                <span style=\n                                                \"color: rgb(127, 127, 127);\"><span style=\n                                                \"color: rgb(89, 89, 89); font-size: 15px;\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                                <span style=\n                                                \"font-size: 15px; color: rgb(89, 89, 89);\"><span id=\"control\"\n                                                style=\n                                                \"color: rgb(0, 0, 0);\"><strong><span data-custom-class=\"heading_1\">\n                                                11. DO CALIFORNIA RESIDENTS HAVE SPECIFIC\n                                                PRIVACY\n                                                RIGHTS?</span></strong></span></span></span></span></span>\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <br />\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <span style=\n                                                \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                                <span data-custom-class=\n                                                \"body_text\"><strong><em>In\n                                                Short:&nbsp;</em></strong><em>&nbsp;Yes, if\n                                                you are a resident of California, you are\n                                                granted specific rights regarding access to\n                                                your personal\n                                                information.</em></span></span></span>\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <br />\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <span style=\n                                                \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                                <span data-custom-class=\n                                                \"body_text\">California Civil Code Section\n                                                1798.83, also known as the \"Shine The Light\"\n                                                law, permits our users who are California\n                                                residents to request and obtain from us, once\n                                                a year and free of charge, information about\n                                                categories of personal information (if any)\n                                                we disclosed to third parties for direct\n                                                marketing purposes and the names and\n                                                addresses of all third parties with which we\n                                                shared personal information in the\n                                                immediately preceding calendar year. If you\n                                                are a California resident and would like to\n                                                make such a request, please submit your\n                                                request in writing to us using the contact\n                                                information provided\n                                                below.</span></span></span>\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <br />\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <span style=\n                                                \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                                <span data-custom-class=\"body_text\">If you\n                                                are under 18 years of age, reside in\n                                                California, and have a registered account\n                                                with <span style=\n                                                \"color: rgb(89, 89, 89); font-size: 15px;\"><span data-custom-class=\"body_text\">\n                                                <span style=\n                                                \"color: rgb(89, 89, 89); font-size: 15px;\"><span data-custom-class=\"body_text\">\n                                                <span style=\"font-size: 15px;\"><span style=\n                                                \"color: rgb(89, 89, 89);\"><span data-custom-class=\"body_text\">\n                                                 a Service\n                                                </span></span></span></span></span></span></span>\n                                                , you have the right to request removal of\n                                                unwanted data that you publicly post on the\n                                                <span style=\n                                                \"color: rgb(89, 89, 89); font-size: 15px;\"><span data-custom-class=\"body_text\">\n                                                <span style=\n                                                \"color: rgb(89, 89, 89); font-size: 15px;\"><span data-custom-class=\"body_text\">\n                                                <span style=\"font-size: 15px;\"><span style=\n                                                \"color: rgb(89, 89, 89);\"><span data-custom-class=\"body_text\">\n                                                 Services\n                                                </span></span></span></span></span></span></span>\n                                                . To request removal of such data, please\n                                                contact us using the contact information\n                                                provided below, and include the email address\n                                                associated with your account and a statement\n                                                that you reside in California. We will make\n                                                sure the data is not publicly displayed on\n                                                the <span style=\n                                                \"color: rgb(89, 89, 89); font-size: 15px;\"><span data-custom-class=\"body_text\">\n                                                <span style=\n                                                \"color: rgb(89, 89, 89); font-size: 15px;\"><span data-custom-class=\"body_text\">\n                                                <span style=\"font-size: 15px;\"><span style=\n                                                \"color: rgb(89, 89, 89);\"><span data-custom-class=\"body_text\">\n                                                 Services\n                                                </span></span></span></span></span></span></span>\n                                                , but please be aware that the data may not\n                                                be completely or comprehensively removed from\n                                                all our systems (e.g. backups, etc.).\n                                                </span></span></span>\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <br />\n                                              </div>\n    \n                                              <div id=\"policyupdates\" style=\n                                              \"line-height: 1.5;\">\n                                                <span style=\n                                                \"color: rgb(127, 127, 127);\"><span style=\n                                                \"color: rgb(89, 89, 89); font-size: 15px;\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                                <span style=\n                                                \"font-size: 15px; color: rgb(89, 89, 89);\"><span id=\"control\"\n                                                style=\n                                                \"color: rgb(0, 0, 0);\"><strong><span data-custom-class=\"heading_1\">\n                                                12. DO WE MAKE UPDATES TO THIS\n                                                NOTICE?</span></strong>&nbsp;</span>&nbsp;</span>&nbsp;</span>&nbsp;</span>&nbsp;</span>\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <em><br /></em>\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <span style=\n                                                \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                                <span data-custom-class=\n                                                \"body_text\"><em><strong>In\n                                                Short:&nbsp;</strong> Yes, we will update\n                                                this notice as necessary to stay compliant\n                                                with relevant laws.</em></span></span></span>\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <br />\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <span style=\n                                                \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                                <span data-custom-class=\"body_text\">We may\n                                                update this privacy notice from time to time.\n                                                The updated version will be indicated by an\n                                                updated \"Revised\" date and the updated\n                                                version will be effective as soon as it is\n                                                accessible. If we make material changes to\n                                                this privacy notice, we may notify you either\n                                                by prominently posting a notice of such\n                                                changes or by directly sending you a\n                                                notification. We encourage you to review this\n                                                privacy notice frequently to be informed of\n                                                how we are protecting your\n                                                information.</span></span></span>\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <br />\n                                              </div>\n    \n                                              <div id=\"contact\" style=\"line-height: 1.5;\">\n                                                <span style=\n                                                \"color: rgb(127, 127, 127);\"><span style=\n                                                \"color: rgb(89, 89, 89); font-size: 15px;\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                                <span style=\n                                                \"font-size: 15px; color: rgb(89, 89, 89);\"><span id=\"control\"\n                                                style=\n                                                \"color: rgb(0, 0, 0);\"><strong><span data-custom-class=\"heading_1\">\n                                                13. HOW CAN YOU CONTACT US ABOUT THIS\n                                                NOTICE?</span></strong>&nbsp;</span>&nbsp;</span>&nbsp;</span>&nbsp;</span>&nbsp;</span>\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <br />\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <span style=\n                                                \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                                <span data-custom-class=\"body_text\">If you\n                                                have questions or comments about this notice,\n                                                you may <span style=\n                                                \"color: rgb(89, 89, 89); font-size: 15px;\"><span data-custom-class=\"body_text\">\n                                                email us at <span class=\n                                                \"question\">gdconcertexplorer@gmail.com</span>\n                                                </span></span> \n                                            </span></span></span>\n                                            </div>\n                                                <!--\n                                                or by post\n                                                to:</span></span></span>\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <br />\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <span style=\n                                                \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                                <span data-custom-class=\n                                                \"body_text\"><span style=\n                                                \"font-size: 15px;\"><span style=\n                                                \"color: rgb(89, 89, 89);\"><span style=\n                                                \"color: rgb(89, 89, 89);\"><span data-custom-class=\"body_text\">\n                                                <span class=\"question\">Queen Mary University\n                                                of\n                                                London</span></span></span></span></span></span>\n                                                </span></span>\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <span style=\n                                                \"font-size: 15px;\"><span data-custom-class=\n                                                \"body_text\"><span class=\"question\">Mile End\n                                                Road</span> </span></span>\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <span style=\n                                                \"font-size: 15px;\"><span data-custom-class=\n                                                \"body_text\"><span class=\n                                                \"question\">London</span> <span style=\n                                                \"color: rgb(89, 89, 89);\"><span style=\n                                                \"font-size: 15px;\"> <span class=\"question\">E1\n                                                4NS</span></span> <span style=\n                                                \"font-size: 15px;\">\n                                                </span></span></span></span>\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <span style=\n                                                \"font-size: 15px;\"><span data-custom-class=\n                                                \"body_text\"> <span class=\"question\">United\n                                                Kingdom</span> <span style=\n                                                \"font-size: 15px;\"><span data-custom-class=\n                                                \"body_text\"><span style=\n                                                \"color: rgb(89, 89, 89);\"><span class=\n                                                \"statement-end-if-in-editor\"><span style=\n                                                \"font-size: 15px;\"><span data-custom-class=\n                                                \"body_text\"><span style=\n                                                \"color: rgb(89, 89, 89);\">\n                                                </span></span></span>\n                                                </span></span></span></span></span></span>\n                                              </div>\n                                              -->\n                                              <div style=\"line-height: 1.5;\">\n                                                <br />\n                                              </div>\n    \n                                              <div id=\"request\" style=\"line-height: 1.5;\">\n                                                <span style=\n                                                \"color: rgb(127, 127, 127);\"><span style=\n                                                \"color: rgb(89, 89, 89); font-size: 15px;\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                                <span style=\n                                                \"font-size: 15px; color: rgb(89, 89, 89);\"><span id=\"control\"\n                                                style=\n                                                \"color: rgb(0, 0, 0);\"><strong><span data-custom-class=\"heading_1\">\n                                                14. HOW CAN YOU REVIEW, UPDATE, OR DELETE THE\n                                                DATA WE COLLECT FROM\n                                                YOU?</span></strong>&nbsp;</span>&nbsp;</span>&nbsp;</span>&nbsp;</span>&nbsp;</span>\n                                              </div>\n                                              \n                                              <div style=\"line-height: 1.5;\">\n                                                <br />\n                                              </div>\n    \n                                              <div style=\"line-height: 1.5;\">\n                                                <span style=\n                                                \"font-size: 15px; color: rgb(89, 89, 89);\"><span style=\"font-size: 15px; color: rgb(89, 89, 89);\">\n                                                <span data-custom-class=\"body_text\">Based on\n                                                the applicable laws of your country, you may\n                                                have the right to request access to the\n                                                personal information we collect from you,\n                                                change that information, or delete it in some\n                                                circumstances. To request to review, update,\n                                                or delete your personal information, email us at gdconcertexplorer@gmail.com</span>\n                                                <!--submit a request form by\n                                                writing to gdconcertexplorer@gmail.com</span>\n                                                clicking&nbsp;</span><span style=\n                                                \"color: rgb(48, 48, 241);\"><span data-custom-class=\"body_text\"><span style=\"font-size: 15px;\"><a data-custom-class=\"link\"\n                                                href=\n                                                \"https://app.termly.io/notify/466cb294-d346-4812-ab70-2e5c61d9ca2b\"\n                                                rel=\"noopener noreferrer\" target=\n                                                \"_blank\">here</a></span></span></span-->\n                                                <span data-custom-class=\"body_text\">. We will\n                                                respond to your request within 30\n                                                days.</span></span></span>\n                                              </div>\n                                            </div>\n    \n                                           \n                                          </div>\n                                        </div>\n                                      </div>\n                                    </div>\n                                  </div>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n\n\n<br>\n    <div style=\n    \"color: #595959;font-size: 10px;font-family: Arial;padding-top:16px;\">\n    This privacy policy was created using <a style=\n    \"color: rgb(48, 48, 241) !important;\" href=\n    \"https://termly.io/products/privacy-policy-generator/?ftseo\">\n      Termly&rsquo;s Privacy Policy Generator</a>.\n    </div>\n</div>\n<p [style.margin-bottom]=\"'150px'\"></p>","import { Component, OnInit, Inject } from '@angular/core';\nimport { CookieService } from 'ngx-cookie-service'; \nimport { TRACKINGID } from '../config';\nimport { AnchorScrollService } from '../services/anchor-scroll.service';\nimport { AuthService } from '../auth.service';\n\ndeclare let gtag: Function\n\n@Component({\n  selector: 'privacy-policy',\n  templateUrl: './privacy-policy.component.html',\n  styleUrls: ['./privacy-policy.component.sass']\n})\nexport class PrivacyPolicyComponent implements OnInit {\n\n  public constructor(private cookieService: CookieService, public anchor: AnchorScrollService, public auth: AuthService,\n              @Inject('window') private window) {\n  }\n\n  public showBanner: Boolean;\n  public currentUser: any = { userName: '', userId: 'None' };\n\n\n  async ngOnInit() {\n    this.auth.userProfile$.subscribe(userProfile => {\n      if (userProfile){\n        this.currentUser = {\n          userId: userProfile.sub.split(\"|\")[1],\n          userName: userProfile['http://example.com/username']\n        }\n        gtag('set', {'user_id': this.currentUser.userId});\n        \n      }\n    });\n\n    this.anchor.listen();\n  }\n\n  public removeCookie() {\n      this.cookieService.delete('gd-cookieconsent');\n      this.cookieService.delete('_ga');\n      this.cookieService.delete('_gid');\n      this.cookieService.delete('_gat_gtag_' + TRACKINGID.replace(/-/g, '_'));\n      this.window.location.reload();\n  }\n\n  private setCookie(cname, cvalue, exdays) {\n    const d = new Date();\n    d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));\n    this.cookieService.set(cname, cvalue, d);\n  }\n\n  public agreeToShare() {\n    this.setCookie('gd-cookieconsent', 'allow', 365);\n    this.window.location.reload();\n  }\n\n\n}\n","\nimport { DEBUG } from './config';\n\nexport const VIEWS: View[] = [\n  {name: \"Shows\", url: \"/show\"},\n  {name: \"Locations\", url: \"/location\"},\n  {name: \"Venues\", url: \"/venue\"},\n  {name: \"Songs\", url: \"/song\"},\n  {name: \"Recording\", url: \"/recording\"},\n  {name: \"Artists\", url: \"/artist\"},\n  {name: \"Artifacts\", url: \"/artifacts\"},\n  {name: \"Map\", url: \"/mapselect\"},\n  {name: \"Start Page\", url: \"/start\"},\n]\n\ninterface View {\n  name: string,\n  url: string\n}\n\n\nexport function logger(s) {\n    if (DEBUG) {\n        console.log(s);\n    }\n  }\n  ","// tslint:disable:no-any directive-selector\n\nimport { Directive, Input, TemplateRef, ViewContainerRef } from '@angular/core';\n\n/**\n * Declare a variable in the template.\n * Eg. <i *ngVar=\"false as variable\">{{ variable | json }}</i>\n */\n@Directive({selector: '[ngVar]'})\nexport class NgVarDirective {\n  public context: any = {};\n\n  constructor(\n    private vcRef: ViewContainerRef,\n    private templateRef: TemplateRef<any>,\n  ) {}\n\n  @Input()\n  set ngVar(context: any) {\n    this.context.$implicit = this.context.ngVar = context;\n    this.updateView();\n  }\n\n  private updateView() {\n    this.vcRef.clear();\n    this.vcRef.createEmbeddedView(this.templateRef, this.context);\n  }\n}","\n<!--<div *ngIf=\"auth.userProfile$ | async as profile\">\n<gd-header title='Profile' subtitle='{{ profile[\"http://example.com/username\"]}}'></gd-header>-->\n<div *ngIf=\"currentUser\">\n  <gd-header title='Profile' subtitle='{{ currentUser.userName }}' userId='{{ currentUser.userId }}'></gd-header>\n  <br><b>User Info</b><br>\n  <!--pre>\n    <code>{{ userProfile | json }}</code>\n  </pre-->\n\n  <i>{{'Username:  '}} </i>{{ userProfile['http://example.com/username'] }}\n  <br><i>{{'Email:  '}} </i> {{ userProfile.email }}\n\n\n  <br><br><b>Bookmarks</b><br>\n  <div *ngIf=\"!bookmarks\" [style.margin-top]=\"'8px'\" [style.margin-right]=\"'5px'\">\n    <mat-spinner diameter=\"30\"></mat-spinner>\n  </div>\n  <div *ngIf=\"bookmarks\">\n      <div *ngFor=\"let b of bookmarks\">\n            {{b.timestamp}} <span class=\"link\" [routerLink]=\"b.route\" matTooltip=\"go to item\">{{ b.title }}</span>\n            <button mat-icon-button (click)=\"onDeleteBookmark(b)\" matTooltip=\"delete bookmark\"><mat-icon>clear</mat-icon></button>  \n      </div>\n  </div>\n\n  <br><b>Likes</b><br>\n  <div *ngIf=\"!likes || likes.length==0\" [style.margin-top]=\"'8px'\" [style.margin-right]=\"'5px'\">\n    <mat-spinner diameter=\"30\"></mat-spinner>\n  </div>\n\n  <div *ngIf=\"likes\">\n      <div *ngFor=\"let l of likes\">\n          {{l.timestamp}} <span class=\"link\" [routerLink]=\"l.route\" matTooltip=\"go to item\">{{ l.title }}</span>\n          <button mat-icon-button (click)=\"onUnlike(l)\" matTooltip=\"delete like\"><mat-icon>clear</mat-icon></button>  \n      </div>\n  </div>\n\n  <br><b>Commented on</b><br>\n  <div *ngIf=\"!comments\" [style.margin-top]=\"'8px'\" [style.margin-right]=\"'5px'\">\n    <mat-spinner diameter=\"30\"></mat-spinner>\n  </div>\n  <div *ngIf=\"comments\"> \n    <div *ngFor=\"let c of comments\">\n      <span class=\"link\" [routerLink]=\"c.route\" matTooltip=\"go to item\">{{ c.title }}</span>\n    </div>\n  </div>\n\n  <br><b>Playlists</b><br>\n  \n  <div *ngIf=\"player.playlists\">\n    <div *ngIf=\"!player.playlistsLoaded\" [style.margin-top]=\"'8px'\" [style.margin-right]=\"'5px'\">\n      <mat-spinner diameter=\"30\"></mat-spinner>\n    </div>\n    <div *ngFor=\"let p of player.playlists\">\n      <div> {{ p.timestamp }} \"{{ p.name }}\"\n        <button mat-icon-button (click)=\"loadPlaylist(p.playlist)\" matTooltip=\"load playlist\"><mat-icon>library_music</mat-icon></button> \n        <button mat-icon-button (click)=\"delPlaylist(p.id, p.name)\" matTooltip=\"delete playlist\"><mat-icon>clear</mat-icon></button>   \n        \n      </div>\n      <div *ngFor=\"let t of p.playlist; index as i\">\n        <small>{{i+1}}. {{ t.title }}</small>\n      </div>\n      <share-buttons [theme]=\"'default'\"\n        [include]=\"['facebook','twitter','pinterest','reddit','tumblr','mix','copy']\"\n        url = \"{{frontend_url + '#/playlist/' + p.id}}\"\n        [show]=\"7\"\n        [size]=\"-7\"\n        [title]=\"'Grateful Dead Concert Explorer Playlist'\"\n        [tags]=\"'GratefulDeadExplorer,GratefulDead,playlist'\"\n        >\n      </share-buttons>\n    <br>\n    </div>\n  </div>\n</div>\n\n<div *ngIf=\"!currentUser\">\n  <gd-header title='Profile'></gd-header>\n  <pre>you are not logged in</pre>\n</div>\n\n<p [style.margin-bottom]=\"'75px'\"></p>\n\n\n\n\n","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from '../auth.service';\nimport { DataService } from '../services/data.service';\nimport { APIResolver } from '../auth.resolve';\nimport { ActivatedRoute } from '@angular/router';\nimport { DialogService } from '../services/dialog.service';\nimport { PlayerService } from '../services/player.service';\nimport { FRONTEND_URL } from '../config';\n\n\n\ndeclare let gtag: Function;\n\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.component.html',\n  styleUrls: ['./profile.component.sass']\n})\nexport class ProfileComponent implements OnInit {\n  constructor(public auth: AuthService, private data: DataService, public resolve: APIResolver, private route: ActivatedRoute,\n    private dialog: DialogService, private player: PlayerService) { \n\n      \n    }\n\n  public currentUser: any;\n  //protected authenticated: boolean;\n  protected userProfile: any;\n  protected bookmarks: any;\n  protected likes: any;\n  protected comments: any;\n  public frontend_url = FRONTEND_URL;\n  //public domain = DOMAIN;\n  //protected playlists: any;\n    \n\n  ngOnInit() {  \n    if (this.route.snapshot.data['loggedIn']) {\n      this.auth.userProfile$.subscribe(userProfile => {\n        this.userProfile = userProfile;\n        this.currentUser = this.resolve.getUser(userProfile);\n        gtag('set', {'user_id': this.currentUser.userId});\n        this.getBookmarks();\n        this.getLikes();\n        this.getComments();\n      });\n    }\n\n    /*\n    if (this.currentUser){\n      this.getBookmarks();\n        this.getComments();\n        this.getPlaylists();\n    }\n    */\n\n/*\n    if (this.authenticated == true) {\n      this.auth.userProfile$.subscribe(userProfile => {\n        this.currentUser = userProfile;\n        this.userId = this.currentUser.sub.split(\"|\")[1];\n        this.userName = this.currentUser['http://example.com/username'];\n      });\n    loggerthis.userId)\n    }*/\n  }\n\n  async getBookmarks(){\n    var result = await this.data.getBookmarks(this.currentUser.userId);\n    if (result[0].bookmarks) {\n      var m = result[0].bookmarks;\n      m.sort(function(a, b) { return a.timestamp - b.timestamp }).reverse();\n      m.forEach(i => i.timestamp = this.formatTime(new Date(Number(i.timestamp))));\n      this.bookmarks = m;\n    };\n  }\n\n  async getLikes(){\n    var result = await this.data.getLikes(this.currentUser.userId);\n    if (result[0].likes) {\n      var l = result[0].likes;\n      l.sort(function(a, b) { return a.timestamp - b.timestamp }).reverse();\n      l.forEach(i => i.timestamp = this.formatTime(new Date(Number(i.timestamp))));\n      this.likes = l;\n    };\n  }\n\n\n  async getComments(){\n    var result = await this.data.getUserComments(this.currentUser.userId);\n    if (result[0].comments) {\n      var res = [];\n      result[0].comments.forEach(r => {\n        if (!(res.some(res => res.title === r.title) && res.some(res => res.route === r.route))){\n          res.push({'title': r.title, 'route': r.route});\n        }        \n      })\n      this.comments = res;\n      //this.comments = result[0].comments;\n    };\n  }\n\n  formatTime(d) {\n    function z(n){return (n<10?'0':'')+n}\n    return z(d.getMonth()+1) + '-' + z(d.getDate()) + '-' + (d.getYear()+1900) + ' ' +  d.getHours() + ':' + z(d.getMinutes());\n  }\n\n  delPlaylist(playlistid, name) {\n    this.dialog.openMultiFunction(\n      'Are you sure you want to delete playlist \"' + name + '\"?',\n      [\"yes\", \"no\"],\n      [async () => {\n        await this.player.deletePlaylist(this.currentUser.userId, playlistid);\n      },\n        () => null]\n    );\n  } \n\n  loadPlaylist(playlist) {\n    this.dialog.openMultiFunction(\n      'Your current playlist will be lost',\n      [\"ok\", \"cancel\"],\n      [() => { \n        this.player.playlist = [...playlist];\n        this.player.storePlaylist();\n      },\n        () => {}]\n    );\n    \n  }\n\n  protected onDeleteBookmark(bookmark) {\n    this.dialog.openMultiFunction(\n      \"Are you sure you want to delete this bookmark?\",\n      [\"yes\", \"no\"],\n      [() => this.deleteBookmark(bookmark), \n        () => null]\n    );\n  }\n\n  async deleteBookmark(bookmark){\n    await this.data.delBookmark(this.currentUser.userId, bookmark.route);\n    this.getBookmarks();\n  }\n\n  protected onUnlike(like) {\n    this.dialog.openMultiFunction(\n      \"Are you sure you want to unlike?\",\n      [\"yes\", \"no\"],\n      [() => this.unlike(like), \n        () => null]\n    );\n  }\n\n  async unlike(like){\n    await this.data.unlike(this.currentUser.userId, like.route);\n    this.getLikes();\n  }\n\n\n}","import { Injectable } from '@angular/core';\nimport { Router, NavigationEnd } from '@angular/router';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AnchorScrollService {\n\n  constructor(private router: Router) { }\n\n  listen() {\n    this.router.events.subscribe(val => {\n      //logger(val);\n      if (val instanceof NavigationEnd) {\n        let fragmentIdx = val.urlAfterRedirects.lastIndexOf('#');\n        if (fragmentIdx >= 0 && fragmentIdx < val.urlAfterRedirects.length - 1) {\n          let fragment = val.urlAfterRedirects.substring(fragmentIdx+1);\n          //logger('fragment: ' + fragment);\n          document.getElementById(fragment).scrollIntoView();\n        }\n      }\n    })\n  }\n}","import * as _ from 'lodash';\nimport { Injectable } from '@angular/core';\nimport { DeadApiService } from './dead-api.service';\nimport { DeadEventInfo, DeadEventDetails, SongInfo, SongDetails, AudioTrack,\n  Location, Venue, VenueDetails, ArtifactType, Artifact, Set, Recording,\n  RecordingDetails } from './types';\nimport { Track } from './player.service';\nimport { logger } from '../globals';\n\nconst ARCHIVE_URI = 'https://archive.org/download/';\n\nexport interface EventArtifact extends Artifact {\n  eventInfo: string\n}\n\n@Injectable()\nexport class DataService {\n\n  private loading: Promise<any>;\n  private events: DeadEventInfo[];\n  public event: DeadEventDetails;\n\n  constructor(private apiService: DeadApiService) {\n    this.loading = this.initEvents();\n  }\n  \n  async getEventInfo(eventId: string) {\n    return (await this.getEventInfos([eventId]))[0];\n  }\n  \n  async getEventInfos(eventIds: string[]) {\n    if (eventIds) {\n      await this.loading;\n      return this.events.filter(e => eventIds.indexOf(e.id) >= 0);\n    }\n  }\n  \n  async getEventDetails(eventId: string) {\n    this.event = await this.apiService.getEventDetails(eventId);\n    return this.event;\n  }\n  \n  async getLocation(locationId: string) {\n    return await this.apiService.getLocation(locationId);\n  }\n  \n  async getVenue(venueId: string) {\n    return await this.apiService.getVenue(venueId);\n  }\n  \n  async getVenueCoordinates(): Promise<VenueDetails[]> {\n    return this.apiService.getVenueCoordinates();\n  }\n\n  async getTourCoordinates(): Promise<VenueDetails[]> {\n    return this.apiService.getTourCoordinates();\n  }\n  \n  async getArtistDetails(artistId: string) {\n    return this.apiService.getArtistDetails(artistId);\n  }\n  \n  async getSong(songId: string): Promise<SongDetails> {\n    return this.apiService.getSong(songId);\n  }\n  \n  async getEventInfoForRecording(recordingId: string): Promise<DeadEventInfo> {\n    await this.loading;\n    return this.events.filter(e => e.recordings.some(r => r.id === recordingId))[0];\n  }\n  \n  async getRecording(recordingId: string) {\n    return this.apiService.getRecordingDetails(recordingId);\n  }\n  \n  async getRecordingTracks(recording: Recording, event: DeadEventInfo): Promise<Track[]> {\n    const tracks = await this.apiService.getRecordingTracks(recording.id);\n    return tracks.map(t => this.toTrack(event, recording.etreeId, t, recording.id, t.id)); \n  }\n  \n  async getTrackFromAudio(audio: AudioTrack, event: DeadEventInfo, etreeId: string) {\n    return this.toTrack(event, etreeId, audio, event.id, audio.id);  \n  }\n  \n  async getTrack(song: SongInfo, event: DeadEventInfo, etreeId?: string, recordingId?: string) {\n    const songDetails = await this.apiService.getSong(song.id);\n    if (!etreeId) {\n      const sbd = event.recordings.filter(r => r.isSoundboard);\n      var e = sbd.length ? sbd[0] : _.sample(event.recordings);\n      etreeId = e.etreeId;\n      recordingId = e.id;\n    } \n    return this.getTracks(songDetails, event, etreeId, recordingId)[0];\n  }\n  \n  getTracks(song: SongDetails, event: DeadEventInfo, etreeId: string, recordingId: string): Track[] {\n    return song.audio && song.audio[etreeId] ?\n      song.audio[etreeId].map(a => this.toTrack(event, etreeId, a, recordingId, song.id)) : [];\n  }\n  \n  async loadRandomEvent(): Promise<DeadEventDetails> {\n    return (await this.getEventDetails(await this.getRandomEventId()));\n  }\n  \n  async getRandomEventId(): Promise<string> {\n    await this.loading;\n    return this.events[Math.floor(Math.random()*this.events.length)].id;\n  }\n  \n  async getRandomVenue(): Promise<Venue> {\n    return (await this.loadRandomEvent()).venue;\n  }\n  \n  async getRandomLocation(): Promise<Location> {\n    return (await this.loadRandomEvent()).location;\n  }\n  \n  async getRandomArtifacts(types?: ArtifactType[], count = 20): Promise<EventArtifact[]> {\n    await this.loading;\n    let artifacts = _.flatten(this.events.map(e => e.artifacts.map(a =>\n      Object.assign(a, {eventInfo: e.venue + \", \" + e.location + \", \" + e.date}))));\n    if (types) {\n      artifacts = artifacts.filter(a => types.indexOf(a.type) >= 0);\n    }\n    return _.sampleSize(artifacts, count);\n  }\n  \n  async getRandomArtistId(): Promise<string> {\n    await this.loading;\n    return _.sample(this.event.performers).id;\n  }\n  \n  async getRandomRecording(): Promise<RecordingDetails> {\n    const randomEvent = await this.getEventInfo(await this.getRandomEventId());\n    return this.apiService.getRecordingDetails(_.sample(randomEvent.recordings).id);\n  }\n  \n  async getRandomSetlist(): Promise<Set[]> {\n    return this.apiService.getSetlist(await this.getRandomEventId());\n  }\n  \n  async getRandomSong(): Promise<SongDetails> {\n    const randomSong = _.sample(_.sample(await this.getRandomSetlist()).songs);\n    logger(randomSong)\n    return this.apiService.getSong(randomSong.id);\n  }\n  \n  async getRandomTrack(): Promise<Track> {\n    const randomSong = await this.getRandomSong();\n   \n    const randomRecordingEtreeId = _.sample(_.keys(randomSong.audio));\n    const randomAudio = _.sample(randomSong.audio[randomRecordingEtreeId]);\n    const correspondingEvent = this.events.filter(e =>\n      e.recordings.map(r => r.etreeId).indexOf(randomRecordingEtreeId) >= 0)[0];\n    return this.toTrack(correspondingEvent, randomRecordingEtreeId, randomAudio, '', randomSong.id);  // TODO: fix recordingId\n  }\n  \n  private toTrack(event: DeadEventInfo, etreeId: string, audio: AudioTrack, recordingId: string, songId: string): Track {\n    const uri = ARCHIVE_URI+etreeId+'/'+audio.filename;\n    return {\n      title: audio.title + \", \" + event.venue + \", \"\n        + event.location + \", \" + event.date,\n      uri: uri,\n      show_id: event.id,\n      waveform: uri.replace('.mp3', '.png'),\n      etree_id: etreeId,\n      recording_id: recordingId,\n      song_id: songId,\n      track: audio.track\n    };\n  }\n  \n  private async initEvents() {\n    this.events = await this.apiService.getEvents();\n    this.events.sort((a, b) => parseFloat(a.date.replace(/-/g, ''))\n      - parseFloat(b.date.replace(/-/g, '')));\n  }\n  \n  formatDate(date: string) {\n    return new Date(date).toLocaleDateString(\"en-US\",\n      { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });\n  }\n\n  formatDates(objects: {date: string}[]) {\n    objects.forEach(o => o.date = this.formatDate(o.date));\n  }\n\n  async getSearchResult(q: string): Promise<any> {\n    return this.apiService.getSearchResult(q);\n  }\n\n  async addBookmark(userid: string, route: string, time: number, title: string): Promise<any> {\n    return this.apiService.addBookmark(userid, route, time, title);\n  }\n\n  async delBookmark(userid: string, route: string): Promise<any> {\n    return this.apiService.delBookmark(userid, route);\n  }\n\n  async getBookmarks(userid: string): Promise<any> {\n    return this.apiService.getBookmarks(userid);\n  }\n\n  async checkBookmark(userid: string, route: string): Promise<any> {\n    return this.apiService.checkBookmark(userid, route);\n  }\n  \n  async like(userid: string, route: string, time: number, title: string): Promise<any> {\n    return this.apiService.like(userid, route, time, title);\n  }\n\n  async unlike(userid: string, route: string): Promise<any> {\n    return this.apiService.unlike(userid, route);\n  }\n\n  async checkLike(userid: string, route: string): Promise<any> {\n    return this.apiService.checkLike(userid, route);\n  }\n\n  async countLikes(route: string): Promise<any> {\n    return this.apiService.countLikes(route);\n  }\n  \n  async getLikes(userid: string): Promise<any> {\n    return this.apiService.getLikes(userid);\n  }\n\n  async getComments(route: string): Promise<any> {\n    return this.apiService.getComments(route);\n  }\n\n  async addComment(comment: any, route: string, userid: string, title: string): Promise<any> {\n    return this.apiService.addComment(comment, route, userid, title);\n  }\n\n  async checkComment(msgId: string): Promise<any> {\n    return this.apiService.checkComment(msgId);\n  }\n\n  async getUserComments(userid: string): Promise<any> {\n    return this.apiService.getUserComments(userid);\n  }\n\n  async sendCommentReport(msg: any, userid: string): Promise<any> {\n    const comment = encodeURIComponent(JSON.stringify(msg));\n    return this.apiService.sendCommentReport(comment, userid);\n  }\n\n  async addPlaylist(name: string, playlist: Track[], playlistid: string, userid: string, time: number): Promise<any> {\n    const p = encodeURIComponent(JSON.stringify(playlist));\n    return this.apiService.addPlaylist(name, p, playlistid, userid, time);\n  }\n\n  async getPlaylists(userid: string): Promise<any> {\n    return this.apiService.getPlaylists(userid);\n  }\n\n  async getPlaylist(playlistid: string): Promise<any> {\n    return this.apiService.getPlaylist(playlistid);\n  }\n\n  async delPlaylist(userid: string, playlistid: string): Promise<any> {\n    return this.apiService.delPlaylist(userid, playlistid);\n  }\n\n  async deleteComment(msgid: string, userid: string): Promise<any> {\n    return this.apiService.deleteComment(msgid, userid);\n  }\n\n  async getRecordingInfo(recordingid: string){\n    return this.apiService.getRecordingInfo(recordingid);\n  }\n\n  async getTracklist(recordingid: string){\n    return this.apiService.getTracklist(recordingid);\n  }\n\n  toPlayerTrack(venue: string, location: string, date: string, showId: string, etreeId: string, \n                        audio: AudioTrack, recordingId: string): Track {\n    const uri = ARCHIVE_URI+etreeId+'/'+audio.filename;\n    return {\n      title: audio.title + \", \" + venue + \", \"\n        + location + \", \" + date,\n      uri: uri,\n      show_id: showId,\n      waveform: uri.replace('.mp3', '.png'),\n      etree_id: etreeId,\n      recording_id: recordingId,\n      song_id: audio.id,\n      track: audio.track\n    };\n  }\n\n  async getYoutubeList(id: string, searchArray: string[]){\n    return this.apiService.getYoutubeList(id, searchArray);\n  }\n\n  async getShowIndex(){\n    return this.apiService.getShowIndex();\n  }\n\n  async getVenueIndex(){\n    return this.apiService.getVenueIndex();\n  }\n\n  async getLocationIndex(){\n    return this.apiService.getLocationIndex();\n  }\n\n  async getSongIndex(){\n    return this.apiService.getSongIndex();\n  }\n\n  connectSocket(nsp: string){\n    this.apiService.connectSocket(nsp);\n  }\n\n}","import { Injectable } from '@angular/core';\r\nimport { SafeResourceUrl } from '@angular/platform-browser';\r\nimport { DeadEventInfo, DeadEventDetails, Location, Venue, Set,\r\n  SongDetails, ArtistDetails, VenueDetails, RecordingDetails, AudioTrack } from './types';\r\nimport { API_URL } from '../config';\r\nimport { logger } from '../globals';\r\n\r\n\r\n\r\nexport interface Recording {\r\n  id: string,\r\n  url: SafeResourceUrl\r\n}\r\n\r\n@Injectable()\r\nexport class DeadApiService {\r\n\r\n  //private API_URL = \"https://grateful-dead-api.herokuapp.com/\";\r\n  //private API_URL = \"http://localhost:8060/\";\r\n  private api_url = API_URL;\r\n\r\n  constructor() {}\r\n\r\n  async getEvents(): Promise<DeadEventInfo[]> {\r\n    return this.getJsonFromApi('events');\r\n  }\r\n\r\n  async getVenueCoordinates(): Promise<VenueDetails[]> {\r\n    return this.getJsonFromApi('coordinates');\r\n  }\r\n\r\n  async getTourCoordinates(): Promise<any> {\r\n    return this.getJsonFromApi('tours');\r\n  }\r\n\r\n  async getEventDetails(eventId: string): Promise<DeadEventDetails> {\r\n    return this.getJsonFromApi('details?event='+encodeURIComponent(eventId))\r\n  }\r\n  \r\n  getLocation(locationId: string): Promise<Location> {\r\n    return this.getJsonFromApi('location?id='+encodeURIComponent(locationId));\r\n  }\r\n  \r\n  getVenue(venueId: string): Promise<Venue> {\r\n    return this.getJsonFromApi('venue?id='+encodeURIComponent(venueId));\r\n  }\r\n  \r\n  getSetlist(eventId: string): Promise<Set[]> {\r\n    return this.getJsonFromApi('setlist?event='+encodeURIComponent(eventId));\r\n  }\r\n  \r\n  getSong(songId: string): Promise<SongDetails> {\r\n    return this.getJsonFromApi('song?id='+encodeURIComponent(songId));\r\n  }\r\n  \r\n  getRecordingDetails(recordingId: string): Promise<RecordingDetails> {\r\n    return this.getJsonFromApi('recording?id='+encodeURIComponent(recordingId));\r\n  }\r\n  \r\n  getRecordingTracks(recordingId: string): Promise<AudioTrack[]> {\r\n    return this.getJsonFromApi('tracks?id='+encodeURIComponent(recordingId));\r\n  }\r\n\r\n  getRecordingId(eventId: string): Promise<any> {\r\n    return this.getJsonFromApi('recordingid?id='+encodeURIComponent(eventId));\r\n  }\r\n  \r\n  getArtistDetails(artistId: string): Promise<ArtistDetails> {\r\n    return this.getJsonFromApi('artist?id='+encodeURIComponent(artistId));\r\n  }\r\n\r\n  getFeatureSummary(audioUri: string): Promise<{}> {\r\n    return this.getJsonFromApi('featuresummary?audiouri='+encodeURIComponent(audioUri));\r\n  }\r\n\r\n  getDiachronicVersionsAudio(songName: string, count = 100, skip = 0): Promise<string[]> {\r\n    return this.getJsonFromApi('diachronic?songname='+encodeURIComponent(songName)\r\n      +\"&count=\"+count+\"&skip=\"+skip);\r\n  }\r\n\r\n  async getJsonFromApi(path: string): Promise<any> {\r\n    return fetch(this.api_url+path)\r\n      .then(r => r.text())\r\n      .then(t => JSON.parse(t))\r\n      .catch(e => logger(e));\r\n  }\r\n\r\n  async getTextFromApi(path: string): Promise<any> {\r\n    return fetch(this.api_url+path)\r\n      .then(r => r.text())\r\n      .catch(e => logger(e));\r\n  }\r\n\r\n  async getSearchResult(q: string): Promise<any> {\r\n    return this.getJsonFromApi('search?q='+encodeURIComponent(q));\r\n  }\r\n\r\n  async addBookmark(userid: string, route: string, time: number, title: string): Promise<any> {\r\n    return this.getTextFromApi('addBookmark?userid='+userid+'&route='+route+'&time='+time+'&title='+title);\r\n  }\r\n\r\n  async delBookmark(userid: string, route: string): Promise<any> {\r\n    return this.getTextFromApi('delBookmark?userid='+userid+'&route='+route);\r\n  }\r\n\r\n  async getBookmarks(userid: string): Promise<any> {\r\n    return this.getJsonFromApi('getBookmarks?userid='+userid);\r\n  }\r\n\r\n  async checkBookmark(userid: string, route: string): Promise<any> {\r\n    return this.getTextFromApi('checkBookmark?userid='+userid+'&route='+route);\r\n  }\r\n\r\n  async getComments(route: string): Promise<any> {\r\n    return this.getJsonFromApi('getComments?route='+route);\r\n  }\r\n\r\n\r\n\r\n  async like(userid: string, route: string, time: number, title: string): Promise<any> {\r\n    return this.getTextFromApi('like?userid='+userid+'&route='+route+'&time='+time+'&title='+title);\r\n  }\r\n\r\n  async unlike(userid: string, route: string): Promise<any> {\r\n    return this.getTextFromApi('unlike?userid='+userid+'&route='+route);\r\n  }\r\n\r\n  async checkLike(userid: string, route: string): Promise<any> {\r\n    return this.getTextFromApi('checkLike?userid='+userid+'&route='+route);\r\n  }\r\n\r\n  async countLikes(route: string): Promise<any> {\r\n    return this.getTextFromApi('countLikes?route='+route);\r\n  }\r\n\r\n  async getLikes(userid: string): Promise<any> {\r\n    return this.getJsonFromApi('getLikes?userid='+userid);\r\n  }\r\n  \r\n\r\n\r\n\r\n  async addComment(comment: any, route: string, userid: string, title: string): Promise<any> {\r\n    const cmt = encodeURIComponent(JSON.stringify(comment));\r\n    return this.getTextFromApi('addComment?comment='+cmt+'&route='+route+'&userid='+userid+'&title='+title);\r\n  }\r\n\r\n  async checkComment(msgId: string): Promise<any> {\r\n    return this.getJsonFromApi('checkComment?msgId='+msgId);\r\n  }\r\n\r\n  async getUserComments(userid: string): Promise<any> {\r\n    return this.getJsonFromApi('getUserComments?userid='+userid);\r\n  }\r\n\r\n  async sendCommentReport(comment: string, userid: string): Promise<any> {\r\n    return this.getTextFromApi('sendCommentReport?comment='+comment+'&userid='+userid);\r\n  }\r\n\r\n  async addPlaylist(name: string, playlist: string, playlistid: string, userid: string, time: number): Promise<any> {\r\n    return this.getTextFromApi('addPlaylist?name='+name+'&playlist='+playlist+'&playlistid='+playlistid+'&userid='+userid+'&time='+time);\r\n  }\r\n\r\n  async getPlaylists(userid: string): Promise<any> {\r\n    return this.getJsonFromApi('getPlaylists?userid='+userid);\r\n  }\r\n\r\n  async getPlaylist(playlistid: string): Promise<any> {\r\n    return this.getJsonFromApi('getPlaylist?playlistid='+playlistid);\r\n  }\r\n\r\n  async delPlaylist(userid: string, playlistid: string): Promise<any> {\r\n    return this.getTextFromApi('delPlaylist?userid='+userid+'&playlistid='+playlistid);\r\n  }\r\n\r\n  async deleteComment(msgid: string, userid: string): Promise<any> {\r\n    return this.getTextFromApi('deleteComment?msgid='+msgid+'&userid='+userid);\r\n  }\r\n\r\n  async getRecordingInfo(recordingid: string): Promise<any> {\r\n    return this.getJsonFromApi('getRecordingInfo?recordingid='+recordingid);\r\n  }\r\n\r\n  async getTracklist(recordingid: string): Promise<any> {\r\n    return this.getJsonFromApi('getTracklist?recordingid='+recordingid);\r\n  }\r\n\r\n  async getYoutubeList(id: string, searcharray: string[]): Promise<any> {\r\n    const s = encodeURIComponent(JSON.stringify(searcharray));\r\n    return this.getJsonFromApi('youtube?id='+id+'&searcharray='+s);\r\n  }\r\n\r\n  async getShowIndex(): Promise<any> {   // TODO: define type\r\n    return this.getJsonFromApi('showindex');\r\n  }\r\n\r\n  async getVenueIndex(): Promise<any> {   // TODO: define type\r\n    return this.getJsonFromApi('venueindex');\r\n  }\r\n\r\n  async getLocationIndex(): Promise<any> {   // TODO: define type\r\n    return this.getJsonFromApi('locationindex');\r\n  }\r\n\r\n  async getSongIndex(): Promise<any> {   // TODO: define type\r\n    return this.getJsonFromApi('songindex');\r\n  }\r\n\r\n  connectSocket(nsp: string) {\r\n    fetch(API_URL+'socket')\r\n\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { MatDialog, MatDialogConfig } from '@angular/material/dialog';\nimport { ListDialogComponent } from '../shared/list-dialog.component';\nimport { InputDialogComponent } from '../shared/input-dialog.component';\nimport { DataService } from '../services/data.service';\n\n@Injectable()\nexport class DialogService {\n  constructor(private dialog: MatDialog, private data: DataService) {}\n  \n  async openMultiFunction(title: string, options: string[], funcs: Function[]) {\n    this.open(title, options).subscribe(result => {\n     if (result) {funcs[options.indexOf(result)]() }\n  });\n  }\n  \n  async openSingleFunction(title: string, options: string[], func: (s: string) => any) {\n    this.open(title, options).subscribe(result => func(result));\n  }\n  \n  private open(title: string, options: string[]) {\n    return this.dialog.open(ListDialogComponent,\n      this.getDialogConfig(title, options)).afterClosed();\n  }\n  \n  private getDialogConfig(title: string, items: string[]) {\n    const dialogConfig = new MatDialogConfig();\n    dialogConfig.autoFocus = true;\n    dialogConfig.data = { title: title, items: items };\n    return dialogConfig;\n  }\n\n  \n  async openInputDialog(callback) {\n    const dialogRef = this.dialog.open(InputDialogComponent, {\n      width: '250px',\n      data: {input: ''}\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      callback(result);\n    });\n  }\n\n\n\n}","import { Injectable } from '@angular/core';\nimport { TRACKING } from '../config';\n\ndeclare let gtag:Function;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GoogleAnalyticsService {\n  constructor() { }\n\n  public eventEmitter(eventName: string, eventCategory: string, eventAction: string, eventLabel: string = null, eventValue: number = null ){ \n    if (TRACKING){\n      gtag('event', eventName, { \n              event_category: eventCategory, \n              event_label: eventLabel, \n              event_action: eventAction, \n              value: eventValue\n            })\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Lightbox, LightboxConfig } from 'ngx-lightbox';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LightboxService {\n\n  constructor(private lightbox: Lightbox, private lightboxConfig: LightboxConfig) {\n    lightboxConfig.wrapAround = true;\n    lightboxConfig.showZoom = true;  \n   }\n\n  makeGallery(a) {\n    var carousel = [];\n    var lightboxa = [];\n    a.forEach(function (value, i){\n      var t = value;\n      t['index'] = i;\n      if (!value.thumbnail) t['thumbnail'] = t.image;\n      carousel.push(t);\n      lightboxa.push({\n        src: value.image,\n        caption: value.description\n      });\n    });\n    return [lightboxa, carousel];\n  }\n\n  openLightboxArray(lightboxArray, index: number): void {\n    this.lightbox.open(lightboxArray, index);\n  }\n\n  openLightBoxSingle(a): void {\n    this.lightbox.open([{ src: a.image, caption: a.description, thumb: '' }], 0)\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { GoogleAnalyticsService } from './google-analytics.service';\nimport { DataService } from '../services/data.service';\nimport { DialogService } from '../services/dialog.service';\nimport { logger } from '../globals';\n\nexport interface Track {\n  title: string,\n  uri: string,\n  waveform: string,\n  show_id: string,\n  etree_id: string,\n  recording_id: string,\n  song_id: string,\n  track: string\n}\n\n@Injectable()\nexport class PlayerService {\n  \n  public maxTime: number = 0;\n  public currentTime: number = 0;\n  private currentAudio: HTMLAudioElement;\n  public playlist: Track[] = [];\n  private currentTrackIndex = 0;\n  public muted = false;\n  public paused = true;\n  public playlists = [];\n  public playlistsLoaded = false;\n  \n  constructor(protected googleAnalyticsService: GoogleAnalyticsService, private data: DataService, private dialog: DialogService) {}\n  \n  addToPlaylist(track: Track) {\n    if (this.playlist.length < 100) {\n      this.playlist.push(track);\n      this.storePlaylist();\n      this.googleAnalyticsService.eventEmitter(\"add_to_playlist\", \"audio_player\", \"add_to_playlist\", track.uri);\n    }\n    else {\n      this.dialog.openSingleFunction( 'Playlist is limited to 100 tracks.', [\"ok\"], () => null );\n    }\n  }\n\n  deleteFromPlaylist(i){\n    this.playlist.splice(i, 1);\n    this.storePlaylist();\n  }\n\n  clearPlaylist(){\n    this.playlist = [];\n    this.storePlaylist();\n  }\n  \n  getCurrentTrack() {\n    return this.playlist[this.currentTrackIndex]\n      || {title:\"\", uri:\"\", waveform:\"\"};\n  }\n  \n  skipToTrack(track: Track) {\n    this.skipToTrackAtIndex(this.playlist.indexOf(track));\n  }\n\n  playPause() {\n    if (this.playlist.length > 0){\n      if (this.currentAudio) {\n        if (this.currentAudio.paused) {\n          this.currentAudio.play();\n          this.paused = false;\n        } else {\n          this.currentAudio.pause();\n          this.paused = true;\n        }\n      } else {\n        this.playPlaylist();\n      }\n  }\n  }\n  \n  stop() {\n    if (this.currentAudio) {\n      this.reset();\n      logger('Google Analytics')\n      this.googleAnalyticsService.eventEmitter(\"stop\", \"audio_player\", \"stop\", this.getCurrentTrack().uri);\n    }\n  }\n  \n  setTime(time: number) {\n    if (this.currentAudio && time != Math.floor(this.currentAudio.currentTime)) {\n      this.currentAudio.currentTime = time;\n    }\n  }\n  \n  toggleMute() {\n    this.muted = !this.muted;\n    if (this.currentAudio) {\n      this.currentAudio.muted = this.muted;\n    }\n  }\n  \n  isMuted() {\n    return this.muted;\n  }\n  \n  nextTrack() {\n    if (this.playlist.length) {\n      this.skipToTrackAtIndex((this.currentTrackIndex+1) % this.playlist.length);\n    }\n  }\n  \n  previousTrack() {\n    if (this.playlist.length) {\n      this.skipToTrackAtIndex((this.currentTrackIndex-1) % this.playlist.length);\n    }\n  }\n  \n  private skipToTrackAtIndex(index: number) {\n    this.currentTrackIndex = index;\n    if (this.currentAudio) {\n      this.stop();\n      this.playPause();\n    }\n  }\n  \n  private async playPlaylist() {\n    if (this.currentTrackIndex < this.playlist.length) {\n      logger('Google Analytics')\n      this.googleAnalyticsService.eventEmitter(\"play\", \"audio_player\", \"play\", this.getCurrentTrack().uri);\n      await this.playCurrentTrack();\n      this.currentTrackIndex++;\n      //this.playPlaylist();  // why was this here?\n    } else {\n      this.reset();\n    }\n  }\n  \n  private async playCurrentTrack() {\n    const audio = new Audio(this.playlist[this.currentTrackIndex].uri);\n    audio.muted = this.muted;\n    audio.play();\n    this.paused = false;\n    this.currentAudio = audio;\n    audio.ontimeupdate = () => {\n      this.maxTime = audio.duration;\n      this.currentTime = audio.currentTime;\n    };\n    return new Promise(resolve => audio.onended = resolve);\n  }\n  \n  private reset() {\n    this.currentAudio.ontimeupdate = null;\n    this.currentAudio.pause();\n    this.currentAudio = null;\n    this.currentTime = 0;\n    this.paused = true;\n  }\n\n  volume(v) {\n    if (this.currentAudio) {\n      this.currentAudio.volume = v / 100;\n    }\n  }\n\n  async getPlaylists(userId){\n    var result = await this.data.getPlaylists(userId);\n    if (result[0].playlists){\n      var p = result[0].playlists;\n      p.sort(function(a, b) { return a.timestamp - b.timestamp }).reverse();\n      p.forEach(i => i.timestamp = this.formatTime(new Date(Number(i.timestamp))));\n      this.playlists = p;\n      this.playlistsLoaded = true;      \n    }\n  }\n\n  async deletePlaylist(userid, playlistid){\n    await this.data.delPlaylist(userid, playlistid);\n    this.getPlaylists(userid);\n  }\n  \n  formatTime(d) {\n    function z(n){return (n<10?'0':'')+n}\n    return z(d.getMonth()+1) + '-' + z(d.getDate()) + '-' + (d.getYear()+1900) + ' ' +  d.getHours() + ':' + z(d.getMinutes());\n  }\n\n  storePlaylist(){\n    localStorage.setItem('playlist', btoa(JSON.stringify(this.playlist)));\n  }\n  \n  removePlaylistFromStorage(){\n    localStorage.removeItem('playlist');\n  }\n\n  loadPlaylistFromsStorage(){\n    var p = localStorage.getItem('playlist');\n    if (p) this.playlist = JSON.parse(atob(p));\n  }\n\n}","import { Injectable } from '@angular/core';\nimport * as io from 'socket.io-client';\nimport { WSS_URL} from '../config';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SocketioService {\n  public socket;\n  constructor() {   }\n\n\n  setupSocketConnection() {\n\n    var connectionOptions =  {\n      //\"force new connection\" : true,\n      //\"reconnectionAttempts\": \"Infinity\", //avoid having user reconnect manually in order to prevent dead clients after a server restart\n      //\"timeout\" : 10000,                  //before connect_error and connect_timeout are emitted.\n      \"transports\" : ['websocket'],\n      //path: '/dead/socket.io',\n      //secure: true\n  };\n\n    this.socket = io(WSS_URL, connectionOptions);\n    //this.socket.emit('comment', 'socket comment!');\n    //this.socket.on('my broadcast', (data: string) => {\n    //logger(data);\n    //});\n  }\n\n\n  postAddComment(msg){\n    this.socket.emit('postAddComment', msg);\n  }\n\n  newComment() {\n    return new Observable((observer) => {\n        this.socket.on('addcomment', (msg) => {\n          observer.next(msg);\n          //observer.complete();\n        });\n    });\n  }\n\n postDeleteComment(msg) {\n   this.socket.emit('postDeleteComment', msg);\n } \n\n deleteComment() {\n  return new Observable((observer) => {\n      this.socket.on('deletecomment', (msg) => {\n        observer.next(msg);\n        //observer.complete();\n      });\n  });\n}\n\npostLike(msg) {\n  this.socket.emit('postLike', msg);\n} \n\nlike() {\n return new Observable((observer) => {\n     this.socket.on('like', (msg) => {\n       observer.next(msg);\n       //observer.complete();\n     });\n });\n}\n\n\n  joinRoom(room){\n    this.socket.emit('joinroom', room);\n  }\n\n  leaveRoom(room){\n    this.socket.emit('leaveroom', room);\n  }\n\n\n}\n","export interface DeadEventInfo {\n  id: string,\n  date: string,\n  location: string,\n  state: string,\n  venue: string,\n  recordings: Recording[],\n  artifacts: Artifact[]\n}\n\nexport interface DeadEventDetails {\n  id: string,\n  date: string,\n  location: Location,\n  venue: Venue,\n  setlist: Set[],\n  weather: Weather,\n  news: News[],\n  recordings: Recording[],\n  performers: Artist[],\n  artifacts: Artifact[]\n}\n\nexport enum ArtifactType {\n  Ticket = 'ticket',\n  Poster = 'poster',\n  Pass = 'backstage pass',\n  Photo = 'photo',\n  Envelope = 'envelope',\n  Tshirt = 'T-shirt',\n  Fanart = 'fan art'\n}\n\nexport interface Artifact {\n  type: ArtifactType,\n  thumbnail: string,\n  image: string,\n  description: string,\n  collection: string,\n  source: string\n  index?: number,\n}\n\nexport type Venue = GdEventsObject;\n\nexport interface Location extends GdEventsObject {\n  state: string\n}\n\nexport interface Set {\n  name: string,\n  songs: SongInfo[]\n}\n\nexport interface SongInfo extends GdObject {\n  composedBy: Artist[],\n  lyricsBy: Artist[]\n};\n\nexport interface SongDetails extends SongInfo, GdEventsObject {\n  audio?: AudioTrackMap\n}\n\nexport interface AudioTrackMap {\n  [recordingId: string]: AudioTrack[]\n}\n\nexport interface RecordingDetails extends Recording {\n  info: EtreeInfo\n  tracks: AudioTrack[]\n}\n\nexport interface Recording {\n  id: string,\n  etreeId: string,\n  isSoundboard: boolean\n}\n\nexport interface AudioTrack {\n  filename: string,\n  //format: string,\n  title: string,\n  track: string,\n  id: string\n}\n\nexport interface ArtistDetails extends Artist, GdEventsObject {\n  compositions: SongInfo[]\n}\n\nexport interface Artist extends GdObject {\n  musicbrainzId: string,\n  dbpediaId?: string,\n  instruments?: string[]\n}\n\nexport interface GdEventsObject extends GdObject {\n  eventIds: string[]\n}\n\nexport interface GdObject extends DbpediaObject {\n  id: string,\n  name: string\n}\n\nexport interface DbpediaObject {\n  image?: string,\n  thumbnail?: string,\n  comment?: string,\n  geoloc?: Geolocation\n}\n\nexport interface Geolocation {\n  lat: number,\n  long: number\n}\n\nexport interface Weather {\n  maxTemperature: number,\n  minTemperature: number,\n  precipitation: string,\n  wind: number,\n  windDirection: string,\n  windDirectionIcon: string,\n  condition: string,\n  conditionIcon: string\n}\n\nexport interface News {\n  source: string,\n  title: string,\n  date: string,\n  url: string\n}\n\nexport interface EtreeInfo {\n  tracks: string[],\n  id: string,\n  notes: string,\n  source: string,\n  lineage: string,\n  keywords: string[],\n}\n\nexport interface VenueDetails {\n  name: string,\n  id: string,\n  long: number,\n  lat: number,\n  shows: [],\n  georss: string\n}\n\nexport interface RecordingInfo {\n  date: string,\n  description: string,\n  etree_id: string,\n  lineage: string,\n  location_id: string,\n  location_name: string,\n  notes: string,\n  recording_id: string,\n  show_id: string,\n  source: string,\n  subject: string[],\n  venue_id: string,\n  venue_name: string\n}\n\nexport interface CommentPayload {\n  msgId: string,\n  userId?: number | string,\n  msg: string,\n  timestamp: string,\n  userName: string,\n  userImagePath?: string\n}","<link href=\"https://fonts.googleapis.com/icon?family=Material+Icons\" rel=\"stylesheet\">\n<div *ngIf=\"title\" fxLayout=\"row\" fxLayout.xs=\"column\"\n    [style.background-color]=\"'#ededed'\" [style.background-size]=\"'cover'\"\n    [style.background-position]=\"'center'\" [style.padding]=\"'3px'\">\n  <div class=\"container\" fxLayout=\"column\" fxFlex=\"1 1 auto\">\n    <span>\n        <button mat-button [matMenuTriggerFor]=\"menu\"><img src=\"assets/gd_logo2.png\" height=\"25\"></button>        \n        <mat-menu #menu=\"matMenu\">\n          <!-- <button *ngFor=\"let v of views\" mat-menu-item [routerLink]=\"[v.url]\">{{v.name}}</button> -->\n          <button mat-menu-item routerLink=\"/mapselect\">Concert Map</button>\n          <button mat-menu-item routerLink=\"/profile\" *ngIf=\"userId != 'None'\">Profile Page</button>\n          <button mat-menu-item (click)=\"auth.login()\" *ngIf=\"userId == 'None'\">Log In</button>\n          <button mat-menu-item (click)=\"logout()\" *ngIf=\"userId != 'None'\">Log Out</button>\n          <!--button mat-menu-item (click)=\"auth.logout()\" *ngIf=\"userId\">Log Out</button-->\n          <button mat-menu-item routerLink=\"/index\">Index</button>\n          <button mat-menu-item routerLink=\"/about\">About</button>\n          <button mat-menu-item routerLink=\"/dataprivacy\">Privacy</button>\n        </mat-menu>\n    </span>\n  </div>\n\n\n  <div class=\"container hf1\" fxLayout=\"column\" fxFlex=\"1 1 auto\" [style.padding]=\"'4px'\">\n    <span>\n      {{ title }} {{ subtitle }}\n      <span *ngIf=\"!((router.url == '/about') || (router.url == '/mapselect') || (router.url == '/profile') || \n                      (router.url == '/dataprivacy') || (router.url.startsWith('/playlist')))\">\n        <button *ngIf=\"userId\" mat-icon-button color=\"\" (click)=\"onBookmarkButton()\">\n          <mat-icon>{{bookmarked ? 'bookmark' : 'bookmark_border'}}</mat-icon>\n        </button>\n\n      <!--span *ngIf=\"auth.loggedIn && !((router.url == '/about') || (router.url == '/mapselect') || (router.url == '/profile') || (router.url == '/dataprivacy'))\"-->\n        <button *ngIf=\"userId\" mat-icon-button color=\"\" (click)=\"onLikeButton()\">\n          <mat-icon>{{liked ? 'thumb_up_alt' : 'thumb_up_off_alt'}}</mat-icon>\n        </button>\n        <button *ngIf=\"!userId\" mat-icon-button color=\"\" style=\"pointer-events: none;\">\n          <mat-icon >thumb_up_off_alt</mat-icon>\n        </button>\n        {{likes}}\n      </span>\n     \n\n    </span>\n\n    \n    \n    \n    \n  </div>\n  <!--<div fxFlex=\"5 1 auto\"></div>-->\n  <ng-content></ng-content>\n\n\n  <button mat-button style=\"margin-bottom: 0px;\"><img src=\"/assets/buymeacoffee.png\" height=\"32\" width=\"129\" (click)=\"buyMeACoffee()\"/></button>\n\n  <p *ngIf=\"!searchState\" [style.margin-right]=\"'25px'\"></p>\n  <div *ngIf=\"searchState\" [style.margin-top]=\"'8px'\" [style.margin-right]=\"'5px'\"><mat-spinner diameter=\"20\"></mat-spinner></div>\n  <input [disabled]=\"searchState==1\" #searchfield placeholder=\"Search\" (keydown.enter)=\"onSubmit(searchfield.value)\">\n\n\n  \n \n\n</div>","import { Component, Input, ElementRef, AfterViewInit, ViewChild, Inject, OnDestroy, OnInit } from '@angular/core';\nimport { Title, DomSanitizer, SafeStyle } from '@angular/platform-browser';\n//import { VIEWS } from '../globals';\n//import * as Fuse from 'fuse.js';\nimport { MatDialog, MatDialogConfig } from \"@angular/material/dialog\";\nimport { SearchDialogComponent } from '../shared/search-dialog.component';\nimport { DataService } from '../services/data.service';\nimport { AuthService } from '../auth.service';\nimport { Router } from '@angular/router';\nimport { PlayerService } from '../services/player.service';\n//import { CookieService } from 'ngx-cookie-service';\nimport { SOCKETIO } from '../config';\nimport { SocketioService } from '../services/socketio.service';\nimport { GoogleAnalyticsService } from '../services/google-analytics.service';\nimport { logger } from '../globals';\nimport { BuyMeACoffeeComponent } from '../buymeacoffee/buymeacoffee.component';\n\n//declare var require: any;\n//const searchjson = require(\"../../assets/search.json\");\n\ndeclare let gtag: Function;\n\n@Component({\n  selector: 'gd-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.sass']\n})\nexport class HeaderComponent {\n  \n  \n  @Input() imageUrl: string;\n  @Input() title: string;\n  @Input() subtitle: string;\n  @Input() userId: string;\n  //@ViewChild('input') input: ElementRef;\n  protected image: SafeStyle;\n  //protected views = VIEWS;\n  //protected fuse: any;\n  protected result: any;\n  protected searchState: any;\n  //protected currentUser: any = { userName: '', userId: 'None'};\n  protected bookmarked: boolean;\n  protected liked: boolean;\n  protected likes: number;\n  //protected number_liked: number;\n\n  protected room: string;\n  \n  constructor(private sanitizer: DomSanitizer, private titleService: Title, private dialog: MatDialog, private data: DataService, \n    private router: Router, public auth: AuthService, private player: PlayerService, public socket: SocketioService,\n    protected googleAnalyticsService: GoogleAnalyticsService, public matDialog: MatDialog) {\n\n      \n    }\n  \nngOnInit() {\n\n  this.bookmarked = false;\n  this.liked = false;\n  this.searchState = 0;\n  this.image = this.sanitizer.bypassSecurityTrustStyle('url('+this.imageUrl+')');\n\n  this.room = this.router.url;\n  if (SOCKETIO) {\n    this.socket.joinRoom(this.room);\n\n    this.socket.like().subscribe((msg: number) => {\n      logger(msg);\n      this.countLikes();\n      }, err => {\n        logger(err);\n    });\n  }\n\n\n\n  this.titleService.setTitle('Grateful Live - '+this.title+', '+this.subtitle);\n\n  if (this.userId) {\n    gtag('set', {'user_id': this.userId});\n    if (!( (this.router.url == '/about') || (this.router.url == '/mapselect') || (this.router.url == '/profile') ))\n          { \n            this.checkBookmark();\n            this.checkLike()\n          };\n  }\n  \n  \n  \n  if (!( (this.router.url == '/about') || (this.router.url == '/mapselect') || (this.router.url == '/profile') ))\n    this.countLikes();\n  /*\n    if (this.auth.loggedIn) {\n      this.auth.userProfile$.subscribe(userProfile => {\n        this.currentUser = this.resolve.getUser(userProfile);\n        if (!( (this.router.url == '/about') || (this.router.url == '/mapselect') || (this.router.url == '/profile') ))\n        { this.checkBookmark() };\n      });\n    }\n    */\n  }\n\n  //       else { this.player.removePlaylistFromStorage() }\n\n  logout(){\n    this.auth.logout();\n    this.player.removePlaylistFromStorage();\n  }\n\n  ngOnDestroy(){\n    //this.socket.leaveRoom(this.room);\n  }\n\n  async onSubmit(e){\n    logger(e);\n    this.searchState = 1;\n    var result = await this.data.getSearchResult(e);\n    this.googleAnalyticsService.eventEmitter(\"search\", \"header\", \"search\", e);\n    if (result.length > 0){\n      this.openDialog(result, e)\n    }\n    this.searchState = 0;\n  }\n\n  openDialog(r, s) {\n    var dialogConfig = new MatDialogConfig();\n    dialogConfig.position = { right: '0', top: '0' };\n    dialogConfig.maxHeight = 400;\n    dialogConfig.data = {\n      id: 1,\n      result: r,\n      searchString: s\n     };\n    //dialogConfig.disableClose = true;\n    //dialogConfig.autoFocus = true;\n    this.dialog.open(SearchDialogComponent, dialogConfig);\n  }\n\n  async onBookmarkButton(){\n    if (this.bookmarked == false){\n      await this.data.addBookmark(this.userId, this.router.url, new Date().getTime(), this.title+' '+this.subtitle);\n    } else {\n      await this.data.delBookmark(this.userId, this.router.url);\n    }\n    this.checkBookmark();\n  }\n\n  async checkBookmark(){\n    var b = await this.data.checkBookmark(this.userId, this.router.url);\n    this.bookmarked = Boolean(JSON.parse(b));\n    logger(\"bookmark: \"+this.bookmarked)\n  }\n\n  async onLikeButton(){\n    if (this.liked == false){\n      await this.data.like(this.userId, this.router.url, new Date().getTime(), this.title+' '+this.subtitle);\n    } else {\n      await this.data.unlike(this.userId, this.router.url);\n    }\n    this.checkLike(true);\n    \n  }\n\n  async checkLike(click=false){\n    var b = await this.data.checkLike(this.userId, this.router.url);\n    this.liked = Boolean(JSON.parse(b));\n    this.countLikes();\n    if (SOCKETIO && click) this.socket.postLike({ room: this.router.url, msg: 1 });\n    logger(\"like: \"+this.liked)\n  }\n\n  async countLikes(){\n    this.likes  = await this.data.countLikes(this.router.url);\n    logger(\"likes: \"+this.likes);\n  }\n\n  buyMeACoffee() {\n    const dialogConfig = new MatDialogConfig();\n    //dialogConfig.disableClose = true;\n    //dialogConfig.id = \"modal-component\";\n    dialogConfig.autoFocus = false;\n    dialogConfig.height = '550px';\n    dialogConfig.width = '435px';\n    // https://material.angular.io/components/dialog/overview\n    this.matDialog.open(BuyMeACoffeeComponent, dialogConfig);\n  }\n\n\n\n}\n","<div mat-dialog-content>\n  <p>Save playlist</p>\n  <mat-form-field>\n    <mat-label>Enter name</mat-label>\n    <input matInput [(ngModel)]=\"data.input\" maxlength=\"50\">\n  </mat-form-field>\n</div>\n<div mat-dialog-actions>\n  <button mat-button (click)=\"onCancelClick()\">Cancel</button>\n  <!--button mat-button [mat-dialog-close]=\"data.input\" cdkFocusInitial>Ok</button-->\n  <button mat-button [disabled]=\"data.input.length == 0\" (click)=\"onOkClick(data.input)\">Ok</button> <!--cdkFocusInitial-->\n</div>\n\n\n<!--div mat-dialog-content>\n  <p class=\"mat-dialog-title\" >{{data.title}}</p>\n  <input matInput [(ngModel)]=\"data.input\">\n</div>\n<div mat-dialog-actions>\n  <button mat-button (click)=\"onCancelClick()\">Cancel</button>\n  <button mat-button [mat-dialog-close]=\"data\" cdkFocusInitial>Ok</button>\n</div-->","import { Component, Inject } from '@angular/core';\nimport {MatDialog, MatDialogRef, MAT_DIALOG_DATA} from '@angular/material/dialog';\n\n\nexport interface DialogData {\n  title: string,\n  options: string[],\n  input: string\n}\n\n@Component({\n  selector: 'input-dialog',\n  templateUrl: './input-dialog.component.html'\n})\nexport class InputDialogComponent {\n  constructor(private dialogRef: MatDialogRef<InputDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: DialogData) {}\n\n  onCancelClick(): void {\n    this.dialogRef.close();\n  }\n  \n  onOkClick(input: string): void {\n    this.dialogRef.close(input);\n  }\n}","<!--h1 mat-dialog-title>{{data.title}}</h1-->\n<div mat-dialog-content>\n  <p class=\"mat-dialog-title\" >{{data.title}}</p>\n  <button *ngFor=\"let i of data.items\" (click)=\"onItemClick(i)\"\n    [style.margin-bottom]=\"'5px'\">{{ i }}</button>\n</div>\n<div mat-dialog-actions>\n  <button mat-button (click)=\"onCancelClick()\">Cancel</button>\n  <button mat-button [mat-dialog-close]=\"data\" cdkFocusInitial>Ok</button>\n</div>","import { Component, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\n\nexport interface DialogData {\n  title: string,\n  options: string[],\n  items: any\n}\n\n@Component({\n  selector: 'list-dialog',\n  templateUrl: './list-dialog.component.html'\n})\nexport class ListDialogComponent {\n  constructor(private dialogRef: MatDialogRef<ListDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: DialogData) {}\n\n  onCancelClick(): void {\n    this.dialogRef.close();\n  }\n  \n  onItemClick(item: string): void {\n    this.dialogRef.close(item);\n  }\n}","<div class=\"map\" leaflet [leafletOptions]=\"options\"></div>","import { Component, Input } from '@angular/core';\nimport { tileLayer, latLng, marker, icon, MapOptions } from 'leaflet';\n\n@Component({\n  selector: 'gd-map',\n  templateUrl: './map.component.html',\n  styleUrls: ['./map.component.sass']\n})\nexport class MapComponent {\n  \n  @Input() latitude: number;\n  @Input() longitude: number;\n  @Input() zoom: number;\n  public options: MapOptions;\n  \n  ngOnInit() {\n    this.options = {\n      layers: [\n        tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\n        //tileLayer('https://a.tiles.mapbox.com/v3/smmaurer.k59p72bl/{z}/{x}/{y}.png',\n          { maxZoom: 17, attribution: '...' }),\n        marker([this.latitude, this.longitude], {\n          icon: icon({\n            iconSize: [ 25, 41 ],\n            iconAnchor: [ 13, 41 ],\n            iconUrl: 'assets/marker-icon-2x.png',\n            //shadowUrl: 'assets/marker-shadow.png'\n          })\n        })\n      ],\n      zoom: this.zoom,\n      center: latLng(this.latitude, this.longitude)\n    };\n  }\n\n}","<div fxLayout=\"column\" [style.height]=\"loaded && !minimized ? '120px' : '20px'\">\n  <img *ngIf=\"player.getCurrentTrack().waveform\" class=\"image\"\n    [lazyLoad]=\"player.getCurrentTrack().waveform\" [style.height]=\"'100px'\"\n    [class.flashy]=\"loaded\" (load)=\"loaded = true\" [hidden]=\"minimized\" class=\"waveform\">\n  <input type=\"range\" min=\"0\" max=\"{{player.maxTime}}\"\n    [(ngModel)]=\"player.currentTime\" (ngModelChange)=\"player.setTime($event)\"/>\n</div>\n<div fxLayout=\"row\" style=\"margin-top: 10px; margin-left: 3px; margin-right: 3px;\">\n  <button mat-flat-button fxFlex (click)=\"player.playPause()\"> \n    <mat-icon *ngIf=\"!player.paused\">pause</mat-icon>\n    <mat-icon *ngIf=\"player.paused\">play_arrow</mat-icon>\n  </button>\n  <!--button mat-flat-button fxFlex (click)=\"player.pause()\">\n    <mat-icon>pause</mat-icon></button-->\n  <button mat-flat-button fxFlex (click)=\"player.stop()\">\n    <mat-icon>stop</mat-icon></button>\n  <button mat-flat-button fxFlex (click)=\"player.previousTrack()\">\n    <mat-icon>skip_previous</mat-icon></button>\n  <button mat-flat-button fxFlex (click)=\"player.nextTrack()\">\n    <mat-icon>skip_next</mat-icon></button>\n  <button mat-flat-button fxFlex (click)=\"player.toggleMute()\">\n    <mat-icon>{{player.muted ? 'volume_up' : 'volume_off'}}</mat-icon></button>\n  <!-- <button mat-flat-button fxFlex (click)=\"addRandomTrack()\">\n    <mat-icon>playlist_add</mat-icon></button> -->\n  <!--button mat-flat-button fxFlex (click)=\"minimized = !minimized-->\n  <button mat-flat-button fxFlex (click)=\"onMinimize()\">\n    <mat-icon>{{minimized ? 'visibility' : 'visibility_off'}}</mat-icon></button>\n  <mat-slider type=\"range\" min=\"0\" max=\"100\" value=\"100\" step=\"1\" (input)=\"volumeChange($event.value)\"></mat-slider>\n\n  <button *ngIf=\"currentUser.userId && (!player.playlists || player.playlists.length==0)\" mat-flat-button disabled=true style=\"color: rgb(194, 192, 192)\" fxFlex>\n    load\n  </button>\n  <button *ngIf=\"currentUser.userId && (!player.playlists || player.playlists.length>0)\"mat-flat-button fxFlex (click)=\"onLoadPlaylist()\">\n    load\n  </button>\n  <button *ngIf=\"currentUser.userId && player.playlist.length==0\" mat-flat-button disabled=true style=\"color: rgb(194, 192, 192)\" fxFlex>\n    save\n  </button>\n  <button *ngIf=\"currentUser.userId && player.playlist.length>0\" mat-flat-button fxFlex (click)=\"onSavePlaylist()\">\n    save\n  </button>\n  <button *ngIf=\"currentUser.userId && player.playlist.length==0\" mat-flat-button disabled=true style=\"color: rgb(194, 192, 192)\" fxFlex>\n    clear\n  </button>\n  <button *ngIf=\"player.playlist.length>0\" mat-flat-button fxFlex (click)=\"onClearPlaylist()\">\n    clear\n  </button>\n\n</div>\n\n<div fxLayout=\"column\">\n\n  <div class=\"playlist\" *ngFor=\"let s of player.playlist; index as i\" [hidden]=\"minimized && s !== player.getCurrentTrack()\" style=\"text-align:left; margin-left: 3px;\">\n    <span [style.color]=\"s === player.getCurrentTrack() ? '#3d3d3d' : 'grey'\" (click)=\"player.skipToTrack(s)\">\n      {{s.track + '. ' + s.title + ' [' + s.etree_id + ']'}} \n    </span>\n    <span style=\"float:right; margin-right: 3px;\">\n      <button [matMenuTriggerFor]=\"menu\">>></button>        \n        <mat-menu #menu=\"matMenu\">\n          <button *ngIf=\"s.song_id\" (click)=\"router.navigate(['/song', s.song_id])\">song</button>\n          <button *ngIf=\"s.show_id\" (click)=\"router.navigate(['/show', s.show_id])\">show</button>\n          <button *ngIf=\"s.recording_id\" (click)=\"router.navigate(['/recording', s.recording_id])\">recording</button>\n        </mat-menu>\n        <button (click)=\"delTrack(i)\">X</button>\n    </span>\n  </div>\n\n</div>","import { Component } from '@angular/core';\nimport { PlayerService } from '../services/player.service';\nimport { DataService } from '../services/data.service';\nimport { DialogService } from '../services/dialog.service';\nimport { AuthService } from '../auth.service';\nimport { Router } from '@angular/router';\n// import { CookieService } from 'ngx-cookie-service';\nimport { GoogleAnalyticsService } from '../services/google-analytics.service';\nimport { logger } from '../globals';\n\ndeclare let gtag: Function;\n\n@Component({\n  selector: 'gd-player',\n  templateUrl: './player.component.html',\n  styleUrls: ['./player.component.sass']\n})\nexport class PlayerComponent {\n  public currentUser: any = { userName: '', userId: 'None' };\n  public loaded = false;\n  public minimized = false;\n  constructor(public player: PlayerService, private data: DataService, private dialog: DialogService, public auth: AuthService, \n              public router: Router, protected googleAnalyticsService: GoogleAnalyticsService) {} //, private cookieService: CookieService) {}\n  \n  ngOnInit() {\n    //if (!this.cookieService.get('auth0.is.authenticated')) { \n    //  this.player.removePlaylistFromStorage() ;\n    //};\n    \n    //if (this.currentUser.userId != '') gtag('set', {'user_id': this.currentUser.userId});\n    this.auth.userProfile$.subscribe(userProfile => {\n      if (userProfile){\n        this.currentUser = {\n          userId: userProfile.sub.split(\"|\")[1],\n          userName: userProfile['http://example.com/username']\n        }\n        gtag('set', {'user_id': this.currentUser.userId});\n        this.player.getPlaylists(this.currentUser.userId);\n      }\n      if (!this.router.url.startsWith('/playlist')) {\n        this.player.loadPlaylistFromsStorage();\n      };\n      \n    });\n\n    \n    \n  }\n\n  async addRandomTrack() {\n    this.player.addToPlaylist(await this.data.getRandomTrack());\n  }\n\n  volumeChange(v){\n    this.player.volume(v);\n  }\n\n  async onClearPlaylist(){\n    this.player.stop();\n    this.player.clearPlaylist();\n    this.minimized = true;\n    this.googleAnalyticsService.eventEmitter(\"clear_playlist\", \"audio_player\", \"clear_playlist\");\n  }\n\n  async delTrack(i){\n    this.player.deleteFromPlaylist(i);\n  }\n\n  async onSavePlaylist() {\n    this.dialog.openInputDialog(name => {\n      if (name) { \n        this.savePlaylist(name);\n      }\n    });\n  }\n\n  async onLoadPlaylist() {\n    this.loadPlaylist()\n  }\n\n  async savePlaylist(name){\n    logger('saving playlist');\n    const id = this.makeid();\n    await this.data.addPlaylist(name, this.player.playlist, id, this.currentUser.userId, new Date().getTime());\n    await this.player.getPlaylists(this.currentUser.userId);\n    this.googleAnalyticsService.eventEmitter(\"save_playlist\", \"audio_player\", \"save_playlist\", name);\n  }\n\n  onMinimize(){\n    this.minimized = !this.minimized;\n    this.googleAnalyticsService.eventEmitter(\"minimize\", \"audio_player\", \"minimize\", ''+this.minimized);\n  }\n/*\n\nprotected openOptionsDialog(event: DeadEventInfo) {\n    this.dialog.openMultiFunction(\n      this.song.name+\"', \"+event.venue+\", \"+event.date,\n      [\"Add to playlist\", \"Go to show\"],\n      [() => this.openRecordingsDialog(event),\n        () => this.router.navigate(['/show', event.id])]\n    );\n  }\n\n  private openRecordingsDialog(event: DeadEventInfo) {\n    this.dialog.openSingleFunction(\n      \"Recordings of '\"+this.song.name+\"', \"+event.venue+\", \"+event.date,\n      event.recordings.map(r => r.etreeId),\n      r => this.addRecordingToPlaylist(r, event)\n    );\n  }\n  */\n \n  private loadPlaylist() {\n    logger('load playlist');\n    this.dialog.openMultiFunction(\n      'Your current playlist will be lost',\n      this.player.playlists.map(r => r.name),\n      this.player.playlists.map(r => () => {\n        this.player.playlist = [...r.playlist];\n        this.player.storePlaylist();\n        this.googleAnalyticsService.eventEmitter(\"load_playlist\", \"audio_player\", \"load_playlist\", r.name);\n      })\n    );\n    \n  }\n\n  private makeid() {\n    var result           = '';\n    var characters       = 'abcdef0123456789';\n    var charactersLength = characters.length;\n    for ( var i = 0; i < 24; i++ ) {\n       result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n    return result;\n }\n}\n","<div class=\"left\">  <b>{{searchString}}</b></div>\n\n<div class=\"type\" *ngIf=\"result.song.length != 0\">Songs:</div>\n<div class=\"result\" *ngFor=\"let r of result.song, let i = index\">\n  <span style=\"cursor:pointer\" [routerLink]=\"['/song', r[1]]\"> {{r[0]}}</span>\n</div>\n\n<div class=\"type\" *ngIf=\"result.venue.length != 0\">Venues:</div>\n<div class=\"result\" *ngFor=\"let r of result.venue, let i = index\">\n  <span style=\"cursor:pointer\" [routerLink]=\"['/venue', r[1]]\"> {{r[0]}}</span>\n</div>\n\n<div class=\"type\" *ngIf=\"result.show.length != 0\">Shows:</div>\n<div class=\"result\" *ngFor=\"let r of result.show, let i = index\">\n  <span style=\"cursor:pointer\" [routerLink]=\"['/show', r[1]]\"> {{r[0]}}</span>\n</div>\n\n\n\n\n\n\n","import { Component, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { logger } from '../globals';\n\n\nexport interface DialogData {\n  title: string,\n  options: string[]\n}\n\n@Component({\n  selector: 'search-dialog',\n  templateUrl: './search-dialog.component.html',\n  styleUrls: ['./search-dialog.component.sass']\n})\nexport class SearchDialogComponent {\n\n  result: any;\n  searchString: string;\n\n  constructor(private dialogRef: MatDialogRef<SearchDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) data ) {\n      //this.result = data.result; //this.sortItems(data.result);\n      this.result = this.sortItems(data.result);\n      this.searchString = data.searchString;\n    }\n\n  onCancelClick(): void {\n    this.dialogRef.close();\n  }\n  \n  onItemClick(item: string): void {\n    this.dialogRef.close(item);\n  }\n\n  sortItems(r){\n    var s = { 'show': [], 'venue': [], 'song': [] };\n    r.forEach( i => {\n      s[i.type].push([i.title, i.uri])\n    })\n    Object.keys(s).forEach(k => {\n      s[k].sort();\n    })\n    logger(s)\n    return s\n  }\n}","\n<p [style.margin-bottom]=\"'5px'\"></p>\n<share-buttons [theme]=\"'default'\"\n [include]=\"['facebook','twitter','pinterest','reddit','tumblr','mix','copy']\"\n [show]=\"7\"\n [size]=\"-4\"\n [title]=\"'Grateful Dead Concert Explorer'\"\n [tags]=\"'GratefulDeadExplorer,GratefulDead'\"\n></share-buttons>\n<p [style.margin-bottom]=\"'5px'\"></p>","import { Component } from '@angular/core';\n\n\n@Component({\n  selector: 'gd-sharebuttons',\n  templateUrl: './sharebuttons.component.html',\n  styleUrls: ['sharebuttons.component.sass']\n})\nexport class ShareButtonsComponent {\n\n  \n  ngOnInit() {\n  }\n\n}","<style>\n.loader {\n  -webkit-animation: spin 1s linear infinite;\n          animation: spin 1s linear infinite;\n  border: 3px solid #ddd;\n  border-top: 3px solid #42a5f5;\n  border-radius: 50%;\n  height: 75px;\n  width: 75px;\n}\n\n@-webkit-keyframes spin {\n  to {\n    border-top-color: #ec407a;\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes spin {\n  to {\n    border-top-color: #ec407a;\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n\n}\n</style>\n\n<div *ngIf=\"!loaded\" class=\"wait\">\n  <div class=\"loader\"></div>\n</div>\n\n<div *ngIf=\"!loaded\" class=\"wait\"><img src=\"/assets/bearsanimated.webp\" width=\"160\"></div>\n<div *ngIf=\"!timeOut && !loaded\" class=\"wait\">connecting to database</div>\n<div *ngIf=\"timeOut && !loaded\" class=\"wait\">loading seems to take a while! retrying...</div>\n\n<div id=\"maploaded\" [style.visibility]=\"!loaded ? 'hidden' : 'visible' \">\n  <div class=\"center\">\n    <select [(ngModel)]=\"selectedTour\" (ngModelChange)=\"tourChanged($event)\">\n        <option *ngFor=\"let l of layerNames\" ngValue=\"{{l}}\"> {{l}}</option>\n    </select>\n  </div>\n  <div id=\"MapContainer\" \n    leaflet\n    [leafletOptions]=\"mapOptions\"\n    (leafletMapReady)=\"onMapReady($event)\">\n  </div>\n</div> \n\n\n","import { Component, Input } from '@angular/core';\nimport { VenueDetails } from '../services/types';\nimport { DataService } from '../services/data.service';\nimport { DomSanitizer, SafeStyle } from '@angular/platform-browser';\n//import * as Fuse from 'fuse.js'; // imported in angular.json\nimport * as _ from 'lodash';\nimport { GoogleAnalyticsService } from '../services/google-analytics.service';\nimport { logger } from '../globals';\n\n\ndeclare const L: any;\nimport 'leaflet';\nimport '../../leaflet-fusesearch/src/leaflet.fusesearch.js'\nimport 'leaflet-polylinedecorator'\n\n\n@Component({\n  selector: 'gd-showmap',\n  templateUrl: './showmap.component.html',\n  styleUrls: ['./showmap.component.sass']\n})\n\n\nexport class ShowMapComponent {\n  @Input() zoom: number;\n  //@Input() venues: VenueDetails[];\n  protected venues: VenueDetails[];\n  public mapOptions: L.MapOptions;\n  protected map: L.Map;\n  protected selectLayers: {};\n  public layerNames: string[];\n  protected searchCtrl: any;\n  protected geoJsons: {};\n  protected currentLayer: string;\n  public selectedTour: string;\n  protected tourLine: any;\n  protected lineDecorator: any;\n  public loaded: boolean;\n  public timeOut: boolean;\n  \n\n  constructor(protected data: DataService, private sanitizer: DomSanitizer, protected googleAnalyticsService: GoogleAnalyticsService) {}\n\n\n  ngOnInit() {\n    this.loaded = false;\n    this.timeOut = false;\n    this.selectLayers = {};\n    this.layerNames = [];\n    this.geoJsons = {};\n      this.mapOptions = {\n        layers: [\n          //L.tileLayer('https://a.tiles.mapbox.com/v3/villeda.c4c63d13/{z}/{x}/{y}.png',\n          L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\n          //L.tileLayer('https://a.tiles.mapbox.com/v3/smmaurer.k59p4an0/{z}/{x}/{y}.png',\n          //L.tileLayer('https://a.tiles.mapbox.com/v3/smmaurer.k59p72bl/{z}/{x}/{y}.png',\n          //L.tileLayer('https://a.tiles.mapbox.com/v3/smmaurer.k59p92aj/{z}/{x}/{y}.png',\n          //L.tileLayer('https://a.tiles.mapbox.com/v3/aj.03e9e12d/{z}/{x}/{y}.png',\n\n            { maxZoom: 18, attribution: '...' })],\n        zoom: this.zoom,\n        center: L.latLng(45, -70)\n      };\n    \n     \n  }\n\n\n  async onMapReady(map: L.Map) {\n    setTimeout(() => {\n      this.timeOut = true;\n    }, 35000);\n    //this.document.getElementById(\"maploaded\").style.visibility = \"hidden\";\n    this.map = map\n    let i = 0;\n    while (this.venues == undefined || this.venues.length == 0) {    // retry heroku fetch\n      logger(\"retry \" + i);\n      this.venues = await this.data.getVenueCoordinates();\n      logger(this.venues)\n      i++;\n    }\n    var tours = await this.data.getTourCoordinates();\n    logger(tours)\n    var geoJsonData = this.getGeoJson(this.venues);\n    var tourGeoJsonData = this.getTourJson(tours);\n    var all = this.groupLayers(geoJsonData);\n    this.geoJsons['all shows'] = geoJsonData;\n    this.selectLayers['all shows'] = all;\n    this.layerNames.push('all shows')\n    this.selectLayers['all shows'].addTo(this.map)\n    this.currentLayer = 'all shows';\n\n    tourGeoJsonData.forEach(t =>{\n      this.selectLayers[t[0]] = this.groupLayers(t[1]);\n      this.geoJsons[t[0]] = t[1];\n      this.geoJsons[t[0]].sort(this.dateSort())\n      this.layerNames.push(t[0]); \n    })\n    this.searchCtrl = L.control.fuseSearch({'showResultFct': function(feature, container) {\n      var props = feature.properties;\n      if (props.dates != '') {    // workaround for result list after first click on search button\n        var name = L.DomUtil.create('span', null, container);\n        name.innerHTML = props.name;\n        //container.appendChild(L.DomUtil.create('br', null, container));\n        //container.appendChild(document.createTextNode(props.dates));\n    }\n  }})\n    this.searchCtrl.indexFeatures(geoJsonData, ['name', 'dates']); \n    this.searchCtrl.addTo(this.map);\n    this.searchCtrl.indexFeatures(this.geoJsons['all shows'], ['name', 'dates']); \n    this.selectedTour = 'all shows';\n    this.loaded = true;\n    this.fitZoom();\n   \n  }\n\n  \n  dateStrings(s) {\n    if (s != undefined){\n      var htmlstring = '<br>';\n      var datestring = '';\n      var dates = s.map(e => [e.date, e.id])\n      dates.sort()\n      dates.forEach(e => {\n        htmlstring += '<a style=\"color: black;\" href=\"/#/show/' + e[1] + `\" onclick=\"gtag('event', 'click_date', {'event_category': 'map_select', 'event_label': ` + `'`+e[1]+`'` + '});\">' + e[0] + '</a><br>' ;\n        datestring += e[0] + ' '\n      });\n    return [datestring, htmlstring];\n  }}\n\n  onEachFeature(feature, layer) {\n    \n    if (feature.properties && feature.properties.popupContent) {\n      layer.bindPopup(feature.properties.popupContent, { maxHeight: 160 }).bindTooltip(feature.properties.name);\n\n      layer.on('mouseover', e => {\n        var mytooltip = layer.getTooltip();\n        if (layer.isPopupOpen()){\n          mytooltip.setOpacity(0.0);\n        }\n        else {\n          mytooltip.setOpacity(0.9);\n        } \n      });\n\n      layer.on('click', e => {\n        var mytooltip = layer.getTooltip();\n        mytooltip.setOpacity(0.0);\n        this.googleAnalyticsService.eventEmitter(\"click_marker\", \"map_select\", \"click_marker\", mytooltip._content);\n      });\n    }\n    \n    feature.layer = layer;\n  }\n\n  getGeoJson(shows){\n    var geoJsonData = [];\n    var latlongs = [];\n\n    shows.forEach(v => {\n      if (v.long != undefined) {\n        var lat = parseFloat(v.lat);\n        var long = parseFloat(v.long);\n        while (this.searchForArray(latlongs,[lat, long]) != -1){  // prevent markers in same place\n          lat += 0.001;\n        }\n        latlongs.push([lat, long])   \n        var ds = this.dateStrings(v.shows);\n        var datestring = ds[0];\n        var venuehtml = ds[1];\n        if (v.georss == 'city'){ venuehtml += '(marker for city only)' };\n        var geojsonFeature = {\n          'type': 'Feature',\n          'properties': {\n            'name': v.name,\n            'dates': datestring,\n            'popupContent': '<b><a style=\"color: black;\" href=\"/#/venue/' + v.id + `\" onclick=\"gtag('event', 'click_venue', {'event_category': 'map_select', 'event_label': ` + `'`+v.id+`'` + '});\">' + v.name + '</a></b>' + venuehtml \n          },\n          'geometry': {\n            'type': 'Point',\n            'coordinates': [lat, long]\n          } };\n          geoJsonData.push(geojsonFeature);\n      }});\n      return geoJsonData;\n  }\n\n groupLayers(g){\n    var l = [];\n    var myIcon = L.icon({\n      iconUrl: 'assets/dead_marker_small_shadow.png',\n      iconSize: [null, 35],\n      iconAnchor: [12, 34],\n      popupAnchor: [-3, -32],\n    });\n    g.forEach(v => {\n      var g = L.geoJSON(v, {\n        onEachFeature: this.onEachFeature.bind(this),\n        pointToLayer: function (feature, latlng) {\n          return L.marker(latlng, {icon: myIcon, riseOnHover: true});\n        } })\n      l.push(g)\n    });\n    var lg = L.layerGroup(l);\n    return (lg)\n  }\n\n\n  getTourJson(t){\n    var tours = []\n    Object.keys(t).forEach(tour => {\n      var geoJsonData = [];\n      var latlongs = [];\n      Object.keys(t[tour]).forEach(venue => {\n        var venue_id = t[tour][venue].id;\n        var long = parseFloat(t[tour][venue].long);\n        var lat = parseFloat(t[tour][venue].lat);\n        while (this.searchForArray(latlongs,[lat, long]) != -1){  // prevent markers in same place\n          lat += 0.001;\n        }\n        latlongs.push([lat, long])     \n        var shows = []\n        t[tour][venue].shows.forEach(show => shows.push(show));\n        var ds = this.dateStrings(shows);\n        var datestring = ds[0];\n        var venuehtml = ds[1];\n        if (t[tour][venue].georss == 'city'){ venuehtml += '(marker for city only)' };   // todo: make work!\n        var geojsonFeature = {\n          'type': 'Feature',\n          'properties': {\n            'name': venue,\n            'tour': tour,\n            'dates': datestring,\n            'popupContent': '<b><a style=\"color: black; \"href=\"/#/venue/' + venue_id + '\">' + venue + '</a></b>' + venuehtml // removed #/ url\n          },\n          'geometry': {\n            'type': 'Point',\n            'coordinates': [lat, long]\n          } };\n        geoJsonData.push(geojsonFeature);\n      });\n     if (geoJsonData.length > 0) {\n        tours.push([tour, geoJsonData])\n      } });\n    return tours;\n  }\n\n\n  tourChanged(e){\n    if (this.tourLine != undefined) {this.map.removeLayer(this.tourLine) }\n    if (this.lineDecorator != undefined) {this.map.removeLayer(this.lineDecorator) }\n    this.map.removeLayer(this.selectLayers[this.currentLayer])\n    this.selectLayers[e].addTo(this.map)\n    this.searchCtrl.indexFeatures(this.geoJsons[e], ['name', 'dates']); \n    this.currentLayer = e;\n    if (e != 'all shows' && this.geoJsons[e].length > 1){\n      this.googleAnalyticsService.eventEmitter(\"select_tour\", \"map_select\", \"select_tour\", e);\n      this.connectTheDots(this.geoJsons[e]);\n    }\n    this.fitZoom();\n  }\n\n\n  fitZoom(){\n    var group = new L.featureGroup;\n    this.map.eachLayer(l => { if (l['feature'] != undefined){ group.addLayer(l) } });\n    this.map.fitBounds(group.getBounds());\n    if (this.map.getZoom() > 10) { this.map.setZoom(10) }\n  }\n\n\n  connectTheDots(e){\n    var c = [];\n    e.forEach( i => c.push(_.clone(i.geometry.coordinates).reverse()));\n    this.tourLine = L.polyline(c, {color: '#1D3A87', weight: 3}).addTo(this.map);\n    logger(this.tourLine)\n    this.lineDecorator = L.polylineDecorator(this.tourLine, {\n    patterns: [\n      {offset: '0%', repeat: 40, symbol: L.Symbol.arrowHead(\n        {pixelSize: 9, polygon: false, pathOptions: {weight: 3, color: '#1D3A87', stroke: true}})\n      } ] }).addTo(this.map);\n  }\n\n\n  dateSort() {\n    return function (a,b) {\n      var result = (a.properties.dates < b.properties.dates) ? -1 : (a.properties.dates > b.properties.dates) ? 1 : 0;\n      return result;\n    }\n  }\n\n\n  searchForArray(haystack, needle){\n    var i, j, current;\n    for(i = 0; i < haystack.length; ++i){\n      if(needle.length === haystack[i].length){\n        current = haystack[i];\n        for(j = 0; j < needle.length && needle[j] === current[j]; ++j);\n        if(j === needle.length)\n          return i;\n      }\n    }\n    return -1;\n  }\n\n}","<div fxLayout=\"column\" class=\"gd-container\">\n  <div *ngFor=\"let e of events | paginate: { itemsPerPage: 10, currentPage: p }\" fxLayout=\"row\" fxLayoutAlign=\" center\">\n    <img fxLayout=\"column\" class=\"image field\" fxFlex=\"1 1 15%\"\n      [style.width]=\"'80px'\" [style.height]=\"'60px'\"\n      [defaultImage]=\"'assets/gd_placeholder.png'\"\n      [lazyLoad]=\"e.artifacts[0] ? e.artifacts[0].thumbnail || e.artifacts[0].image: null\"\n      [style.object-fit]=\"'cover'\"\n      [routerLink]=\"['/show', e.id]\" matTooltip=\"go to show\" class='link'>>\n      <div fxLayout=\"column\" fxFlex=\"1 1 10%\" fxLayoutAlign=\"center\"\n      [ngStyle.xs]=\"{'font-size': '80%'}\" class=\"field\"\n        [routerLink]=\"['/show', e.id]\" matTooltip=\"go to show\" class='link'>\n        {{ e.date }}\n      </div>\n      <div fxLayout=\"column\" fxFlex=\"1 1 25%\" fxLayoutAlign=\"center\"\n      [ngStyle.xs]=\"{'font-size': '80%'}\" class=\"field\"\n        [routerLink]=\"['/show', e.id]\" matTooltip=\"go to venue\" class='link'>\n        {{ e.venue }} \n      </div>\n      <span class=\"field\"\n        [routerLink]=\"['/show', e.id]\" matTooltip=\"go to location\" class='link'>\n      {{ e.location }}\n    </span>\n    <button *ngIf=\"onOptions\" mat-icon-button fxLayout=\"column\" class=\"field\" fxFlex=\"1 1 10%\"\n      (click)=\"onOptions(e)\" matTooltip=\"show options\"><mat-icon>more_horiz</mat-icon>\n    </button>\n\n\n    <!--\n    <div fxLayout=\"column\" fxFlex=\"1 1 25%\" fxLayoutAlign=\"center\"\n        [ngStyle.xs]=\"{'font-size': '80%'}\" class=\"field\"\n        [routerLink]=\"['/show', e.id]\">\n      {{ e.date }}\n    </div>\n    <div fxLayout=\"column\" fxFlex=\"1 1 30%\" fxLayoutAlign=\"center\"\n        [ngStyle.xs]=\"{'font-size': '80%'}\" class=\"field\"\n        [routerLink]=\"['/show', e.id]\">\n      {{ e.venue }}\n    </div>\n    <div fxLayout=\"column\" fxFlex=\"1 1 20%\" fxLayoutAlign=\"center\"\n        [ngStyle.xs]=\"{'font-size': '80%'}\" class=\"field\"\n        [routerLink]=\"['/show', e.id]\">\n      {{ e.location }}\n    </div>\n    <button mat-icon-button fxLayout=\"column\" class=\"field\" fxFlex=\"1 1 10%\"\n      (click)=\"onOptions(e)\"><mat-icon>more_horiz</mat-icon>\n    </button>\n    -->\n  </div>\n  <div *ngIf=\"pages > 1\">\n    <pagination-controls (pageChange)=\"p = $event\"></pagination-controls>  \n\n    <input type=\"text\" [formControl]=\"pageNum\" (keypress)=\"keyPress($event)\" (keyup.enter)=\"goToPage(pageNum)\" style=\"width: 25px;\">\n    <button (click)=\"goToPage(pageNum)\" style=\"width: 100px;\">go to page</button>\n  </div>\n</div>\n<p [style.margin-bottom]=\"'75px'\"></p>","import { Component, Input, SimpleChanges } from '@angular/core';\nimport { DataService } from '../services/data.service';\nimport { DeadEventInfo } from '../services/types';\nimport { FormControl } from '@angular/forms';\n\n@Component({\n  selector: 'gd-shows',\n  templateUrl: './shows.component.html',\n  styleUrls: ['./shows.component.sass']\n})\nexport class ShowsComponent {\n  @Input() eventIds: string[];\n  @Input() onOptions: (s: DeadEventInfo) => any;\n  public events: DeadEventInfo[];\n  public p: number = 1;\n  public pageNum = new FormControl('');\n  public pages: number;\n  \n  constructor(private data: DataService) {}\n  \n  ngOnInit() {\n    //this.events = await this.data.getEventInfos(this.eventIds);\n    //this.pages = Math.ceil(this.events.length/10)\n  }\n\n  async refresh() {\n    this.events = await this.data.getEventInfos(this.eventIds);\n    this.pages = Math.ceil(this.events.length/10)\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    for (const propName in changes) {\n      if (changes.hasOwnProperty(propName)) {\n        switch (propName) {\n          case 'eventIds': {\n            this.refresh();\n          }\n        }\n      }\n    }\n  }\n\n  goToPage(n){\n    var no = parseInt(n.value);\n    if (no > this.pages) no = this.pages;\n    this.p = no;\n  }\n\n  keyPress(evt){\n    var charCode = (evt.which) ? evt.which : evt.keyCode\n    if (charCode > 31 && (charCode < 48 || charCode > 57))\n        return false;\n    return true;\n}\n}\n","\n  <div fxLayout=\"row\" >\n      \n    <div fxLayout=\"column\" fxFlex fxLayoutAlign=\"center center\" [style.font-size]=\"'150%'\"[style.padding]=\"'4px'\">\n      <i class=\"wi wc {{ weather.conditionIcon }}\"></i>\n    </div>\n    <div fxLayout=\"column\" fxFlex fxLayoutAlign=\"center center\" [style.font-size]=\"'150%'\">\n      <i class=\"wi wc wpadleft {{ weather.windDirectionIcon }}\"></i>\n    </div>\n    <div fxLayout=\"column\" class=\"wf wc wpadleft wpadright\" fxFlex fxLayoutAlign=\"center center\" >\n        {{ weather.maxTemperature }}°F\n      </div>\n  </div>\n  <!--\n  <div fxLayout=\"column\" fxFlex fxLayoutAlign=\"center\" [style.padding-left]=\"'30px'\">\n    <span *ngIf=\"weather.condition\">\n      <b>{{ weather.condition }}</b>\n    </span>\n    max. temperature: {{ weather.maxTemperature }} °F<br>\n    precipitation: {{ weather.precipitation }} in<br>\n    wind: {{ weather.wind }} mph\n  </div>\n-->","import { Component, Input } from '@angular/core';\nimport { Weather } from '../services/types';\n\n@Component({\n  selector: 'gd-weather',\n  templateUrl: './weather.component.html',\n  styleUrls: ['./weather.component.sass']\n})\nexport class WeatherComponent {\n  @Input() weather: Weather;\n}\n","<youtube-player videoId=\"{{ videoId }}\" width=\"{{ width }}\"></youtube-player>\n","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n  //template: '<youtube-player videoId=\"PRQCAL_RMVo\"></youtube-player>',\n  templateUrl: './youtube.component.html',\n  selector: 'gd-youtube',\n})\n\nexport class YoutubeComponent implements OnInit {\n  @Input() videoId: string;\n  @Input() width: string;\n\n  ngOnInit() {\n    //this.videoId = 'PRQCAL_RMVo';\n    // This code loads the IFrame Player API code asynchronously, according to the instructions at\n    // https://developers.google.com/youtube/iframe_api_reference#Getting_Started\n    const tag = document.createElement('script');\n\n    tag.src = \"https://www.youtube.com/iframe_api\";\n    document.body.appendChild(tag);\n  }\n}\n","<div *ngIf=\"artifacts\" fxLayout=\"column\">\n  <gd-header *ngIf=\"artifacts\" title='Artifacts'\n    [subtitle]='types' imageUrl=\"{{ artifacts[0] }}\" userId='{{ currentUser.userId }}'>\n  </gd-header>\n  <div *ngIf=\"artifacts.length\" class=\"gd-container\" fxLayout=\"row wrap\" fxLayout.xs=\"column\">\n    <div *ngFor=\"let a of artifacts\" class=\"gd-container\" fxLayout=\"column\" fxFlex=\"33\" fxFlex.xs=\"100\">\n      <img class=\"image\" [src]=\"a.thumbnail || a.image\" [style.object-fit]=\"'cover'\" [style.width]=\"'100%'\">\n      {{a.description}}<br>\n      {{a.eventInfo}}<br>\n      {{a.type}} in {{a.collection}} collection\n    </div>\n  </div>\n</div>","import { Component } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { DataService } from '../services/data.service';\nimport { Artifact, ArtifactType } from '../services/types';\nimport { AuthService } from '../auth.service';\nimport { logger } from '../globals';\n\ndeclare let gtag: Function;\n\n@Component({\n  selector: 'gd-artifacts',\n  templateUrl: './artifacts.component.html'\n})\nexport class ArtifactsComponent {\n  \n  public artifacts: Artifact[];\n  protected types: ArtifactType[];\n  protected currentUser: any = { userName: '', userId: 'None'};\n  \n  constructor(protected data: DataService, private route: ActivatedRoute, public auth: AuthService) {\n\n   \n  }\n  \n  async ngOnInit() {\n    this.auth.userProfile$.subscribe(userProfile => {\n      if (userProfile){\n        this.currentUser = {\n          userId: userProfile.sub.split(\"|\")[1],\n          userName: userProfile['http://example.com/username']\n        }\n        gtag('set', {'user_id': this.currentUser.userId});\n      }\n      \n    });\n    /*\n    if (this.route.snapshot.data['loggedIn']) {\n      this.auth.userProfile$.subscribe(userProfile => {\n        this.currentUser = this.resolve.getUser(userProfile);\n      });\n      logger(this.currentUser);\n    }\n    */\n\n    this.route.paramMap.subscribe(async params => {\n      if (params.has('id')) {\n        //show fullscreen artifact\n      } else if (params.has('types')) {\n        this.types = JSON.parse(params.get('types'));\n        this.artifacts = await this.data.getRandomArtifacts(this.types, 6);\n      } else {\n        this.artifacts = await this.data.getRandomArtifacts(null, 6);\n        logger(this.artifacts)\n      }\n    });\n  }\n}\n","<div *ngIf=\"artist\" fxLayout=\"column\">\n  <gd-header *ngIf=\"artist\" title=\"{{ artist.name }}\"\n    subtitle=\"{{ artist.instruments.join(', ').split('_').join(' ') }}\" userId='{{ currentUser.userId }}'>\n  </gd-header>\n  \n  <div class=\"gd-container\" fxLayout=\"row\" fxLayout.xs=\"column\">\n    <img *ngIf=\"artist.thumbnail\" class=\"image gd-container\"\n      [defaultImage]=\"'assets/gd_placeholder.png'\"\n      [lazyLoad]=\"artist.thumbnail\" [style.object-fit]=\"'contain'\"\n      fxFlex=\"50\">\n    <div class=\"gd-container\" fxFlex=\"50\">\n      {{ artist.comment }}\n    </div>\n  </div>\n  \n  <p class=\"gd-section\">Songs composed by {{artist.name}}:</p>\n  \n  <div class=\"gd-container\" fxLayout=\"column\">\n    <div class=\"gd-container\" fxLayout=\"column\">\n      <div *ngFor=\"let song of artist.compositions\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\n        <span [routerLink]=\"['/song', song.id]\">{{ song.name }}</span>\n\n      </div>\n    </div>\n  </div>\n  \n  <p *ngIf=\"artist.eventIds.length\" class=\"gd-section\">{{artist.name}} played with the Dead on:</p>\n  \n  <gd-shows [eventIds]=\"artist.eventIds\"></gd-shows>\n  \n  <gd-comments [userName]=\"currentUser.userName\" [currentUserId]=\"currentUser.userId\" [title]=\"artist.name+', '+artist.instruments.join(', ').split('_').join(' ')\"></gd-comments>\n  <br>\n  <gd-sharebuttons></gd-sharebuttons>\n</div>\n<p [style.margin-bottom]=\"'75px'\"></p>\n","import { Component } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ArtistDetails } from '../services/types';\nimport { DataService } from '../services/data.service';\nimport { AuthService } from '../auth.service';\nimport { APIResolver } from '../auth.resolve';\n\ndeclare let gtag: Function;\n\n@Component({\n  selector: 'gd-artist',\n  templateUrl: './artist.component.html',\n})\nexport class ArtistComponent {\n  \n  public artist: ArtistDetails;\n  public currentUser: any = { userName: '', userId: 'None' };\n\n  constructor(private data: DataService, private router: Router,\n    private route: ActivatedRoute, public auth: AuthService, public resolve: APIResolver) {\n\n      \n    }\n\n  async ngOnInit() {\n    this.auth.userProfile$.subscribe(userProfile => {\n      if (userProfile){\n        this.currentUser = {\n          userId: userProfile.sub.split(\"|\")[1],\n          userName: userProfile['http://example.com/username']\n        }\n        gtag('set', {'user_id': this.currentUser.userId});\n      }\n    });\n\n    /*\n    if (this.route.snapshot.data['loggedIn']) {\n      this.auth.userProfile$.subscribe(userProfile => {\n        this.currentUser = this.resolve.getUser(userProfile);\n      });\n      loggerthis.currentUser);\n    }\n    */\n\n    this.route.paramMap.subscribe(async params => {\n      if (params.has('id')) {\n        this.artist = await this.data.getArtistDetails(params.get('id'));\n      }\n      else {\n        this.router.navigate(['/mapselect'], { replaceUrl: true });\n      }\n\n      if (params.has('id') && !this.artist.name) {\n        this.router.navigate(['/mapselect'], { replaceUrl: true });\n      }\n\n    });\n    /* // not working\n    if (!this.artist) {\n      this.router.navigate(['/artist', (await this.data.getRandomArtistId())],\n        { replaceUrl: true });\n    }\n    */\n  }\n\n}\n","\n\n<gd-header style=\"position: fixed; width: 100%\" title=\"Index\" userId='{{ currentUser.userId }}'></gd-header>\n\n<p [style.margin-bottom]=\"'50px'\"></p>\n    <div class=\"topmargin\">\n    <button mat-flat-button fxFlex [color]=\"selected=='shows' ? 'warn' : 'primary'\" (click)=\"onSelectButton('shows')\">Shows</button>\n    <button mat-flat-button fxFlex [color]=\"selected=='venues' ? 'warn' : 'primary'\" (click)=\"onSelectButton('venues')\">Venues</button>\n    <button mat-flat-button fxFlex [color]=\"selected=='locations' ? 'warn' : 'primary'\" (click)=\"onSelectButton('locations')\">Locations</button>\n    <button mat-flat-button fxFlex [color]=\"selected=='songs' ? 'warn' : 'primary'\" (click)=\"onSelectButton('songs')\">Songs</button>\n    </div>\n\n\n    <div *ngIf=\"selected=='venues'\">\n        <div *ngFor=\"let v of venues\" >\n            <span [routerLink]=\"['/venue', v.venueId]\" style=\"cursor:pointer\">\n            {{ v.venueName }} ({{ v.locationName }})\n        </span>\n        </div>\n    </div>\n\n\n    <div *ngIf=\"selected=='locations'\">\n        <div *ngFor=\"let l of locations\" >\n            <span [routerLink]=\"['/location', l.locationId]\" style=\"cursor:pointer\">\n            {{ l.locationName }} ({{ l.country }})\n        </span>\n        </div>\n    </div>\n\n\n\n\n    <div *ngIf=\"selected=='songs'\">\n        <div *ngFor=\"let s of songs\" >\n            <span [routerLink]=\"['/song', s.songId]\" style=\"cursor:pointer\">\n            {{ s.songName }}\n        </span>\n        </div>\n    </div>\n\n\n\n    <div *ngIf=\"selected=='shows'\">\n        <div *ngFor=\"let s of shows\" >\n            <span [routerLink]=\"['/show', s.showId]\" style=\"cursor:pointer\">\n            {{ s.date }} {{ s.venueName }}, {{ s.locationName }}\n        </span>\n        </div>\n    </div>\n\n\n<p [style.margin-bottom]=\"'150px'\"></p>","import { Component, OnInit } from '@angular/core';\nimport { DataService } from '../services/data.service';\nimport { AuthService } from '../auth.service';\n\n\ndeclare let gtag: Function;\n\n@Component({\n  selector: 'app-index',\n  templateUrl: './index.component.html',\n  styleUrls: ['./index.component.sass']\n})\nexport class IndexComponent implements OnInit {\n\n  public selected: String;\n  public shows: any;\n  public venues: any;\n  public locations: any;\n  public songs: any;\n  public test: string;\n  public currentUser: any = { userName: '', userId: 'None' };\n\n  constructor(private data: DataService, public auth: AuthService) { }\n\n  ngOnInit() {\n\n    this.auth.userProfile$.subscribe(userProfile => {\n      if (userProfile){\n        this.currentUser = {\n          userId: userProfile.sub.split(\"|\")[1],\n          userName: userProfile['http://example.com/username']\n        }\n        gtag('set', {'user_id': this.currentUser.userId});\n      }\n    });\n    \n    this.selected = 'shows';\n    this.onSelectButton('shows');\n  }\n\n  public onSelectButton(s) {\n    this.selected = s;\n    switch(s) {\n      case 'shows':\n        this.getShows();\n        break;\n      case 'venues':\n        this.getVenues();\n        break;\n      case 'locations':\n        this.getLocations();\n        break;\n      case 'songs':\n        this.getSongs();\n    }\n  }\n\n  protected async getShows(){\n    this.shows = await this.data.getShowIndex();\n  }\n\n  protected async getVenues(){\n    this.venues = await this.data.getVenueIndex();\n  }\n\n  protected async getLocations(){\n    this.locations = await this.data.getLocationIndex();\n  }\n\n  protected async getSongs(){\n    this.songs = await this.data.getSongIndex();\n  }\n\n}\n","<div *ngIf=\"location\" fxLayout=\"column\">\n  <gd-header *ngIf=\"location\" title='{{ location.name }}'\n    subtitle='{{ location.state }}' imageUrl=\"{{ location.image }}\" userId='{{ currentUser.userId }}'>\n  </gd-header>\n  <div class=\"container\" fxLayout=\"row wrap\" fxLayout.xs=\"column\" fxFlex=\"100\">\n    <div class=\"gd-container\" fxLayout=\"column\" fxFlex=\"1 1 33%\" fxFlex.sm=\"1 1 50%\">\n      <p *ngIf=\"data.event\">The Band played on {{ data.event.date }}</p>\n      <p>{{ location.comment }}</p>\n    </div>\n    <div class=\"gd-container\" fxLayout=\"column\" fxFlex=\"1 1 33%\" fxFlex.sm=\"1 1 50%\">\n      <img class=\"image\" [defaultImage]=\"'assets/gd_placeholder.png'\" [lazyLoad]=\"location.thumbnail\" fxFlex=\"1 1 auto\">\n    </div>\n    <div class=\"gd-container\" fxLayout=\"column\" fxFlex=\"1 1 33%\" fxFlex.sm=\"1 1 100%\">\n      <gd-map fxFlex=\"1 1 auto\" [style.height]=\"'100%'\" zoom=\"15\"\n        latitude=\"{{ location.geoloc.lat }}\" longitude=\"{{ location.geoloc.long }}\"></gd-map>\n    </div>\n  </div>\n\n  \n  <div *ngIf=\"videos\">\n    <div class=\"gd-container\" fxLayout=\"column\" fxFlex=\"50\">\n      <gd-youtube videoId=\"{{ currentVideoId }}\" width=\"100%\"></gd-youtube>\n      <ng-select bindLabel=\"title\"\n                 [clearable]=\"false\"\n                 (change)=\"selectVideo()\"\n                 [searchable]=\"false\"\n                 [(ngModel)]=\"currentVideoId\">         \n        <ng-option [value]=\"v.videoId\" *ngFor=\"let v of videos\">\n            <img src=\"{{v.thumbnail}}\" height=\"40px\"/>\n            {{v.title}}\n        </ng-option>\n      </ng-select>\n    </div>\n  </div>\n\n  \n  <p class=\"gd-section\">All shows in {{ location.name }}:</p>\n  \n  <gd-shows [eventIds]=\"location.eventIds\" [onOptions]=\"openOptionsDialog.bind(this)\"></gd-shows>\n  <gd-comments [userName]=\"currentUser.userName\" [currentUserId]=\"currentUser.userId\" [title]=\"location.name+', '+location.state\"></gd-comments>\n  <br>\n  <gd-sharebuttons></gd-sharebuttons>\n</div>\n<p [style.margin-bottom]=\"'75px'\"></p>","import { Component } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { DataService } from '../services/data.service';\nimport { Location } from '../services/types';\nimport { AuthService } from '../auth.service';\nimport { DeadEventInfo } from '../services/types';\nimport { DialogService } from '../services/dialog.service';\nimport { GoogleAnalyticsService } from '../services/google-analytics.service';\nimport { logger } from '../globals';\n\n\ndeclare let gtag: Function;\n\n@Component({\n  selector: 'gd-location',\n  templateUrl: './location.component.html'//,\n  //styleUrls: ['./location.component.sass']\n})\nexport class LocationComponent {\n  public location: Location;\n  public currentUser: any = { userName: '', userId: 'None' };\n  public videos: any;\n  public currentVideoId: string;\n  protected currentVideoIndex: number = 0;\n  \n  constructor(protected data: DataService, private router: Router,\n    private route: ActivatedRoute, public auth: AuthService, private dialog: DialogService,\n    protected googleAnalyticsService: GoogleAnalyticsService) {\n\n      \n\n    }\n\n    ngOnInit() {\n      this.auth.userProfile$.subscribe(userProfile => {\n        if (userProfile){\n          this.currentUser = {\n            userId: userProfile.sub.split(\"|\")[1],\n            userName: userProfile['http://example.com/username']\n          }\n          gtag('set', {'user_id': this.currentUser.userId});\n        }\n      });\n      /*\n      if (this.route.snapshot.data['loggedIn']) {\n        this.auth.userProfile$.subscribe(userProfile => {\n          this.currentUser = this.resolve.getUser(userProfile);\n        });\n        logger(this.currentUser);\n      } */\n   \n    this.route.paramMap.subscribe(async params => {\n      if (params.has('id')) {\n        this.location = await this.data.getLocation(params.get('id'));\n      }\n      else {\n        this.router.navigate(['/mapselect'], { replaceUrl: true });\n      }\n\n\n      if (params.has('id') && this.location.state) {\n        this.videos = await this.data.getYoutubeList(this.location.id, ['Grateful Dead', this.location.name]);\n        if (this.videos) this.currentVideoId = this.videos[0].videoId;\n        logger(this.videos);\n        }\n      else {\n        this.router.navigate(['/mapselect'], { replaceUrl: true });\n      }\n    });\n  }\n\n  protected openOptionsDialog(event: DeadEventInfo) {\n    this.dialog.openMultiFunction(\n      event.venue+\", \"+event.date,\n      [\"Go to show\", \"Go to recording\"],\n      [() => this.router.navigate(['/show', event.id]),\n        () => this.openRecordingsDialog(event)]\n    );\n  }\n\n  private openRecordingsDialog(event: DeadEventInfo) {\n    this.dialog.openMultiFunction(\n      \"Recordings of '\"+event.venue+\", \"+event.date,\n      event.recordings.map(r => r.etreeId),\n      event.recordings.map(r => () => this.router.navigate(['/recording', r.id]) )\n    );\n  }\n\n  selectVideo(){\n    this.videos.forEach((v, i) => {\n      if (v.videoId === this.currentVideoId){\n        this.currentVideoIndex = i\n      }\n    })\n   this.googleAnalyticsService.eventEmitter(\"youtube select\", \"youtube\", ''+this.currentVideoIndex+' ('+this.currentVideoId+')', this.router.url);\n  }\n\n}\n","\n<div fxLayout=\"column\">\n\n<!-- \n<div *ngIf=\"venues\" class=\"gd-container\" fxLayout=\"column\" fxFlex=\"1 1 100%\" fxFlex.sm=\"1 1 100%\"> \n  <gd-showmap [venues]=\"venues\" fxFlex=\"1 1 auto\" [style.height]=\"'100%'\" zoom=\"2.5\"></gd-showmap>\n</div>\n-->\n<gd-header title='Map' subtitle=\"Selector\" userId='{{ currentUser.userId }}'></gd-header>\n \n<div class=\"gd-container\" fxLayout=\"row\" fxFlex=\"1 1 100%\" fxFlex.sm=\"1 1 80%\"> \n  \n    <gd-showmap style=\"z-index:0;\" fxFlex=\"1 1 auto\" [style.height]=\"'100%'\" zoom=\"2.5\">\n      \n    </gd-showmap>\n  </div>\n  <gd-sharebuttons style=\"position:fixed; bottom: 75px; right: 20px;\"></gd-sharebuttons>\n</div>","import { Component } from '@angular/core';\nimport { DataService } from '../services/data.service';\nimport { DomSanitizer, SafeStyle } from '@angular/platform-browser';\nimport { VenueDetails } from '../services/types';\nimport { AuthService } from '../auth.service';\n\n\ndeclare let gtag: Function;\n\n@Component({\n  selector: 'gd-mapselect',\n  templateUrl: './mapselect.component.html',\n  //styleUrls: ['./mapselect.component.sass']\n})\n\nexport class MapSelectComponent {\n  public currentUser: any = { userName: '', userId: 'None' };\n  protected venues: VenueDetails[];\n  protected test: number;\n\n  constructor(private data: DataService, private sanitizer: DomSanitizer,\n  public auth: AuthService) {\n\n    \n\n  }\n\n  ngOnInit() {\n    this.auth.userProfile$.subscribe(userProfile => {\n      if (userProfile){\n        this.currentUser = {\n          userId: userProfile.sub.split(\"|\")[1],\n          userName: userProfile['http://example.com/username']\n        }\n        gtag('set', {'user_id': this.currentUser.userId});\n      }\n    });\n    /*\n    if (this.route.snapshot.data['loggedIn']) {\n      this.auth.userProfile$.subscribe(userProfile => {\n        this.currentUser = this.resolve.getUser(userProfile);\n      });\n      loggerthis.currentUser);\n    }\n    */\n\n\n    //this.venues = await this.data.getVenueCoordinates();\n    //logger(this.venues);\n\n\n\n\n  }\n\n\n\n}\n","<div *ngIf=\"playlist\" fxLayout=\"column\">\n  <gd-header title='Playlist '\n    subtitle=' – \"{{ playlist.name }}\"' userId='{{ currentUser.userId }}'>\n  </gd-header>\n\n  <div><br></div>\n    the playlist \"{{ playlist.name }}\" has been loaded in the audio player:\n    <div><br></div>\n    <div *ngFor=\"let t of playlist.playlist; index as i\">\n        <small>{{i+1}}. {{ t.title }}</small>\n    </div>\n\n\n</div>","import { Component } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { DataService } from '../services/data.service';\nimport { PlayerService } from '../services/player.service';\nimport { AuthService } from '../auth.service';\nimport { logger } from '../globals';\n\n\ndeclare let gtag: Function;\n\n@Component({\n  selector: 'gd-playlist',\n  templateUrl: './playlist.component.html'\n})\nexport class PlaylistComponent {\n\n  public currentUser: any = { userName: '', userId: 'None' };\n  public playlist: any;\n  public shareUsername: string;\n  protected playlistId: string;\n\n  constructor(private data: DataService,  private router: Router, private route: ActivatedRoute,\n    private player: PlayerService, public auth: AuthService) {}\n\n    async ngOnInit() {\n\n      this.auth.userProfile$.subscribe(userProfile => {\n        if (userProfile){\n          this.currentUser = {\n            userId: userProfile.sub.split(\"|\")[1],\n            userName: userProfile['http://example.com/username']\n          }\n          gtag('set', {'user_id': this.currentUser.userId});\n        }\n      });\n\n      this.route.paramMap.subscribe(async params => {\n        if (params.has('id')) {\n          this.getPlaylist(params.get('id'));\n        }\n      });\n\n    }\n\n    async getPlaylist(playlistId){\n      //playlistId = '6181aba048dc0b94d09e8664';\n      const res = await this.data.getPlaylist(playlistId);\n      this.playlist = res.playlists[0];\n      logger(this.playlist);\n      this.player.playlist = [...this.playlist.playlist];\n      this.player.storePlaylist();\n    }\n  }","<!--div *ngIf=\"recording && event\" fxLayout=\"column\">\n  <gd-header *ngIf=\"recording && event\" title='{{ recording.etreeId }}'\n    subtitle='{{ event.location }}'>\n  </gd-header>\n\n  <div *ngIf=\"recording\" class=\"gd-container\" fxLayout=\"column\" class=\"topmargin\" >\n    <div fxLayout=\"column\" fxFlex class=\"gd-container\">\n      <ng-container *ngIf=\"event\">\n        Recorded at: {{ event.venue }}, {{ event.location }}, {{ event.state }}, {{ event.date }}<br></ng-container>\n      <ng-container *ngIf=\"recording.info.lineage\">\n        Lineage: {{ recording.info.lineage }}<br></ng-container>\n      <ng-container *ngIf=\"recording.info.source\">\n        Source: {{ recording.info.source }}<br></ng-container>\n      <ng-container *ngIf=\"recording.info.notes\">\n        Notes: {{ recording.info.notes }}<br/></ng-container>\n      <ng-container *ngIf=\"recording.info.keywords\">\n        Notes: {{ recording.info.keywords }}<br/></ng-container>\n      <br>\n      <ng-container *ngIf=\"recording.tracks\">\n        Tracks:\n        <div *ngFor=\"let t of recording.tracks\">\n          <span [routerLink]=\"['/song', t.id]\"> {{ t.track }}: {{ t.title }}</span>\n          <button mat-icon-button (click)=\"openTrackOptionsDialog(t)\">\n            <mat-icon>more_horiz</mat-icon>\n          </button>\n        </div><br/>\n      </ng-container-->\n\n<div *ngIf=\"recordinginfo\" fxLayout=\"column\">\n  <gd-header title='{{ recordinginfo.etree_id }}'\n    subtitle=' – {{ recordinginfo.location_name }}' userId='{{ currentUser.userId }}'>\n  </gd-header>\n\n      <div class=\"gd-container\" fxLayout=\"column\" class=\"topmargin\" >\n        <div fxLayout=\"column\" fxFlex class=\"gd-container\">\n          <ng-container>\n            <i>Recorded at:</i> \n            <span class=\"link\" [routerLink]=\"['/venue', recordinginfo.venue_id]\" matTooltip=\"go to venue\">\n              {{ recordinginfo.venue_name }}, </span>\n            <span class=\"link\" [routerLink]=\"['/location', recordinginfo.location_id]\" matTooltip=\"go to location\">\n              {{ recordinginfo.location_name }}, </span>\n            <span class=\"link\" [routerLink]=\"['/show', recordinginfo.show_id]\" matTooltip=\"go to recording\">\n              {{ recordinginfo.date }} </span>\n          </ng-container><div><br></div>\n\n          <ng-container *ngIf=\"recordinginfo.lineage\">\n            <i>Lineage:</i> {{ recordinginfo.lineage }}<div><br></div></ng-container>\n          <ng-container *ngIf=\"recordinginfo.source\">\n            <i>Source:</i> {{ recordinginfo.source }}<div><br></div></ng-container>\n          <ng-container *ngIf=\"recordinginfo.notes\">\n            <i>Notes:</i> {{ recordinginfo.notes }}<div><br></div></ng-container>\n          <ng-container *ngIf=\"recordinginfo.subject\">\n            <i>Subject:</i> {{ _array.isArray(recordinginfo.subject) ? recordinginfo.subject.join(', ') : recordinginfo.subject }}</ng-container><div><br></div>\n          <ng-container *ngIf=\"tracklist\">\n            Tracks:\n            <div *ngFor=\"let t of tracklist\">\n              <span> {{ t.track }}: {{ t.title }}</span>\n              <button mat-icon-button (click)=\"openTrackOptionsDialog(t)\" matTooltip=\"open track options menu\">\n                <mat-icon>more_horiz</mat-icon>\n              </button>\n            </div>\n            <span class=\"link\" (click)=\"addAllToPlaylist()\">add all to playlist</span>\n          </ng-container><div><br></div>\n          \n\n    <a href=\"{{ 'https://archive.org/details/' + recordinginfo.etree_id }}\" target=\"_blank\">\n      <img src=\"https://archive.org/images/glogo.png\" [style.object-fit]=\"'contain'\" matTooltip=\"go to recording at the Internet Archive\"></a>\n     \n    </div>\n  </div>\n  <gd-comments [userName]=\"currentUser.userName\" [currentUserId]=\"currentUser.userId\" [title]=\"recordinginfo.etree_id+', '+recordinginfo.location_name\"></gd-comments>\n  <br>\n  <gd-sharebuttons></gd-sharebuttons>\n</div>\n<p [style.margin-bottom]=\"'75px'\"></p>","import { Component } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { DataService } from '../services/data.service';\nimport { RecordingDetails, DeadEventInfo, AudioTrack, RecordingInfo, Recording } from '../services/types';\nimport { PlayerService } from '../services/player.service';\nimport { DialogService } from '../services/dialog.service';\nimport { AuthService } from '../auth.service';\n\n\ndeclare let gtag: Function;\n\n@Component({\n  selector: 'gd-recording',\n  templateUrl: './recording.component.html'\n})\nexport class RecordingComponent {\n  protected recording: RecordingDetails;\n  protected event: DeadEventInfo;\n  public currentUser: any = { userName: '', userId: 'None' };\n  protected tracklist: any[];\n  public recordinginfo: RecordingInfo;\n  public _array = Array;\n  \n  constructor(protected data: DataService, private router: Router,\n    private route: ActivatedRoute, private dialog: DialogService,\n    private player: PlayerService, public auth: AuthService) {\n\n      \n\n    }\n\n  ngOnInit() {\n    this.auth.userProfile$.subscribe(userProfile => {\n      if (userProfile){\n        this.currentUser = {\n          userId: userProfile.sub.split(\"|\")[1],\n          userName: userProfile['http://example.com/username']\n        }\n        gtag('set', {'user_id': this.currentUser.userId});\n      }\n    });\n    /*\n    if (this.route.snapshot.data['loggedIn']) {\n      this.auth.userProfile$.subscribe(userProfile => {\n        this.currentUser = this.resolve.getUser(userProfile);\n      });\n      loggerthis.currentUser);\n    }\n    */\n    this.route.paramMap.subscribe(async params => {\n      if (params.has('id')) {\n        //this.recording = await this.data.getRecording(params.get('id'));\n        //this.event = await this.data.getEventInfoForRecording(this.recording.id);\n\n        //const rec_id = params.get('id');\n        this.recordinginfo = await this.data.getRecordingInfo(params.get('id'));\n      }\n      else {\n        this.router.navigate(['/mapselect'], { replaceUrl: true });\n      }\n\n\n      if (params.has('id') && this.recordinginfo) {\n        var tracklist = await this.data.getTracklist(params.get('id'));\n        tracklist.forEach(t =>{  // format to Audiotrack, take first song_id for now\n          if (t.song) {\n            t['id'] = t.song[0].song_id;\n            delete t.song;\n          }\n          t.track = t.track.toString();\n        })\n        this.tracklist = tracklist;\n        //logger(this.recordinginfo)\n        //loggerthis.tracklist);\n      }\n      else {\n        this.router.navigate(['/mapselect'], { replaceUrl: true });\n      }\n\n\n      /*\n      if (!this.recording) {\n        this.router.navigate(['/recording', (await this.data.getRandomRecording()).id],\n          { replaceUrl: true });\n      } */\n    });\n  }\n  \n  protected openTrackOptionsDialog(audio: AudioTrack) {    \n    if (audio.id) {\n      this.dialog.openMultiFunction(\n        audio.track + \" \" + audio.title,\n        [\"add to playlist\", \"go to song\"], [() => this.addTrackToPlaylist(audio), \n          () => this.router.navigate(['/song', audio.id])]);\n    }\n    else {\n      this.dialog.openMultiFunction(\n        audio.track + \" \" + audio.title,\n        [\"add to playlist\"], [() => this.addTrackToPlaylist(audio)]);\n    }\n  }\n  \n  \n  /*\n  private async addTrackToPlaylist(audio: AudioTrack) {\n    loggeraudio.id)\n    const info = await this.data.getEventInfo(this.event.id);\n    const track = await this.data.getTrackFromAudio(audio, info, this.recording.etreeId);\n    if (track) this.player.addToPlaylist(track);\n  }\n  */\n\n  private async addTrackToPlaylist(audio: AudioTrack) {\n    const track = this.data.toPlayerTrack(this.recordinginfo.venue_name, \n                                          this.recordinginfo.location_name, \n                                          this.recordinginfo.date, \n                                          this.recordinginfo.show_id,\n                                          this.recordinginfo.etree_id,\n                                          audio,\n                                          this.recordinginfo.recording_id);\n                                          \n    this.player.addToPlaylist(track);\n  }\n\n\n  public addAllToPlaylist() {\n    if (this.tracklist) this.tracklist.forEach(t => this.addTrackToPlaylist(t));\n  }\n\n}\n","<div *ngIf=\"event\" fxLayout=\"column\">\n  <gd-header style=\"position: fixed; width: 100%\" *ngIf=\"event\" title='{{event.location.name}}, {{event.location.state}}' subtitle='{{formatDate}}'\n    imageUrl=\"{{eventImage}}\" userId='{{ currentUser.userId }}'>\n    <gd-weather [weather]=\"event.weather\"></gd-weather>\n  </gd-header>\n  <div class=\"gd-container\" fxLayout=\"row wrap\" fxLayout.xs=\"column\" class=\"topmargin\" >\n    \n    <div class=\"gd-container link\" fxLayout=\"column\" fxFlex=\"50\" [routerLink]=\"['/location', event.location.id]\" matTooltip=\"go to location\">\n      <h2 class=\"titlef\">Location: <span class=\"normweight\">{{ event.location.name }}</span></h2>\n      <img class=\"image\" *ngIf=\"event.location.thumbnail\" [lazyLoad]=\"event.location.thumbnail\" fxFlex=\"1 1 auto\" \n        [style.object-fit]=\"'contain'\">\n    </div>\n    \n    <div class=\"gd-container link\" fxLayout=\"column\" fxFlex=\"50\" [routerLink]=\"['/venue', event.venue.id]\" matTooltip=\"go to venue\">\n      <h2 class=\"titlef\">Venue: <span class=\"normweight\">{{ event.venue.name }}</span></h2>\n      <img class=\"image\" *ngIf=\"event.venue.thumbnail\" [lazyLoad]=\"event.venue.thumbnail\" fxFlex=\"1 1 auto\" \n        [style.object-fit]=\"'contain'\">\n    </div>\n    \n    <div class=\"gd-container\" fxLayout=\"column\" fxFlex=\"50\">\n        <h2 class=\"titlef\">Setlist </h2>\n      <div fxLayout=\"column\" *ngFor=\"let set of event.setlist\">\n        <h3>{{ set.name }}</h3>\n        <!-- <div *ngFor=\"let song of set.songs\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\"> -->\n        <div *ngFor=\"let song of set.songs, let i = index\" fxLayout=\"row\">\n          <span [routerLink]=\"['/song', song.id]\" matTooltip=\"go to song\" class=\"link\">{{( \"0\"+(i+1)).slice(-2) }} {{ song.name }}</span>\n          <button mat-icon-button (click)=\"openSongOptionsDialog(song, set.name, i+1)\" matTooltip=\"song options\">\n            <mat-icon>more_horiz</mat-icon>\n          </button>\n        </div>\n      </div>\n    </div>\n    \n    <div class=\"gd-container\" fxLayout=\"column\" fxFlex=\"50\">\n      <h2 class=\"titlef\">Lineup</h2>\n        <div *ngFor=\"let p of event.performers\" [routerLink]=\"['/artist', p.id]\" matTooltip=\"go to artist\" class=\"link\"> \n          <img class=\"image\" [lazyLoad]=\"p.thumbnail\"\n          [style.width]=\"'70px'\" [style.height]=\"'70px'\"> \n          <span>&nbsp;&nbsp;&nbsp;&nbsp;{{ p.name }} ({{ p.instruments.join(', ') }})</span>\n        </div>\n \n    <!--div fxLayout=\"column\" fxFlex=\"1 1 auto\">\n      <iframe [src]=\"recordingUrls[0]\" [style.min-width]=\"'350px'\" [style.height]=\"'100%'\" frameborder=\"0\"></iframe>\n    </div-->\n    \n  </div>\n  \n  <div class=\"gd-container\" fxLayout=\"column\" fxFlex=\"50\">\n    <h2 class=\"titlef\">News of the week</h2>\n    <div *ngFor=\"let n of event.news\" matTooltip=\"open article\" class=\"link\">\n      <a [href]=\"n.url\" target=\"_blank\" [style.text-decoration]=\"'none'\">\n        {{ n.date+\": \"+n.title+\" (\"+n.source+\")\" }}\n      </a>\n    </div>\n  </div>\n  \n  <div class=\"gd-container\" fxLayout=\"column\" fxFlex=\"50\">\n    <h2 class=\"titlef\">Available recordings</h2>\n    <div *ngFor=\"let r of event.recordings\">\n      <span [routerLink]=\"['/recording', r.id]\" matTooltip=\"go to recording\" class=\"link\">{{ r.etreeId }}</span>\n      <button mat-icon-button (click)=\"openRecordingOptionsDialog(r)\" matTooltip=\"recording options\">\n        <mat-icon>more_horiz</mat-icon>\n      </button>\n    </div>\n  </div>\n  \n\n    <!-- \n  <h2 *ngIf=\"photos.length\" class=\"gd-section\"><span class=\"titlef\">Photos from the show</span></h2>\n  \n  <div *ngIf=\"photos.length\" class=\"gd-container\" fxLayout=\"row wrap\" fxLayout.xs=\"column\">\n    <div *ngFor=\"let s of photos\" class=\"gd-container\" fxLayout=\"column\" fxFlex=\"33\" fxFlex.xs=\"100\">\n      <img style=\"max-width: 200px;\" class=\"image\" [lazyLoad]=\"s\" [style.object-fit]=\"'contain'\">\n    </div>\n  </div>\n-->\n  \n<div *ngIf=\"photos.length>0\">\n  <div class=\"gd-container\" fxLayout=\"column\" fxFlex=\"50\">\n    <h2 class=\"gd-section\"><span class=\"titlef\">Photos</span></h2>\n    <div id=\"galleryContainer\">\n      <div style=\"width: 100%;\"\n        ng2-carouselamos\n        class=\"slides-wrapper\"\n        [items]=\"photos\"\n        [width] = 800\n        [$prev]=\"prev\"\n        [$next]=\"next\"\n        [$item]=\"item\"\n        (onSelectedItem)=\"selectedPhoto = $event.item;\"\n      >\n      </div>\n\n      <ng-template #prev>\n        <img style=\"cursor: pointer;\" *ngIf=\"photos.length>1\" src=\"assets/arrow_left.png\" id=\"left\" height=\"30\" />\n      </ng-template>\n      <ng-template #next>\n        <img style=\"cursor: pointer;\" *ngIf=\"photos.length>1\" src=\"assets/arrow_right.png\" id=\"right\" height=\"30\"/>\n      </ng-template>\n      <ng-template #item let-item let-i=\"index\">\n\n        <div class=\"slide-items\" let>\n          <div *ngVar=\"tilt(i, 'photo') as degVar\">\n          <img src=\"{{ item.thumbnail }}\" (click)=\"onClickPhoto(item);\" height=\"200px\" width=\"auto\"\n            [ngStyle]=\"{'transform': 'rotate(deg'+degVar+')', '-webkit-transform': 'rotate('+degVar+'deg)'}\" class=\"carousel-photo\">\n          <!--div>{{ item.description }}</div>\n          <u><a href=\"{{ item.source }}\" target=\"_blank\">({{ item.collection }})</a></u-->\n          </div>\n        </div>\n    </ng-template>\n    </div>\n    <div *ngIf=\"selectedPhoto\" class=\"photo-text\">\n      <span *ngIf=\"selectedPhoto.description\">{{ selectedPhoto.description }} <br> </span>\n      <a *ngIf=\"selectedPhoto.collection=='GDAO'\" href=\"{{ selectedPhoto.source }}\" target=\"_blank\">\n        <img src=\"https://www.gdao.org/themes/gdao-theme/images/logo-gdao.png\" height=\"50px\" width=\"auto\">\n      </a>\n      <a *ngIf=\"selectedPhoto.collection=='Psilo'\" href=\"https://www.deadstubs.com/\" target=\"_blank\">\n        <img src=\"assets/logo_deadstubs.jpg\" height=\"50px\" width=\"auto\">\n      </a>\n    </div>\n\n    <!--ng-image-slider [images]=\"imageObject\" (imageClick)=\"onClickImage($event)\" #nav></ng-image-slider-->\n  </div>\n  \n</div>\n\n\n<div *ngIf=\"artifacts.length>0\">\n  <div class=\"gd-container\" fxLayout=\"column\" fxFlex=\"50\">\n    <h2 class=\"gd-section\"><span class=\"titlef\">Other Artifacts</span></h2>\n    <div id=\"galleryContainer\">\n      <div style=\"width: 100%;\"\n        ng2-carouselamos\n        class=\"slides-wrapper\"\n        [items]=\"artifacts\"\n        [width] = 800\n        [$prev]=\"prev\"\n        [$next]=\"next\"\n        [$item]=\"item\"\n        (onSelectedItem)=\"selectedArtifact = $event.item;\"\n      >\n      </div>\n\n      <ng-template #prev>\n        <img style=\"cursor: pointer;\" *ngIf=\"artifacts.length>1\" src=\"assets/arrow_left.png\" id=\"left\" height=\"30\" />\n      </ng-template>\n      <ng-template #next>\n        <img style=\"cursor: pointer;\" *ngIf=\"artifacts.length>1\" src=\"assets/arrow_right.png\" id=\"right\" height=\"30\"/>\n      </ng-template>\n      <ng-template #item let-item let-i=\"index\">\n\n      <div class=\"slide-items\" let>\n        <div *ngVar=\"tilt(i, 'artifact') as degVar\">\n        <img src=\"{{ item.thumbnail }}\" (click)=\"onClickArtifact(item);\" height=\"200px\" width=\"auto\"\n          [ngStyle]=\"{'transform': 'rotate(deg'+degVar+')', '-webkit-transform': 'rotate('+degVar+'deg)'}\">\n        <!--div>{{ item.description }}</div>\n        <u><a href=\"{{ item.source }}\" target=\"_blank\">({{ item.collection }})</a></u-->\n        </div>\n      </div>\n    </ng-template>\n    </div>\n    <div *ngIf=\"selectedArtifact\" class=\"photo-text\">\n      {{ currentArtifact.type }} <br>\n      <span *ngIf=\"selectedArtifact.description\">{{ selectedArtifact.description }} <br> </span>\n      <a *ngIf=\"selectedArtifact.collection=='GDAO'\" href=\"{{ selectedArtifact.source }}\" target=\"_blank\">\n        <img src=\"https://www.gdao.org/themes/gdao-theme/images/logo-gdao.png\" height=\"50px\" width=\"auto\" matTooltip=\"go to the Grateful Dead Archive Online\">\n      </a>\n      <a *ngIf=\"selectedArtifact.collection=='Psilo'\" href=\"https://www.deadstubs.com/\" target=\"_blank\">\n        <img src=\"assets/logo_deadstubs.jpg\" height=\"50px\" width=\"auto\" matTooltip=\"go to deadstubs.com\">\n      </a>\n    </div>\n  </div>\n</div>\n\n\n  </div>\n  <gd-comments [userName]=\"currentUser.userName\" [currentUserId]=\"currentUser.userId\" [title]=\"event.location.name+', '+event.location.state+' – '+event.date\"></gd-comments>\n  <br>\n  <gd-sharebuttons></gd-sharebuttons>\n</div>\n<p [style.margin-bottom]=\"'75px'\"></p>","import { Component, ChangeDetectorRef } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { DomSanitizer, SafeStyle } from '@angular/platform-browser';\nimport { DeadEventDetails, Artifact, SongInfo, ArtifactType, Recording, AudioTrack } from '../services/types';\nimport { DataService } from '../services/data.service';\nimport { DialogService } from '../services/dialog.service';\nimport { PlayerService } from '../services/player.service';\nimport { AuthService } from '../auth.service';\nimport { LightboxService } from '../services/lightbox.service';\nimport { logger } from '../globals';\n\ndeclare let gtag: Function;\n\n@Component({\n  selector: 'gd-show',\n  templateUrl: './show.component.html',\n  styleUrls:['./show.component.sass']\n})\nexport class ShowComponent {\n  \n  public event: DeadEventDetails;\n  protected recordingUrls: SafeStyle[];\n  //protected photos: string[];\n  protected photos: Artifact[];\n  protected artifacts: Artifact[];\n  protected eventImage: string;\n  public currentUser: any = { userName: '', userId: 'None' };\n  protected formatDate: string;\n  public photosLightbox: any;\n  public currentArtifact: Artifact;\n  public artifactsLightbox: any;\n  public imageObject: any;\n  protected tilts: Number[];\n  \n  constructor(private data: DataService, private sanitizer: DomSanitizer,\n    private router: Router, private route: ActivatedRoute,\n    private dialog: DialogService, private player: PlayerService, public auth: AuthService, \n    private changeDetectorRef: ChangeDetectorRef, private lightbox: LightboxService) {\n\n    }\n\n    async ngOnInit() {\n      this.auth.userProfile$.subscribe(userProfile => {\n        if (userProfile){\n          this.currentUser = {\n            userId: userProfile.sub.split(\"|\")[1],\n            userName: userProfile['http://example.com/username']\n          }\n          gtag('set', {'user_id': this.currentUser.userId});\n        }\n      });\n\n      /*\n      this.currentUser = { userName: '', userId: ''}\n      if (this.route.snapshot.data['loggedIn']) {\n        this.auth.userProfile$.subscribe(userProfile => {\n          this.currentUser = this.resolve.getUser(userProfile);\n        });\n        logger(this.currentUser);\n      }*/\n      \n    this.route.paramMap.subscribe(async params => {\n      if (params.has('id')) {\n        this.event = await this.data.getEventDetails(params.get('id'));\n      }\n      else {\n        this.router.navigate(['/mapselect'], { replaceUrl: true });\n      }\n\n      if (this.event.date) {\n        this.tilts = this.getTilts();\n        this.formatDate = this.data.formatDate(this.event.date);\n        this.recordingUrls = this.event.recordings.map(r => \n          this.sanitizer.bypassSecurityTrustResourceUrl(\"https://archive.org/embed/\"+r.etreeId+\"&playlist=1\")\n        );\n        logger(this.event)\n        this.photos = this.event.artifacts\n          .filter(a => a.type === ArtifactType.Photo)//.map(a => a.image);\n        this.artifacts = this.event.artifacts.filter(a => a.type !== ArtifactType.Photo);\n        const poster = this.event.artifacts.filter(a => a.type == ArtifactType.Poster)[0];\n        const pass = this.event.artifacts.filter(a => a.type == ArtifactType.Pass)[0];\n        const ticket = this.event.artifacts.filter(a => a.type == ArtifactType.Ticket)[0];\n        this.eventImage = this.photos.length ? this.photos[0].image\n          : poster ? poster.image : pass ? pass.image : ticket ? ticket.image\n          : this.event.location.thumbnail;\n        var gl;\n        if (this.photos.length>0) {\n          gl = this.lightbox.makeGallery(this.photos);\n          this.photosLightbox = gl[0];\n          this.photos = gl[1];\n\n        //this.imageObject = this.lightbox.makeGallery2(this.photos);\n\n        } \n        if (this.artifacts.length) {\n          gl = this.lightbox.makeGallery(this.artifacts);\n          this.artifactsLightbox = gl[0];\n          this.artifacts = gl[1];\n          this.currentArtifact = this.artifacts[0];\n          logger(this.currentArtifact);\n        }\n        this.changeDetectorRef.detectChanges();\n\n        \n        \n\n      } else {\n        //this.router.navigate(['/show', await this.data.getRandomEventId()],\n        this.router.navigate(['/mapselect'], { replaceUrl: true });\n      }\n      \n    });\n  }\n\n\n  private getTilts(){\n    var t = [];\n    for (var i = -30; i <= 30; i++) {\n      t.push(i);\n    }\n\n    const shuffle = arr => \n      [...arr].reduceRight((res,_,__,s) => \n      (res.push(s.splice(0|Math.random()*s.length,1)[0]), res),[]);\n\n    return shuffle(t);\n  }\n\n\n  /*\n  protected openSongOptionsDialog(song: SongInfo, set: string, idx: number) {\n    this.dialog.openMultiFunction(\n      //song.name+\"', \"+this.event.venue.name+\", \"+this.event.date,\n      set + \"/Track \" + idx + \": \" + '\"'+song.name+'\"',\n      [\"add to playlist\", \"go to song\"],\n      [() => this.addSongToPlaylist(song),\n        () => this.router.navigate(['/song', song.id])]\n    );\n  }\n*/\n\n  protected openSongOptionsDialog(song: SongInfo, set: string, idx: number) {\n    this.dialog.openMultiFunction(\n      //song.name+\"', \"+this.event.venue.name+\", \"+this.event.date,\n      set + \"/Track \" + idx + \": \" + '\"'+song.name+'\"',\n      [\"add to playlist\", \"go to song\"],\n      [() => this.openRecordingsDialog(song),\n        () => this.router.navigate(['/song', song.id])]\n    );\n  }\n\n\n  private openRecordingsDialog(song: SongInfo) {\n    this.dialog.openMultiFunction(\n      \"Recordings of '\"+song.name+\"', \"+this.event.venue+\", \"+this.event.date,\n      this.event.recordings.map(r => r.etreeId),\n      this.event.recordings.map(r => () => this.addTrackToPlaylist(song, r.etreeId, r.id))\n    );\n  }\n\n  \n  protected openRecordingOptionsDialog(recording: Recording) {\n    this.dialog.openMultiFunction(\n      \"Recording \"+recording.etreeId,\n      [\"add all to playlist\", \"go to recording\"],\n      [() => this.addRecordingToPlaylist(recording),\n        () => this.router.navigate(['/recording', recording.id])]\n    );\n  }\n  \n  /*\n  private async addSongToPlaylist(song: SongInfo) {\n    const info = await this.data.getEventInfo(this.event.id);\n    const track = await this.data.getTrack(song, info);\n    if (track) this.player.addToPlaylist(track);\n  }\n\n\n private async addSongToPlaylist(song: SongInfo) {\n  const info = await this.data.getEventInfo(this.event.id);\n  const track = await this.data.getTrack(song, info);\n  if (track) this.player.addToPlaylist(track);\n}\n  */\n\n\n\nprivate async addTrackToPlaylist(song: SongInfo, recordingEtreeId: string, recordingId: string) {\n  const eventInfo = { \n    id: this.event.id,\n    date: this.event.date,\n    location: this.event.location.name,\n    state: '',\n    venue: this.event.venue.name,\n    recordings: this.event.recordings,\n    artifacts: null //this.artifacts\n  }\n  var songDetails = await this.data.getSong(song.id);\n  this.data.getTracks(songDetails, eventInfo, recordingEtreeId, recordingId)\n    .forEach(t => this.player.addToPlaylist(t));\n}\n  /*\n  private async addRecordingToPlaylist(recording: Recording) {\n    const info = await this.data.getEventInfo(this.event.id);\n    const tracks = await this.data.getRecordingTracks(recording, info);\n    if (tracks) tracks.forEach(t => this.player.addToPlaylist(t));\n  }\n*/\n\n  private async addRecordingToPlaylist(recording: Recording) {\n    //const info = await this.data.getEventInfo(this.event.id);\n    var tracklist = await this.data.getTracklist(recording.id);\n    tracklist.forEach(t =>{  // format to Audiotrack, take first song_id for now\n      if (t.song) {\n        t['id'] = t.song[0].song_id;\n        delete t.song;\n      }\n      t.track = t.track.toString();\n    })\n    //logger(tracklist)\n    if (tracklist) tracklist.forEach(t => this.addRecordingTrackToPlaylist(t, recording));\n  }\n\n  private async addRecordingTrackToPlaylist(audio: AudioTrack, recording: Recording) {\n    //logger(audio)\n    const track = this.data.toPlayerTrack(this.event.venue.name, \n                                          this.event.location.name, \n                                          this.event.date, \n                                          this.event.id,\n                                          recording.etreeId,\n                                          audio,\n                                          recording.id\n                                          );\n    this.player.addToPlaylist(track);\n  }\n\n\n  onClickArtifact(a){\n    this.lightbox.openLightboxArray(this.artifactsLightbox, a.index)\n  }\n\n  onClickPhoto(p){\n    this.lightbox.openLightboxArray(this.photosLightbox, p.index)\n  }\n\n\n  tilt(i, t){\n    var tl = this.tilts.length;\n    //if (tl > 0) {\n    //  while (i > tl){\n    //    i = i - tl + 1\n    //  }\n    //}  \n    i = (i%tl-1 + tl-1)%tl-1; // wrap index around list length\n\n    if (t == 'artifact') {\n      i = tl - i - 1\n    }\n    return this.tilts[i];\n    \n  }\n\n}\n","<div *ngIf=\"song\" fxLayout=\"column\">\n  <gd-header *ngIf=\"song\" title=\"{{ song.name }}\"\n    subtitle=\"{{ subtitle }}\" userId='{{ currentUser.userId }}'></gd-header>\n  <div fxLayout=\"column\" class=\"gd-container\">\n    \n    <div fxLayout=\"column\" fxFlex class=\"gd-container\">\n      <ng-container *ngIf=\"song.composedBy && song.composedBy.length\">\n        Composed by:\n        <div *ngFor=\"let a of song.composedBy\"\n          [routerLink]=\"['/artist', a.id]\">{{a.name}}</div><br/>\n      </ng-container>\n      <ng-container *ngIf=\"song.lyricsBy && song.lyricsBy.length\">\n        Lyrics by:\n        <div *ngFor=\"let a of song.lyricsBy\"\n          [routerLink]=\"['/artist', a.id]\">{{a.name}}</div><br/>\n      </ng-container>\n      <ng-container *ngIf=\"firstPlayed\">\n        First played on: {{ firstPlayed }}<br/></ng-container>\n      <ng-container *ngIf=\"lastPlayed\">\n        Last played on: {{ lastPlayed }}<br/></ng-container>\n      <ng-container *ngIf=\"timesPlayed\">\n        Number of performances: {{ timesPlayed }}<br/></ng-container>\n      <ng-container *ngIf=\"totalRecordings\">\n        Total number of recordings: {{ totalRecordings }}<br/></ng-container>\n    </div>\n    \n    <p class=\"gd-container\">All performances of {{song.name}}:</p>\n    \n    <gd-shows [eventIds]=\"song.eventIds\" [onOptions]=\"openOptionsDialog.bind(this)\"></gd-shows>\n  </div>\n\n  <div *ngIf=\"videos\">\n    <div class=\"gd-container\" fxLayout=\"column\" fxFlex=\"50\">\n      <gd-youtube videoId=\"{{ currentVideoId }}\" width=\"100%\"></gd-youtube>\n      <ng-select bindLabel=\"title\"\n                 [clearable]=\"false\"\n                 (change)=\"selectVideo()\"\n                 [searchable]=\"false\"\n                 [(ngModel)]=\"currentVideoId\">         \n        <ng-option [value]=\"v.videoId\" *ngFor=\"let v of videos\">\n            <img src=\"{{v.thumbnail}}\" height=\"40px\"/>\n            {{v.title}}\n        </ng-option>\n      </ng-select>\n    </div>\n  </div>\n\n\n\n  <gd-comments [userName]=\"currentUser.userName\" [currentUserId]=\"currentUser.userId\" [title]=\"song.name\"></gd-comments>\n  <br>\n  <gd-sharebuttons></gd-sharebuttons>\n</div>\n<p [style.margin-bottom]=\"'75px'\"></p>","import * as _ from 'lodash';\nimport { Component } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { SongDetails, DeadEventInfo } from '../services/types';\nimport { DataService } from '../services/data.service';\nimport { PlayerService } from '../services/player.service';\nimport { DialogService } from '../services/dialog.service';\nimport { AuthService } from '../auth.service';\nimport { logger } from '../globals';\n\ndeclare let gtag: Function;\n\n@Component({\n  selector: 'gd-song',\n  templateUrl: './song.component.html'\n})\nexport class SongComponent {\n  \n  public song: SongDetails;\n  protected subtitle: string;\n  protected firstPlayed: string;\n  protected lastPlayed: string;\n  protected timesPlayed: number;\n  protected totalRecordings: number;\n  protected events: DeadEventInfo[];\n  public currentUser: any = { userName: '', userId: 'None' };\n  public videos: any;\n  public currentVideoId: string;\n\n  constructor(private data: DataService, private player: PlayerService,\n    private router: Router, private route: ActivatedRoute,\n    private dialog: DialogService, public auth: AuthService) {\n\n      \n\n    }\n\n  async ngOnInit() {\n    this.auth.userProfile$.subscribe(userProfile => {\n      if (userProfile){\n        this.currentUser = {\n          userId: userProfile.sub.split(\"|\")[1],\n          userName: userProfile['http://example.com/username']\n        }\n        gtag('set', {'user_id': this.currentUser.userId});\n      }\n    });\n    /*\n    if (this.route.snapshot.data['loggedIn']) {\n      this.auth.userProfile$.subscribe(userProfile => {\n        this.currentUser = this.resolve.getUser(userProfile);\n      });\n      logger(this.currentUser);\n    }\n    */\n\n    this.route.paramMap.subscribe(async params => {\n      if (params.has('id')) {\n        this.song = await this.data.getSong(params.get('id'));\n      }\n      if (params.has('id') && this.song) {\n\n        this.subtitle = _.uniq(this.song.composedBy.concat(this.song.lyricsBy)\n          .map(a => a.name)).join(', ');\n          \n        this.events = await this.data.getEventInfos(this.song.eventIds);\n        if (this.events.length) {\n          this.firstPlayed = this.events[0].date;\n          this.lastPlayed = this.events[this.events.length-1].date;\n          this.timesPlayed = this.events.length;\n          this.totalRecordings = _.sum(this.events.map(e => e.recordings.length));\n        }\n        \n        this.videos = await this.data.getYoutubeList(this.song.id, ['Grateful Dead', this.song.name]);\n        this.currentVideoId = this.videos[0].videoId;\n        logger(this.videos);\n      }\n      else {\n        this.router.navigate(['/mapselect'], { replaceUrl: true });\n        //this.router.navigate(['/song', (await this.data.getRandomSong()).id], { replaceUrl: true });\n      }\n    });\n  }\n\n  protected openOptionsDialog(event: DeadEventInfo) {\n    this.dialog.openMultiFunction(\n      this.song.name+\"', \"+event.venue+\", \"+event.date,\n      [\"Add to playlist\", \"Go to show\"],\n      [() => this.openRecordingsDialog(event),\n        () => this.router.navigate(['/show', event.id])]\n    );\n  }\n\n  private openRecordingsDialog(event: DeadEventInfo) {\n    this.dialog.openMultiFunction(\n      \"Recordings of '\"+this.song.name+\"', \"+event.venue+\", \"+event.date,\n      event.recordings.map(r => r.etreeId),\n      event.recordings.map(r => () => this.addRecordingToPlaylist(r.etreeId, event, r.id))\n    );\n  }\n\n  private addRecordingToPlaylist(recordingEtreeId: string, event: DeadEventInfo, recordingId: string) {\n    this.data.getTracks(this.song, event, recordingEtreeId, recordingId)\n      .forEach(t => this.player.addToPlaylist(t));\n  }\n\n}\n","<gd-header title='{{ \"About\" }}'\n    subtitle='{{ \"\" }}' userId='{{ currentUser.userId }}'>\n  </gd-header>\n\n<meta charset=\"UTF-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n<link rel=\"stylesheet\" href=\"https://www.w3schools.com/w3css/4/w3.css\">\n<link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css?family=Lato\">\n<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\">\n<style>\ndiv {font-family: \"Lato\", sans-serif; color:rgb(59, 59, 59)}\na.disabled {\n  pointer-events: none;\n  cursor: default;\n}\n</style>\n\n\n<!-- Page content -->\n<div class=\"w3-content\" style=\"max-width:2000px;margin-top:32px\">\n\n  <!-- The Band Section -->\n  <div class=\"w3-container w3-content w3-center w3-padding-16\" style=\"max-width:800px\" id=\"top\">\n    <!-- <h2 class=\"w3-wide\" [routerLink]=\"['/mapselect']\">THE GRATEFUL DEAD CONCERT EXPLORER</h2> -->\n    <img src=\"/assets/gd_logo1_start.png\" class=\"w3-round w3-margin-bottom\" alt=\"grateful dead explorer logo\" style=\"width:65%\" [routerLink]=\"['/mapselect']\">\n    <p style=\"cursor:pointer\" class=\"w3-opacity\"><i><u routerLink=\"/mapselect\">click to enter</u></i></p>\n      </div>\n\n\n      \n  <div class=\"w3-container w3-content w3-center\" style=\"max-width:800px\" id=\"overviewstart\">\n      <p class=\"w3-justify\">\n          The Grateful Dead Concert Explorer is a Web application that enables user to navigate and explore digital libraries of live music recordings and discover and share associated artifacts that are dynamically linked within the application. It aims to demonstrate how Semantic Audio and Linked Data technologies can produce an improved user experience for browsing and exploring live music collections, by collecting information from a variety of different Web sources and employing Music Information Retrieval (MIR) techniques. \n        </p>\n          <p class=\"w3-justify\">\n          This prototype demonstrator focuses on the concerts of the Grateful Dead, motivated by the ongoing interest in detailed descriptions of their performances, evidenced by the large amount of information available on the Web detailing various aspects of those events. The application links the large number of concert recordings by the Grateful Dead available in the Internet Archive with audio analysis data and retrieves additional information and artifacts (e.g. band lineup, photos, scans of tickets and posters, reviews) from existing Web sources, to explore and visualize the collection. The project demonstrates mechanisms for musicians and the music industry to provide services for consumers to enjoy live music performances recognizing the social and cultural value of live music and fan communities.\n      </p>\n      <p class=\"w3-justify\">\n        This is an ongoing project in its early stages and not yet optimzed for mobile devices. \n      </p>\n      <p class=\"w3-justify\">\n        The technologies exploited in this work that were developed in the <a href=\"http://www.semanticaudio.ac.uk/\" target=\"_blank\"><u>EPSRC FAST IMPACt</u></a> project include:\n      </p>\n      <ul class=\"w3-justify\">\n          <li>Ontological data models for the representation of performed music as cultural artifacts, and its linkage to associated non-musical artifacts</li>\n          <li>Music information retrieval and processing algorithms for the automatic generation of playlists and audio mixes based on user-selected criteria</li>\n          <li>Music-structure analysis for the comparison of performances</li>\n          <li>Audio alignment of different user-generated recordings of live-music performances</li>\n      </ul>\n      <p class=\"w3-justify\">\n      The main functions of the current version are described in the following. Clicking on the top left logo opens a menu with links to this start page and the <a routerLink=\".\" fragment=\"mapstart\"><u><i>Map View</i></u></a>.\n    </p>\n  </div>\n\n  <div class=\"w3-container w3-content w3-center w3-padding-32\" style=\"max-width:800px\" id=\"mapstart\">\n      <h3 class=\"w3-wide\">Map View</h3>\n      <img class=\"image w3-round w3-margin-bottom\" lazyLoad=\"/assets/screens/scr_map.png\" alt=\"map view\" style=\"width:90%\">\n      <p class=\"w3-justify\">\n        The <i>Map View</i> shows the world map with markers indicating the locations of concerts. Clicking on a marker opens a menu with links to the pages for the venue (<a routerLink=\".\" fragment=\"venuestart\"><u><i>Venue View</i></u></a>), and to the pages for the concerts at that location (<a routerLink=\".\" fragment=\"showstart\"><u><i>Show View</i></u></a>). While by default all concert locations are displayed, specific tours can be selected from the pull-down menu on the top left. When selecting a tour, only the concerts from the tour are displayed on the map and connected by arrows indicating the order of concerts. The map also has a separate search function covering the concerts on the map.\n      </p>\n  </div>\n\n  <div class=\"w3-container w3-content w3-center w3-padding-32\" style=\"max-width:800px\" id=\"showstart\">\n      <h3 class=\"w3-wide\">Show View</h3>\n      <img class=\"image w3-round w3-margin-bottom\" lazyLoad=\"/assets/screens/scr_show.png\" alt=\"show view\" style=\"width:90%\">\n      <p class=\"w3-justify\">\n        The <i>Show View</i>&nbsp; shows information about a specific concert, including the location, venue, the setlist, the lineup and the additional recordings available in the archive. The button next to the recording IDs opens a dialogue to either go to the <a routerLink=\".\" fragment=\"recordingstart\"><u><i>Recording View</i></u></a>&nbsp; for the selected recording, or add all songs of the concert recording to the playlist of the <a routerLink=\".\" fragment=\"playerstart\"><u>audio player</u></a>. One can navigate to other pages by clicking on any item, for instance, clicking on the venue opens the <a routerLink=\".\" fragment=\"venuestart\"><u><i>Venue View</i></u></a>&nbsp; for the respective venue. Clicking on the button next to a song opens a dialogue to either go to the <a routerLink=\".\" fragment=\"songstart\"><u><i>Song View</i></u></a>&nbsp; or add the song to the playlist of the <a routerLink=\".\" fragment=\"playerstart\"><u>audio player</u></a>. Clicking on photos or other artifacts either opens a higher resolution image or opens the source page at the <a href=\"https://www.gdao.org/\" target=\"_blank\"><u>Grateful Dead Archive Online (GDAO)</u></a> in a new tab.\n      </p>\n  </div>\n\n  <div class=\"w3-container w3-content w3-center w3-padding-32\" style=\"max-width:800px\" id=\"songstart\">\n      <h3 class=\"w3-wide\">Song View</h3>\n      <img class=\"image w3-round w3-margin-bottom\" lazyLoad=\"/assets/screens/scr_song.png\" alt=\"song view\" style=\"width:90%\">\n      <p class=\"w3-justify\">\n        The <i>Song View</i> shows information about a selected song. This includes the composers at the top of the page and the number of performances and recordings available. Clicking on an item in the list of shows opens the <a routerLink=\".\" fragment=\"showstart\"><u><i>Show View</i></u></a>. The button next to the location opens a dialogue which additionally lets the user add the song from the respective show to the playlist of the <a routerLink=\".\" fragment=\"playerstart\"><u>audio player</u></a>. The dialogue shows all available recordings from the selected concert.\n      </p>\n  </div>\n\n  <div class=\"w3-container w3-content w3-center w3-padding-32\" style=\"max-width:800px\" id=\"locationstart\">\n      <h3 class=\"w3-wide\">Location View</h3>\n      <img class=\"image w3-round w3-margin-bottom\" lazyLoad=\"/assets/screens/scr_location.png\" alt=\"location view\" style=\"width:90%\">\n      <p class=\"w3-justify\">\n        The <i>Location View</i> shows information about a city where concerts were held. The list of shows provides links to the <a routerLink=\".\" fragment=\"showstart\"><u><i>Show View</i></u></a>&nbsp; for all shows at that location.\n      </p>\n  </div>\n\n  <div class=\"w3-container w3-content w3-center w3-padding-32\" style=\"max-width:800px\" id=\"venuestart\">\n      <h3 class=\"w3-wide\">Venue View</h3>\n      <img class=\"image w3-round w3-margin-bottom\" lazyLoad=\"/assets/screens/scr_venue.png\" alt=\"venue view\" style=\"width:90%\">\n      <p class=\"w3-justify\">\n          The <i>Venue View</i> shows information about a venue where concerts were held. The list of shows provides links to the <a routerLink=\".\" fragment=\"showstart\"><u><i>Show View</i></u></a>&nbsp; for all shows at that venue.\n      </p>\n  </div>\n\n  <div class=\"w3-container w3-content w3-center w3-padding-32\" style=\"max-width:800px\" id=\"recordingstart\">\n      <h3 class=\"w3-wide\">Recording View</h3>\n      <img class=\"image w3-round w3-margin-bottom\" lazyLoad=\"/assets/screens/scr_recording.png\" alt=\"recording view\" style=\"width:90%\">\n      <p class=\"w3-justify\">\n        The <i>Recording View</i> shows information about a specific recording from the <a href=\"https://archive.org/details/etree\" target=\"_blank\"><u>Live Music Archive</u></a> at the <a href=\"https://archive.org/\" target=\"_blank\"><u>Internet Archive</u></a>. The information includes source and lineage information of the recording, as well as the list of songs. Clicking on the button next to a song opens a dialogue to add the selected song to the playlist of the <a routerLink=\".\" fragment=\"playerstart\"><u>audio player</u></a>. Clicking on the logo under the track list opens the page for the recording at the <a href=\"https://archive.org/\" target=\"_blank\"><u>Internet Archive</u></a> in a new tab.\n      </p>\n  </div>\n\n  <div class=\"w3-container w3-content w3-center w3-padding-32\" style=\"max-width:800px\" id=\"playerstart\">\n      <h3 class=\"w3-wide\">Audio Player</h3>\n      <img class=\"image w3-round w3-margin-bottom\" lazyLoad=\"/assets/screens/scr_player.png\" alt=\"audio player\" style=\"width:90%\">\n      <p class=\"w3-justify\">\n        The audio player at the bottom of the page streams audio directly from the <a href=\"https://archive.org/details/etree\" target=\"_blank\"><u>Live Music Archive</u></a>. Songs can be added to the playlist from the Web application where songs are listed, for instance in the <a routerLink=\".\" fragment=\"showstart\"><u><i>Show View</i></u></a>, <a routerLink=\".\" fragment=\"recordingstart\"><u><i>Recording View</i></u></a>&nbsp; or <a routerLink=\".\" fragment=\"songstart\"><u><i>Song View</i></u></a>. In addition to the standard functions (play, stop, volume, etc.), the button with the eye symbol expands/hides the waveform view and playlist.\n      </p>\n  </div>\n\n  <div class=\"w3-container w3-content w3-center w3-padding-32\" style=\"max-width:800px\" id=\"additionalstart\">\n      <h3 class=\"w3-wide\">Additional Functions</h3>\n      <p class=\"w3-justify\">\n        Not all functions of the demo application are listed here, and there are more functions planned to be implemented in the near future including social media aspects and MIR, e.g. user discussions of concerts and the automatic generation of playlist mixes based on user-defined parameters and audio feature analysis results. \n      </p>\n        <p class=\"w3-justify\">\n          <s>A demo of a an automated mix playing excerpts of recordings of a specified song spanning the career of the Grateful Dead in a seamless mix while retrieving and displaying artifacts in real-time can be found <a class=\"disabled\" href=\"https://grateful-dead-live.github.io/plunderphonics/\" target=\"_blank\"><u><b>here</b></u></a>.</s> &nbsp; <b><i>down for maintenance</i></b>\n      </p>\n      <p class=\"w3-justify\">\n        Here is a demo video of a an automated mix playing excerpts of recordings of a specified song spanning the career of the Grateful Dead in a seamless mix while retrieving and displaying artifacts in real-time:\n      </p>\n      <div style=\"position:relative;padding-top:56.25%;\">\n        <iframe src=\"https://www.youtube.com/embed/M-zvJYRhnL8\" allowfullscreen style=\"position:absolute;top:0;left:0;width:100%;height:100%;\"></iframe>\n      </div>\n  </div>\n\n  <div class=\"w3-container w3-content w3-center w3-padding-16\" style=\"max-width:800px\" id=\"logostart\">\n      <a href=\"https://archive.org\" target=\"_blank\"> <img src=\"https://archive.org/images/glogo.png\" class=\"w3-round w3-margin-right\" alt=\"internet archive logo\" style=\"width:8%\"></a>\n      <a href=\"http://c4dm.eecs.qmul.ac.uk\" target=\"_blank\"> <img src=\"https://sites.google.com/site/mathemusicalconversations/_/rsrc/1396930666900/about/c4dm_qml-logo.jpg\" class=\"w3-round w3-margin-right w3-margin-left\" alt=\"c4dm qmul logo\" style=\"width:18%\"></a>\n      <a href=\"https://epsrc.ukri.org/\" target=\"_blank\"> <img src=\"/assets/epsrc.jpg\" class=\"w3-round w3-margin-right w3-margin-left\" alt=\"epsrc logo\" style=\"width:17%\"></a>\n      <a href=\"https://www.gdao.org\" target=\"_blank\"> <img src=\"https://www.gdao.org/themes/gdao-theme/images/logo-gdao.png\" class=\"w3-round w3-margin-left\" alt=\"gdao logo\" style=\"width:8%\"></a>\n  </div>\n  \n  <div class=\"w3-container w3-content w3-center\" style=\"max-width:800px\" id=\"emailstart\">\n      <!--a href=\"{{ 'mai' + 'lto' + ':' + part1 + part2 + part3 + part4 + part5 + part6 + part7 }}\"><u>Email us</u> </a-->\n      <a href=\"{{ 'mai' + 'lto' + ':' + email }}\"><u>Email us</u> </a>\n  </div>\n  \n  <p style=\"padding: 0 0 5em 0\"></p>\n<!-- End Page Content -->\n</div>\n\n","import { Component } from '@angular/core';\nimport { DomSanitizer, SafeStyle } from '@angular/platform-browser';\nimport { AuthService } from '../auth.service';\nimport { EMAILADDRESS } from '../config';\nimport { AnchorScrollService } from '../services/anchor-scroll.service';\n\n\ndeclare let gtag: Function;\n\n@Component({\n  selector: 'gd-start',\n  templateUrl: './start.component.html'\n})\nexport class StartComponent {\n\n  public currentUser: any = { userName: '', userId: 'None' };\n  public email: string;\n  \n  constructor(private sanitizer: DomSanitizer,\n    public auth: AuthService, public anchor: AnchorScrollService) {\n\n      \n\n    }\n\n  ngOnInit() {\n\n    this.anchor.listen();\n    this.auth.userProfile$.subscribe(userProfile => {\n      if (userProfile){\n        this.currentUser = {\n          userId: userProfile.sub.split(\"|\")[1],\n          userName: userProfile['http://example.com/username']\n        }\n        gtag('set', {'user_id': this.currentUser.userId});\n      }\n    });\n    /*\n    if (this.route.snapshot.data['loggedIn']) {\n      this.auth.userProfile$.subscribe(userProfile => {\n        this.currentUser = this.resolve.getUser(userProfile);\n      });\n      loggerthis.currentUser);\n    }\n    */\n\n    this.email = EMAILADDRESS;\n\n  }\n\n}\n","<div *ngIf=\"venue\" fxLayout=\"column\">\n  <gd-header *ngIf=\"venue\" title='{{ venue.name }}'\n    subtitle='{{ location }}' imageUrl=\"{{ venue.image }}\" userId='{{ currentUser.userId }}'>\n  </gd-header>\n  <div class=\"container\" fxLayout=\"row wrap\" fxLayout.xs=\"column\" fxFlex=\"100\">\n    <div class=\"gd-container\" fxLayout=\"column\" fxFlex=\"1 1 33%\" fxFlex.sm=\"1 1 50%\">\n      <p *ngIf=\"data.event\">The Band played on {{ data.event.date }}</p>\n      <p>{{ venue.comment }}</p>\n    </div>\n    <div class=\"gd-container\" fxLayout=\"column\" fxFlex=\"1 1 33%\" fxFlex.sm=\"1 1 50%\">\n      <img class=\"image\" [lazyLoad]=\"venue.thumbnail\" fxFlex=\"1 1 auto\">\n    </div>\n    <div *ngIf=\"venue.geoloc\" class=\"gd-container\" fxLayout=\"column\" fxFlex=\"1 1 33%\" fxFlex.sm=\"1 1 100%\">\n      <gd-map fxFlex=\"1 1 auto\" [style.height]=\"'100%'\" zoom=\"15\"\n        latitude=\"{{ venue.geoloc.lat }}\" longitude=\"{{ venue.geoloc.long }}\"></gd-map>\n    </div>\n  </div>\n\n  <div *ngIf=\"videos\">\n    <div class=\"gd-container\" fxLayout=\"column\" fxFlex=\"50\">\n      <gd-youtube videoId=\"{{ currentVideoId }}\" width=\"100%\"></gd-youtube>\n      <ng-select bindLabel=\"title\"\n                 [clearable]=\"false\"\n                 (change)=\"selectVideo()\"\n                 [searchable]=\"false\"\n                 [(ngModel)]=\"currentVideoId\">         \n        <ng-option [value]=\"v.videoId\" *ngFor=\"let v of videos\">\n            <img src=\"{{v.thumbnail}}\" height=\"40px\"/>\n            {{v.title}}\n        </ng-option>\n      </ng-select>\n    </div>\n  </div>\n  \n  <p class=\"gd-section\">All shows at the {{ venue.name }}:</p>\n  \n  <gd-shows [eventIds]=\"venue.eventIds\" [onOptions]=\"openOptionsDialog.bind(this)\"></gd-shows>\n  <gd-comments [userName]=\"currentUser.userName\" [currentUserId]=\"currentUser.userId\" [title]=\"venue.name+', '+location\"></gd-comments>\n  <br>\n  <gd-sharebuttons></gd-sharebuttons>\n</div>\n<p [style.margin-bottom]=\"'75px'\"></p>","import { Component } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { DataService } from '../services/data.service';\nimport { Venue } from '../services/types';\nimport { AuthService } from '../auth.service';\nimport { DeadEventInfo } from '../services/types';\nimport { DialogService } from '../services/dialog.service';\nimport { GoogleAnalyticsService } from '../services/google-analytics.service';\nimport { logger } from '../globals';\n\ndeclare let gtag: Function;\n\n@Component({\n  selector: 'gd-venue',\n  templateUrl: './venue.component.html'\n})\nexport class VenueComponent {\n  public venue: Venue;\n  protected location: string;\n  public videos: any;\n  public currentVideoId: string;\n  protected currentVideoIndex: number = 0;\n\n  protected currentUser: any = { userName: '', userId: 'None' };\n  \n  constructor(protected data: DataService, private router: Router,\n    private route: ActivatedRoute, public auth: AuthService, private dialog: DialogService,\n    protected googleAnalyticsService: GoogleAnalyticsService) {}\n  \n  async ngOnInit() {\n    this.auth.userProfile$.subscribe(userProfile => {\n      if (userProfile){\n        this.currentUser = {\n          userId: userProfile.sub.split(\"|\")[1],\n          userName: userProfile['http://example.com/username']\n        }\n        gtag('set', {'user_id': this.currentUser.userId});\n      }\n    });\n\n\n    this.route.paramMap.subscribe(async params => {\n      if (params.has('id')) {\n        this.venue = await this.data.getVenue(params.get('id'));\n      }\n      else {\n        this.router.navigate(['/mapselect'], { replaceUrl: true });\n      }\n\n\n      if (params.has('id') && this.venue.name) {\n        logger(this.venue)\n        //this.venue = await this.data.getVenue(params.get('id'));\n        this.location = (await this.data.getEventInfo(this.venue.eventIds[0])).location;\n        if (this.venue) {\n          this.videos = await this.data.getYoutubeList(this.venue.id, ['Grateful Dead', this.location, this.venue.name]);\n          if (this.videos) this.currentVideoId = this.videos[0].videoId;\n          logger(this.videos);\n        }\n      }\n      else {\n        this.router.navigate(['/mapselect'], { replaceUrl: true });\n      }\n    });\n\n\n\n    /*\n    this.route.paramMap.subscribe(async params => {\n      if (params.has('id')) {\n        this.venue = await this.data.getVenue(params.get('id'));\n        this.location = (await this.data.getEventInfo(this.venue.eventIds[0])).location;\n        if (this.venue) {\n          this.videos = await this.data.getYoutubeList(this.venue.id, ['Grateful Dead', this.location, this.venue.name]);\n          this.currentVideoId = this.videos[0].videoId;\n          logger(this.videos);\n        }\n      }\n      if (!this.venue) {\n        this.router.navigate(['/venue', (await this.data.getRandomVenue()).id],\n          { replaceUrl: true });\n      }\n    }); */\n  }\n\n  protected openOptionsDialog(event: DeadEventInfo) {\n    this.dialog.openMultiFunction(\n      event.venue+\", \"+event.date,\n      [\"Go to show\", \"Go to recording\"],\n      [() => this.router.navigate(['/show', event.id]),\n        () => this.openRecordingsDialog(event)]\n    );\n  }\n\n  private openRecordingsDialog(event: DeadEventInfo) {\n    this.dialog.openMultiFunction(\n      \"Recordings of '\"+event.venue+\", \"+event.date,\n      event.recordings.map(r => r.etreeId),\n      event.recordings.map(r => () => this.router.navigate(['/recording', r.id]) )\n    );\n  }\n\n  selectVideo(){\n    this.videos.forEach((v, i) => {\n      if (v.videoId === this.currentVideoId){\n        this.currentVideoIndex = i\n      }\n    })\n   this.googleAnalyticsService.eventEmitter(\"youtube select\", \"youtube\", ''+this.currentVideoIndex+' ('+this.currentVideoId+')', this.router.url);\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","\n// From http://www.tutorialspoint.com/javascript/array_map.htm\n\nif (!Array.prototype.map)\n{\n  Array.prototype.map = function(fun /*, thisp*/)\n  {\n    var len = this.length;\n    if (typeof fun !== \"function\")\n      throw new TypeError();\n\n    var res = new Array(len);\n    var thisp = arguments[1];\n    for (var i = 0; i < len; i++)\n    {\n      if (i in this)\n        res[i] = fun.call(thisp, this[i], i, this);\n    }\n\n    return res;\n  };\n}\n\nL.Control.FuseSearch = L.Control.extend({\n    \n    includes: L.Evented.prototype,\n    \n    options: {\n        position: 'topright',\n        title: 'Search',\n        panelTitle: '',\n        placeholder: 'Search',\n        caseSensitive: false,\n        threshold: 0.3,\n        maxResultLength: null,\n        showResultFct: null,\n        showInvisibleFeatures: true,\n        shouldSort: true\n    },\n    \n    initialize: function(options) {\n        L.setOptions(this, options);\n        this._panelOnLeftSide = (this.options.position.indexOf(\"left\") !== -1);\n    },\n    \n    onAdd: function(map) {\n        \n        var ctrl = this._createControl();\n        this._createPanel(map);\n        this._setEventListeners();\n        map.invalidateSize();\n        \n        return ctrl;\n    },\n    \n    onRemove: function(map) {\n        \n        this.hidePanel(map);\n        this._clearEventListeners();\n        this._clearPanel(map);\n        this._clearControl();\n        \n        return this;\n    },\n    \n    _createControl: function() {\n\n        var className = 'leaflet-fusesearch-control',\n            container = L.DomUtil.create('div', className);\n\n        // Control to open the search panel\n        var butt = this._openButton = L.DomUtil.create('a', 'button', container);\n        butt.href = '#';\n        butt.title = this.options.title;\n        var stop = L.DomEvent.stopPropagation;\n        L.DomEvent.on(butt, 'click', stop)\n                  .on(butt, 'mousedown', stop)\n                  .on(butt, 'touchstart', stop)\n                  .on(butt, 'mousewheel', stop)\n                  .on(butt, 'MozMousePixelScroll', stop);\n        L.DomEvent.on(butt, 'click', L.DomEvent.preventDefault);\n        L.DomEvent.on(butt, 'click', this.showPanel, this);\n\n        return container;\n    },\n    \n    _clearControl: function() {\n        // Unregister events to prevent memory leak\n        var butt = this._openButton;\n        var stop = L.DomEvent.stopPropagation;\n        L.DomEvent.off(butt, 'click', stop)\n                  .off(butt, 'mousedown', stop)\n                  .off(butt, 'touchstart', stop)\n                  .off(butt, 'mousewheel', stop)\n                  .off(butt, 'MozMousePixelScroll', stop);\n        L.DomEvent.off(butt, 'click', L.DomEvent.preventDefault);\n        L.DomEvent.off(butt, 'click', this.showPanel);\n    },\n    \n    _createPanel: function(map) {\n        var _this = this;\n\n        // Create the search panel\n        var mapContainer = map.getContainer();\n        var className = 'leaflet-fusesearch-panel',\n            pane = this._panel = L.DomUtil.create('div', className, mapContainer);\n        \n        // Make sure we don't drag the map when we interact with the content\n        var stop = L.DomEvent.stopPropagation;\n        L.DomEvent.on(pane, 'click', stop)\n                .on(pane, 'dblclick', stop)\n                .on(pane, 'mousedown', stop)\n                .on(pane, 'touchstart', stop)\n                .on(pane, 'mousewheel', stop)\n                .on(pane, 'MozMousePixelScroll', stop);\n\n        // place the pane on the same side as the control\n        if (this._panelOnLeftSide) {\n            L.DomUtil.addClass(pane, 'left');\n        } else {\n            L.DomUtil.addClass(pane, 'right');\n        }\n\n        // Intermediate container to get the box sizing right\n        var container = L.DomUtil.create('div', 'content', pane);\n        \n        var header = L.DomUtil.create('div', 'header', container);\n        if (this.options.panelTitle) {\n           var title = L.DomUtil.create('p', 'panel-title', header);\n            title.innerHTML = this.options.panelTitle;\n        }\n        \n        // Search image and input field\n        L.DomUtil.create('img', 'search-image', header);\n        this._input = L.DomUtil.create('input', 'search-input', header);\n        this._input.maxLength = 30;\n        this._input.placeholder = this.options.placeholder;\n        this._input.onkeyup = function(evt) {\n            var searchString = evt.currentTarget.value;\n            _this.searchFeatures(searchString);\n        };\n\n        // Close button\n        var close = this._closeButton = L.DomUtil.create('a', 'close', header);\n        close.innerHTML = '&times;';\n        L.DomEvent.on(close, 'click', this.hidePanel, this);\n        \n        // Where the result will be listed\n        this._resultList = L.DomUtil.create('div', 'result-list', container); \n        \n        return pane;\n    },\n    \n    _clearPanel: function(map) {\n\n        // Unregister event handlers\n        var stop = L.DomEvent.stopPropagation;\n        L.DomEvent.off(this._panel, 'click', stop)\n                  .off(this._panel, 'dblclick', stop)\n                  .off(this._panel, 'mousedown', stop)\n                  .off(this._panel, 'touchstart', stop)\n                  .off(this._panel, 'mousewheel', stop)\n                  .off(this._panel, 'MozMousePixelScroll', stop);\n\n        L.DomEvent.off(this._closeButton, 'click', this.hidePanel);\n        \n        var mapContainer = map.getContainer();\n        mapContainer.removeChild(this._panel);\n        \n        this._panel = null;\n    },\n    \n    _setEventListeners : function() {\n        var that = this;\n        var input = this._input;\n        this._map.addEventListener('overlayadd', function() {\n            that.searchFeatures(input.value);\n        });\n        this._map.addEventListener('overlayremove', function() {\n            that.searchFeatures(input.value);\n        });\n    },\n    \n    _clearEventListeners: function() {\n        this._map.removeEventListener('overlayadd');\n        this._map.removeEventListener('overlayremove');        \n    },\n    \n    isPanelVisible: function () {\n        return L.DomUtil.hasClass(this._panel, 'visible');\n    },\n\n    showPanel: function () {\n        if (! this.isPanelVisible()) {\n            L.DomUtil.addClass(this._panel, 'visible');\n            // Preserve map centre\n            this._map.panBy([this.getOffset() * 0.5, 0], {duration: 0.5});\n            this.fire('show');\n            this._input.select();\n            // Search again as visibility of features might have changed\n            this.searchFeatures(this._input.value);\n        }\n    },\n\n    hidePanel: function (e) {\n        if (this.isPanelVisible()) {\n            L.DomUtil.removeClass(this._panel, 'visible');\n            // Move back the map centre - only if we still hold this._map\n            // as this might already have been cleared up by removeFrom()\n            if (null !== this._map) {\n                this._map.panBy([this.getOffset() * -0.5, 0], {duration: 0.5});\n            };\n            this.fire('hide');\n            if(e) {\n                L.DomEvent.stopPropagation(e);\n            }\n        }\n    },\n    \n    getOffset: function() {\n        if (this._panelOnLeftSide) {\n            return - this._panel.offsetWidth;\n        } else {\n            return this._panel.offsetWidth;\n        }\n    },\n\n    indexFeatures: function(data, keys) {\n\n        var jsonFeatures = data.features || data;\n        \n        this._keys = keys;\n        var properties = jsonFeatures.map(function(feature) {\n            // Keep track of the original feature\n            feature.properties._feature = feature;\n            return feature.properties;\n        });\n        \n        var options = {\n            keys: keys,\n            caseSensitive: this.options.caseSensitive,\n            threshold : this.options.threshold\n        };\n        \n        this._fuseIndex = new Fuse(properties, options);\n    },\n    \n    searchFeatures: function(string) {\n        \n        var result = this._fuseIndex.search(string);\n\n        // Empty result list\n        var listItems = document.querySelectorAll(\".result-item\");\n        for (var i = 0 ; i < listItems.length ; i++) {\n            listItems[i].remove();\n        }\n\n        var resultList = document.querySelector('.result-list');\n        var num = 0;\n        var max = this.options.maxResultLength;\n        for (var i in result) {\n            var props = result[i].item;         // fix: added .item\n            var feature = props._feature;\n            var popup = this._getFeaturePopupIfVisible(feature);\n            \n            if (undefined !== popup || this.options.showInvisibleFeatures) {\n                this.createResultItem(props, resultList, popup);\n                if (undefined !== max && ++num === max)\n                    break;\n            }\n        }\n    },\n    \n    refresh: function() {\n        // Reapply the search on the indexed features - useful if features have been filtered out\n        if (this.isPanelVisible()) {\n            this.searchFeatures(this._input.value);\n        }\n    },\n    \n    _getFeaturePopupIfVisible: function(feature) {\n        var layer = feature.layer;\n        if (undefined !== layer && this._map.hasLayer(layer)) {\n            return layer.getPopup();\n        }\n    },\n    \n    createResultItem: function(props, container, popup) {\n\n        var _this = this;\n        var feature = props._feature;\n\n        // Create a container and open the associated popup on click\n        var resultItem = L.DomUtil.create('p', 'result-item', container);\n        \n        if (undefined !== popup) {\n            L.DomUtil.addClass(resultItem, 'clickable');\n            resultItem.onclick = function() {\n                \n                if (window.matchMedia(\"(max-width:480px)\").matches) {\n                    _this.hidePanel();\n                    feature.layer.openPopup();\n                } else {\n                    _this._panAndPopup(feature, popup);\n                }\n            };\n        }\n\n        // Fill in the container with the user-supplied function if any,\n        // otherwise display the feature properties used for the search.\n        if (null !== this.options.showResultFct) {\n            this.options.showResultFct(feature, resultItem);\n        } else {\n            str = '<b>' + props[this._keys[0]] + '</b>';\n            for (var i = 1; i < this._keys.length; i++) {\n                str += '<br/>' + props[this._keys[i]];\n            }\n            resultItem.innerHTML = str;\n        };\n\n        return resultItem;\n    },\n    \n    _panAndPopup : function(feature, popup) {\n        // Temporarily adapt the map padding so that the popup is not hidden by the search pane\n        if (this._panelOnLeftSide) {\n            var oldPadding = popup.options.autoPanPaddingTopLeft;\n            var newPadding = new L.Point(- this.getOffset(), 10);\n            popup.options.autoPanPaddingTopLeft = newPadding;\n            feature.layer.openPopup();\n            popup.options.autoPanPaddingTopLeft = oldPadding;\n        } else {\n            var oldPadding = popup.options.autoPanPaddingBottomRight;\n            var newPadding = new L.Point(this.getOffset(), 10);\n            popup.options.autoPanPaddingBottomRight = newPadding;\n            feature.layer.openPopup();\n            popup.options.autoPanPaddingBottomRight = oldPadding;\n        }\n    }\n});\n\nL.control.fuseSearch = function(options) {\n    return new L.Control.FuseSearch(options);\n};\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","/* (ignored) */"]}